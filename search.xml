<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>01背包笔记</title>
      <link href="//posts/829adb17/"/>
      <url>//posts/829adb17/</url>
      <content type="html"><![CDATA[<h1 id="01背包问题描述"><a href="#01背包问题描述" class="headerlink" title="01背包问题描述"></a>01背包问题描述</h1><p>已知:有一个容量为V的背包和N件物品，第i件物品的重量是weight[i]，收益是cost[i]。</p><p>限制:每种物品只有一件，可以选择放或者不放</p><p>问题:在不超过背包容量的情况下，最多能获得多少价值或收益</p><p>相似问题:在恰好装满背包的情况下，最多能获得多少价值或收益</p><p>这里，我们先讨论在不超过背包容量的情况下，最多能获得多少价值或收益。<br><a id="more"></a></p><h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><h2 id="问题特点"><a href="#问题特点" class="headerlink" title="问题特点"></a>问题特点</h2><p>每种物品只有一件，可以选择放或者不放。</p><h2 id="子问题"><a href="#子问题" class="headerlink" title="子问题"></a>子问题</h2><p>定义f[i][v]:前i件物品放到一个容量为v的背包中可以获得的最大价值。</p><h2 id="状态转移方程"><a href="#状态转移方程" class="headerlink" title="状态转移方程"></a>状态转移方程</h2><p>f[i][v]=max(f[i - 1][v],f[i - 1][v - weight[i]] + cost[i])</p><p>代码：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= W; j++)  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="keyword">if</span>(j &lt; w[i])    dp[i][j]  = dp[i<span class="number">-1</span>][j];  </span><br><span class="line">            <span class="keyword">else</span> dp[i][j] =  max(dp[i<span class="number">-1</span>][j], dp[i<span class="number">-1</span>][j - w[i]] + v[i]);  </span><br><span class="line">        &#125;  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p><p>即对于第i件物品，放入背包或者不放入背包。</p><h2 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h2><p>考虑我们的子问题，将前i件物品放到容量为v的背包中，若我们只考虑第i件物品时，它有两种选择，放或者不放。</p><ol><li>如果第i件物品不放入背包中，那么问题就转换为：将前i - 1件物品放到容量为v的背包中，带来的收益f[i - 1][v]</li><li>如果第i件物品能放入背包中，那么问题就转换为：将前i - 1件物品放到容量为v - weight[i]的背包中，带来的收益f[i - 1][v - weight[i]] + cost[i]。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">3</span>;<span class="comment">//物品个数</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> V = <span class="number">5</span>;<span class="comment">//背包最大容量</span></span><br><span class="line"><span class="keyword">int</span> weight[N + <span class="number">1</span>] = &#123;<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>&#125;;<span class="comment">//物品重量</span></span><br><span class="line"><span class="keyword">int</span> value[N + <span class="number">1</span>] = &#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">20</span>&#125;;<span class="comment">//物品价值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> f[N + <span class="number">1</span>][V + <span class="number">1</span>] = &#123;&#123;<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">目标：在不超过背包容量的情况下，最多能获得多少价值</span></span><br><span class="line"><span class="comment">子问题状态:f[i][j]:表示前i件物品放入容量为j的背包得到的最大价值</span></span><br><span class="line"><span class="comment">状态转移方程:f[i][j] = max&#123;f[i - 1][j],f[i - 1][j - weight[i]] + value[i]&#125;</span></span><br><span class="line"><span class="comment">初始化:f数组全设置为0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Knapsack</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(f,<span class="number">0</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line">    <span class="comment">//递推</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= N;i++) <span class="comment">//枚举物品</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= V;j++) <span class="comment">//枚举背包容量</span></span><br><span class="line">        &#123;</span><br><span class="line">            f[i][j] = f[i - <span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span> (j &gt;= weight[i])</span><br><span class="line">            &#123;</span><br><span class="line">                f[i][j] = Max(f[i - <span class="number">1</span>][j],f[i - <span class="number">1</span>][j - weight[i]] + value[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[N][V];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;Knapsack()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="效率分析"><a href="#效率分析" class="headerlink" title="效率分析"></a>效率分析</h2><p>以上算法的时间复杂度为O（N*V），空间复杂度也是O（N*V）。其中N代表物品的个数，V是背包的容量。</p><p>时间复杂度不可以再优化了，但是空间复杂度是可以继续优化到O(V)。</p><h3 id="优化分析"><a href="#优化分析" class="headerlink" title="优化分析"></a>优化分析</h3><p>可以只用f[V]表示中间状态。根据状态转移方程：</p><p>f[i][v]=max(f[i - 1][v],f[i - 1][v - weight[i]] + cost[i])</p><p>要想得到f[i][v]只需要知道 f[i - 1][v] 和 f[i - 1][v - weight[i]]。</p><p>我的理解：由于只有一位数组，所以在求得f[i][v]之后，就要把f[i - 1][v]覆盖掉了。</p><p>因此求f数组的方法如下：</p><ol><li>初始状态：计算前1件物品放到容量为V的背包中带来的收益。</li><li>递推关系：在i&gt;=2时，根据前i-1个物品放到容量为v中的背包中带来的收益，即用二维数组的时候的f[i-1][v]。根据前i-1个物品放到容量为v-weight[i]的背包中带来的收益，即用二维数组的时候的f[i-1][v-weight[i]]。计算f[i-1][v-weight[i]]+cost[i]。</li><li>在执行第i次循环之前，f[0~v]中保存的是第i-1次循环的结果，即是前i-1个物体分别放到容量0~V时的最大值，即f[i-1][0~V]。</li><li>由递推公式：f[i][v]=max(f[i - 1][v],f[i - 1][v - weight[i]] + cost[i])可以看出：在更新f[v]的时候，要用到f[v]和f[v-weight[i]]则两个值，因此需要<strong>逆序</strong>更新。即从V…0更新。</li></ol><p>逆序更新数组的原因：</p><p>我们是由第 i-1 次循环的两个状态推出第i个状态的，而且v&gt;v-weight[i]，则对于第i次循环，背包容量只有当V..0循环时，才会先处理背包容量为v的状况，后处理背包容量为 v-weight[i] 的情况。</p><p>具体来说，由于，在执行v时，还没执行到v - weight[i]的，因此，f[v-weight[i]]保存的还是第i - 1次循环的结果。即在执行第i次循环 且 背包容量为v时，此时的f[v]存储的是 f[i-1][v] ，此时f[v-weight[i]]存储的是f[i-1][v-weight[i]]。</p><p>相反，如果在执行第 i 次循环时，背包容量按照0..V的顺序遍历一遍，来检测第 i 件物品是否能放。此时在执行第i次循环 且 背包容量为v时，此时的f[v]存储的是 f[i - 1][v] ，但是，此时f[v-weight[i]]存储的是f[i][v-weight[i]]。</p><p>举例子就是，假设更新f[8]要用到f[8]和f[6]，更新f[6]要用到f[6]和f[4]，如果先更新了f[4]，那么就无法更新后面的f[6]和f[8]。</p><p>因此伪代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1.</span>.N <span class="comment">//枚举物品</span></span><br><span class="line">    <span class="keyword">for</span> v=V.<span class="number">.0</span> <span class="comment">//枚举容量，从大到小</span></span><br><span class="line">        f[v]=max&#123;f[v],f[v-weight[i]] + cost[i]&#125;;</span><br></pre></td></tr></table></figure></p><p>多说一点，顺序更新数组（顺序枚举容量）是<strong>完全背包问题</strong>的最佳解决方案。</p><h3 id="常数阶优化1"><a href="#常数阶优化1" class="headerlink" title="常数阶优化1"></a>常数阶优化1</h3><p>根据前文说的，使用一维数组描述状态更新的伪代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1.</span>.N <span class="comment">//枚举物品</span></span><br><span class="line">    <span class="keyword">for</span> v=V.<span class="number">.0</span> <span class="comment">//枚举容量，从大到小</span></span><br><span class="line">        f[v]=max&#123;f[v],f[v-weight[i]] + cost[i]&#125;;</span><br></pre></td></tr></table></figure></p><p>对于第i个物品，枚举容量到weight[i]就可以停止了。一是可以防止越界，二是容量为负的背包无意义。</p><p>因此伪代码可以更新为<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1.</span>.N <span class="comment">//枚举物品</span></span><br><span class="line">    <span class="keyword">for</span> v=V..weight[i] <span class="comment">//枚举容量，从大到小</span></span><br><span class="line">        f[v]=max&#123;f[v],f[v-weight[i]] + cost[i]&#125;;</span><br></pre></td></tr></table></figure></p><p>还有一个小优化就是，先处理花费较大的物品，这样可以使后续物品的循环次数更少。因此可以先把物品按照花费从大到小排序。</p><h3 id="常数阶优化2"><a href="#常数阶优化2" class="headerlink" title="常数阶优化2"></a>常数阶优化2</h3><p>在常数阶优化1中，我们把下界定为了weight[i]，意思是，至少需要weight[i]才可以放下第i个物品。</p><p>继续想如下情况，加入这个背包的容量非常非常大，大到能把i及之后的所有的物品全放进去。这时，就没有必要再去计算之后的情况了。即对于物品i，计算小于V-sum{weight[i..n]}的v的值，无意义，反正所有东西都能放进去。</p><p>也就是说，我们可以把下界调整到bound=max{V-sum{weight[i..n]},weight[i]}。</p><p>代码如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1.</span>.N <span class="comment">//枚举物品</span></span><br><span class="line">    bound=max&#123;V-sum&#123;weight[i..n]&#125;,weight[i]&#125;<span class="comment">//确定需要枚举容量的下界</span></span><br><span class="line">    <span class="keyword">for</span> v=V..bound</span><br><span class="line">        f[v]=max&#123;f[v],f[v-weight[i]] + cost[i]&#125;;</span><br></pre></td></tr></table></figure></p><p>这个优化对于V很大的情况下，效果很好。</p><h2 id="举个例子"><a href="#举个例子" class="headerlink" title="举个例子"></a>举个例子</h2><p>这个例子没有对weight进行排序。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">3</span>;<span class="comment">//物品个数</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> V = <span class="number">5</span>;<span class="comment">//背包最大容量</span></span><br><span class="line"><span class="keyword">int</span> weight[N + <span class="number">1</span>] = &#123;<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>&#125;;<span class="comment">//物品重量</span></span><br><span class="line"><span class="keyword">int</span> value[N + <span class="number">1</span>] = &#123;<span class="number">0</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">20</span>&#125;;<span class="comment">//物品价值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> f[V + <span class="number">1</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Max</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt; y ? x : y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">目标：在不超过背包容量的情况下，最多能获得多少价值</span></span><br><span class="line"><span class="comment">子问题状态:f[j]:表示前i件物品放入容量为j的背包得到的最大价值</span></span><br><span class="line"><span class="comment">状态转移方程:f[j] = max&#123;f[j],f[j - weight[i]] + value[i]&#125;</span></span><br><span class="line"><span class="comment">初始化:f数组全设置为0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Knapsack</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;<span class="comment">//存储还未处理物品的总容量</span></span><br><span class="line">    <span class="keyword">int</span> bound = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(f,<span class="number">0</span>,<span class="keyword">sizeof</span>(f));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= N;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += weight[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//递推</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= N;i++) <span class="comment">//枚举物品</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//设置下界</span></span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            sum -= weight[i - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        bound = Max(V - sum,weight[i]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = V;j &gt;= bound;j--) <span class="comment">//枚举背包容量</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (f[j] &lt; f[j - weight[i]] + value[i])</span><br><span class="line">            &#123;</span><br><span class="line">                f[j] = f[j - weight[i]] + value[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> f[V];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;Knapsack()&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 动态规划 </tag>
            
            <tag> 01背包 </tag>
            
            <tag> NP-Hard </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>读研日记</title>
      <link href="//posts/52379290/"/>
      <url>//posts/52379290/</url>
      <content type="html"><![CDATA[<script src="/crypto-js.js"></script><script src="/mcommon.js"></script><h3 id="encrypt-message">输入密码访问</h3><link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css"> <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap-theme.min.css"> <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script> <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> <div id="security"> <div> <div class="input-group"> <input type="text" class="form-control" aria-label="Enter the password." id="pass"/> <div class="input-group-btn"> <button type="button" class="btn btn-default" onclick="decryptAES()">Decrypt</button> </div> </div> </div> </div> <div id="encrypt-blog" style="display:none"> U2FsdGVkX19ZWiS9lIiNcbOKEwLp+7k+euz6hyC9SrCqnNR7bX0IXg/1dRxct8aKccOlMe1RMaf0eyxR2AjRr6MBsZGl+gEv4LLWN94N33E+EJXRcrxKUnEuV2Uf2Upns9O8WQLAwhlPO6AFHbe08C5Nj1tJVjqKyZPytBAALJkJY/J8UOAO2vmbmlv/DGPCvhLvkblelXUpgW/7BbYuwQYpX20WKJ67iOJCxVWAsH7xKWnv/1fDyJtrCpjV0GSPNvf60Qgecq5/h6lDGwR1Q6GznInRzsHyS13WRz07msigkospd0iJ9DdaXdb6nZQ9rT6b6CmDrlOMJuHJCr7ZgPd3jV7vUIWl7eqchkWAKzchx0lBghvn9MaxoAQfZqeYkt+xdI2Ux/znzuSogoUJg7554aNOiQ3ruD4oYzQ0yaasn2J3vyn35mjVmlKGRb0O+9Z3TXHfOBNo4i7PI/bxVZQsbyyTTO8MLqu7PnIbBE0qD6wIdXRpoHvPgkV6I1YnKflvMXbxmytgtnHaWpmiGNsUMxcMDHm26TnH+iseyPtsV3BR8ICHHAXf6yg2pkisCCB7mVRApTfktIOH8FduGPWmu9OyAmXzkvd06AUdVZW/PgYP11/WsnHESxk+0zBnCGeiKhy7k7GszME5jRoFaPdAWYcqrqZDq66LzcNDJdPiHTSPg0BGKi5z6fCrSnCjjZhyTpBr6Glfm7q0BxVwdjXTt7hvx86xf1mRXkIR0JooBkg9m+hxnU8FI8wvcISK1nB2UjXl4akce7fSFXtP2mrrAZE6ef3rB+WMXJ6ub4EtdQ5n9TdipMzefYcoL1RPVX81/lMuScB3vGiuRUsNdFSG+CUkEVKGtrENG8aVQM5DLL2/QGFsXyvZD5l1JfPyIo9ON9yV+ed716+c7Rfh6rIYt5bz4Qc9f2RWzHW+Sm84DzxFLq8kWqw8a+9SHuIMILWiwGg5an3g6jRI9NlANSLVpq7aaK54ijGURlfb8U5wziXaldTE1OQdpsNpQ20T/p4ctforGYYabDrEthihyNOzbziOiVodf3Q0Fb7DjXdGoabIEUCG0ChzS9gCGVZdWyJf2KGdkjq7KdndYZzPFVFsxJx3g/b+I9GmJtnzGqg8VgvQkZp376kkDqETdiN2XpnfPlpceRKtnxhxDWiwrWF6thOOkOxVXMTZs3maNp1fyBzQP3ZZLRM0Tz1ogzsupxMS8bkmwc6xQifok1jro1+Nan7MVRZ/j+GVqVbE7ZTRv+KiK1aPFQELYz9Ra3d9jgL5mzlk6L/r1l+GAAucReGzik44X5MBvmLejBL8F0ZcWHxVuM7mIerfC5FRnAEX/CCy0JVQ7IVOjDYLJWf3OcuUOgfrlmYHOJUyXz7ZwI9ZWZb1VmCgIZZebuBWoHaw5CrnByFIhW0VLOG+lxgwHSjo6jrLe+JR3HOMwnQzgJ9wPJJy1jFeXf4YIHPAHkEayweP2ro0P5Tb+MKLkuXf4uHCn6linWz+NI31oIYTm8V5yvxHh5H+lutWrrVCbpTYfwvsAUzY1k7eGe5yZ4kwvCDP6HnQA01OfzhCh8QjE9BCySOMWIWBPG094Rtbk8Fc87b6AXey5JQeElyN6/5yh+iO2oDrWHDdTgc7D42CQjHlk/RsmPPdRdcIITY3nvJfqgIxlIcWE1JfeutF44gaa+TrPqycTyLRTdALgZuq3h/GnSY7iPjoHBD7NT+s8wF8nDzzpFSBlrhYiqFfBJxzcYS2AsE+TEXMCeOhznEm1YTdLRI+XbnMieAD0NyEYcEsHpzTcujLZ3OQ2JZ1w6/EIUbrmIPzzb5uOFs73Mns3cX26d8QJM+cLgv2VeeugkrI7x0VIXsGuZfS09Exp94/7m55e6OZTiScGfjIT2G6B+sGLZCa3tJ/lo2IJ53ZRVqI04yxmW3zDTTjGB3wPgX5aSLlTTY+q4F++AgjMC8L34lj4Xxu9qScVpuWv+HtDGcz3nmnhCLpOmO5X9nrdV+MIzic7V65gwFqAi7NuHl5ZwsQS2r0rfet+q4jDi2D+lUFyepHO4Y5z/YGy20kb4pN96NkoNX6Nc5xpMRl4GbSDxxq7Q5cIOoVzllZTFHVolrZM1Gp9aN9QtgUypd1SSdPvdNSRkfskoeArfSD+6g9Fpl0A7SjZpSJxXebKqdHOTnfmNJD0Xk3/QEUt5yEJLZfsqdL7o47YMvVfn3kAtjFvDMIxDcG+s2oUo0AHl3mY+eXKb77XdNrcPe7c3W0Rw/ubp8XsfH6b4iC9gyETlUQwgEO77QmfF5lCVNY/kNJwiE+RLeYu6rrdb2JrGxCggozpHt6QLZzcnc4U/JQsqG0vrQHi6AQEwhLfVEkQyj1iASucAdi4+7esLefdof5KF7OAv+cZOltoWvbNDwV04FjfIikJrRn4spXaUz4jMIwlQGsoOWQyofz1x15boJZaBK4C7Xlibvbfg+LdLMU8KkfRxD23gjl+zTV8/Mgkddc+goT8y9FOvhpCJon1mGFDpRixi0Z8gAxkMUTxGB8Hd5F7qxQ3ZeXzRlGU8s0Bpg26btccRPgIDbvwG1vHdHJdig4P59hJCGwfaGaylFNdxbmzjWCHp9twUBBO0pWTgvE3VciX5owfpWihh59Wo4q96ub1a2KfQjjeMNBEN1rG4YWOV1IFoP1CcsGjKWiDhqHpP97usO35q0HtirvkpFm/ZYc5B7HIrlKsNse+DnqnH05z/dia1LvKH9di8W7/M0Rc91mzsq8u1DVMeRewBQLW9+tWP+nalZnE6uVOsATrwcs3vrn5fKex2UPP+fwSpTaZ+HSWUYdjsazKGj3v6NABcctFN9i59/8PKdy1jZBRT9dsL+4ETvIv9dTfazPBn4Cx9985hfdMCYjMdab3tuI+IPBkQ+kDn8s3EXYQLMMEqYQiYfsfLb5WW9KuesZAQ9UrRAH+Z9KEl4ueH2RqIx54YlCZQUdqE1xKwjyXOh5lEHoJTd3xePGdb6qvl/OD0iyFhjCHPby0nXSo8y70aDeGsOOVnaP6vk1YqMMwZWlcLrQY/pEa96TUTP2SF7zm5hzarRjSoazpD+YqUveEo/z2RGJTyL73W4hje4H4ct3Srd/pG+4EvDuX3iLpDEUA0v9hy/SvFoFsqXKaacTv6tvPywKZwoUoAJdgTwjOEZGXgdBB31kGk3L1htudDdDGevk55UoMVpTPO7SfJIBkYCYC2R2RQrNkltWcBtxn1fpKOv4xieg2WtROVgMsjd94Q0k/xNitdxfMX4ZIVcfSDVqLYLE3SP5O4gHthcwrAlVB4QHJKL/dWL/vlGkehj80pCtjUfp+nxH4WeE68PoYhoywRc1NQ6T7VGhCq9+x282m6Y874OfCSSH3bffruftE0t1iNDqDbqWmuqDYnVa/znRPsyYCKonLkwOXE4uDq4MZ3GOAtpFxtr7bP1hE8sm9yFPWQncfazyzRl6miCTrK18DDYrXA6ekp3p+K3HyYkRFyQkqA6SImhFhYRqTOCHenlMgj+J4tZuY3lcsFI3vgGXANZWxSvP7B6+QsWzByktCoCk/iWRoxTlomjetowm0DmdWB1LNSqE+BYl21MKuLlliEfQs0lh1nBbscJyN+gwvHelGFeggdoZeSx1wwlrSkYt6LROCboGxfooB6iIm53X/87IsZO1pLi7zf2Yv80NrRRQDnK1KoVqgGfg/7lyivgqBc2uycOSf+hVe+DWuFRznbgsNuXyafUGQVrwuNuhL5YBQg0nsccwAMpF1DKRg6To8tP4bGPucrPJNPofjO5kzaibkXZRKNTnoUg4MlDYI1rtGowHS9QsegoqpBEVz0j4D3EbE/WmEMM/rQ2TBcsjLlQ/Pe7fl5V8SZSMm+eY3GYGQg2PnejqbpUl96+bodyGUauRdsZvBuLzEN/8YMCUibvuYPyOZYq9V6wLANnfkh1Pcu+QXNyAH9XpxV4V6LcjHIp9ogvze5gOWySpAx4A4b3+aoQk5ULLV4XeqLiEDDg6tjkLmS8mkyyrCbdViLsOAEyFDm3S48g62FRHxG+FgNOpe4xSG/EOiPIXJnqOxb0XGUXuODlgBpVWkr/YwhOO1P/amjiHemXvk1QqUj+uBG4vtnxdtId3ClG1ZOZ/MhcGCcrEaIC7tprLU+/VoIdb8f8bImkdBr/5nvw3lwlhQ32BOS66ShydRDhAwDd8A79yrLOWdnsTvtdfwH6WXY8qToUWF/N4qmvoW9S+bH6rZfrFsB0bthW+nQHDbp9SGWxqW4IUN+Fsud005i5fyz6j4MlFItACO0UvsxiuZgZVf3ATv6qfJbZKApU4/RhQhPJyqGedROBGzn5IH9UmnIFHhEh8hYmWkZfIMbLHsizxqbBhJ2jUxlrX6ettznYP0Rq8r4xYlL+eddHLEuMSKe5FMYFgc8AdjprAVyeczPLC9RdHaTa78F99gaVfxkAZMEL34e4b9Y352zmwSTiskTidQlmcsaqLG4o1j1Qucp8vHIt6WlNGciUWNMP8WabaMkaiBU4YI60MeEQcuOBFRfdqG7Lx3Ipm1ryB6Rok0qH3QG65jmcjw2Zzlmsczb3p8NcNXjStozztc7B0O34gRWIf3PR7zZ8OOQxrk2dGwfvQXltDOFEa8KaBRS20LM8JI2oTmmE= </div>]]></content>
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日记 </tag>
            
            <tag> 研究生 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2996 Help Me with the Game</title>
      <link href="//posts/a5731d96/"/>
      <url>//posts/a5731d96/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2996" target="_blank" rel="noopener">题目链接</a><br>帮我完成游戏<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Your task is to read a picture of a chessboard position and print it in the chess notation.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of an ASCII-art picture of a chessboard with chess pieces on positions described by the input. The pieces of the white player are shown in upper-case letters, while the black player’s pieces are lower-case letters. The letters are one of “K” (King), “Q” (Queen), “R” (Rook), “B” (Bishop), “N” (Knight), or “P” (Pawn). The chessboard outline is made of plus (“+”), minus (“-“), and pipe (“|”) characters. The black fields are filled with colons (“:”), white fields with dots (“.”).</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>The output consists of two lines. The first line consists of the string “White: “, followed by the description of positions of the pieces of the white player. The second line consists of the string “Black: “, followed by the description of positions of the pieces of the black player.</p><p>The description of the position of the pieces is a comma-separated list of terms describing the pieces of the appropriate player. The description of a piece consists of a single upper-case letter that denotes the type of the piece (except for pawns, for that this identifier is omitted). This letter is immediatelly followed by the position of the piece in the standard chess notation – a lower-case letter between “a” and “h” that determines the column (“a” is the leftmost column in the input) and a single digit between 1 and 8 that determines the row (8 is the first row in the input).</p><p>The pieces in the description must appear in the following order: King(“K”), Queens (“Q”), Rooks (“R”), Bishops (“B”), Knights (“N”), and pawns. Note that the numbers of pieces may differ from the initial position because of capturing the pieces and the promotions of pawns. In case two pieces of the same type appear in the input, the piece with the smaller row number must be described before the other one if the pieces are white, and the one with the larger row number must be described first if the pieces are black. If two pieces of the same type appear in the same row, the one with the smaller column letter must appear first.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>根据棋盘打印国际象棋的棋子。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>白色玩家的棋子用大写字母显示，黑色玩家的棋子用小写字母显示。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出由两行组成，第一行是字符串“White:”，后面跟白色棋子的描述，第二行是“Black”后面跟黑色棋子的描述。</p><p>每个棋子的描述由一个大写字母组成（如果不是Pawns的话）。然后紧跟的是棋子的位置，a~h用于确定列，1~8用于确定行（8是输入中的第一行）。</p><p>描述部分必须按照以下顺序出现：K,Q,R,B,N和Pawns。输出的排序规则如下：类型不同，按照前述顺序，如果 类型相同，白色棋子具有较小行号的优先，黑色棋子则是行号大的优先。如果仍然相同，则列较小的优先。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟</p><h2 id="代码-C"><a href="#代码-C" class="headerlink" title="代码 C++"></a>代码 C++</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> lieshu[<span class="number">9</span>] = &#123;<span class="string">'z'</span>, <span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>,<span class="string">'g'</span>,<span class="string">'h'</span> &#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">bool</span> xiaobing;</span><br><span class="line">    <span class="keyword">char</span> qizi;</span><br><span class="line">    <span class="keyword">char</span> lie;</span><br><span class="line">    <span class="keyword">int</span> hang;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">int</span>&gt;yingshe;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; Black;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; White;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    yingshe[<span class="string">'K'</span>] = <span class="number">6</span>;</span><br><span class="line">    yingshe[<span class="string">'Q'</span>] = <span class="number">5</span>;</span><br><span class="line">    yingshe[<span class="string">'R'</span>] = <span class="number">4</span>;</span><br><span class="line">    yingshe[<span class="string">'B'</span>] = <span class="number">3</span>;</span><br><span class="line">    yingshe[<span class="string">'N'</span>] = <span class="number">2</span>;</span><br><span class="line">    yingshe[<span class="string">'P'</span>] = <span class="number">1</span>;</span><br><span class="line">    yingshe[<span class="string">'k'</span>] = <span class="number">6</span>;</span><br><span class="line">    yingshe[<span class="string">'q'</span>] = <span class="number">5</span>;</span><br><span class="line">    yingshe[<span class="string">'r'</span>] = <span class="number">4</span>;</span><br><span class="line">    yingshe[<span class="string">'b'</span>] = <span class="number">3</span>;</span><br><span class="line">    yingshe[<span class="string">'n'</span>] = <span class="number">2</span>;</span><br><span class="line">    yingshe[<span class="string">'p'</span>] = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(node a, node b)</span><span class="comment">//白色的，行较小优先</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.xiaobing != b.xiaobing)</span><br><span class="line">        <span class="keyword">return</span>(a.xiaobing &lt; b.xiaobing);</span><br><span class="line">    <span class="keyword">if</span> (yingshe[a.qizi] != yingshe[b.qizi])</span><br><span class="line">        <span class="keyword">return</span> yingshe[a.qizi] &gt; yingshe[b.qizi];</span><br><span class="line">    <span class="keyword">if</span> (a.hang != b.hang)</span><br><span class="line">        <span class="keyword">return</span> a.hang &lt; b.hang;</span><br><span class="line">    <span class="keyword">if</span> (a.lie != b.lie)</span><br><span class="line">        <span class="keyword">return</span> a.lie &lt; b.lie;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(node a, node b)</span><span class="comment">//黑色的，行较大优先</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.xiaobing != b.xiaobing)</span><br><span class="line">        <span class="keyword">return</span>(a.xiaobing &lt; b.xiaobing);</span><br><span class="line">    <span class="keyword">if</span> (yingshe[a.qizi] != yingshe[b.qizi])</span><br><span class="line">        <span class="keyword">return</span> yingshe[a.qizi] &gt; yingshe[b.qizi];</span><br><span class="line">    <span class="keyword">if</span> (a.hang != b.hang)</span><br><span class="line">        <span class="keyword">return</span> a.hang &gt; b.hang;</span><br><span class="line">    <span class="keyword">if</span> (a.lie != b.lie)</span><br><span class="line">        <span class="keyword">return</span> a.lie &lt; b.lie;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> cntb = <span class="number">0</span>, cntw = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> t = <span class="number">17</span>;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="keyword">int</span> z = <span class="number">1</span>;</span><br><span class="line">    node temp;</span><br><span class="line">    <span class="keyword">while</span> (z++!=t)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">        <span class="keyword">if</span> (str[<span class="number">0</span>] == <span class="string">'+'</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[i] == <span class="string">'.'</span>||str[i]==<span class="string">':'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (str[i + <span class="number">1</span>] != <span class="string">'.'</span>&amp;&amp;str[i + <span class="number">1</span>] != <span class="string">':'</span>&amp;&amp;str[i + <span class="number">1</span>] != <span class="string">'|'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (str[i+<span class="number">1</span>]&lt;=<span class="string">'Z'</span>&amp;&amp;str[i+<span class="number">1</span>]&gt;=<span class="string">'A'</span>)<span class="comment">//大写字母，白色</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span> (str[i + <span class="number">1</span>] == <span class="string">'P'</span>)</span><br><span class="line">                            temp.xiaobing = <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            temp.xiaobing = <span class="literal">false</span>;</span><br><span class="line">                        temp.qizi = str[i + <span class="number">1</span>];</span><br><span class="line">                        temp.hang = (t - z + <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">                        temp.lie = (i + <span class="number">3</span>) / <span class="number">4</span>;</span><br><span class="line">                        White.push_back(temp);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">if</span> (str[i + <span class="number">1</span>] == <span class="string">'p'</span>)</span><br><span class="line">                            temp.xiaobing = <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                            temp.xiaobing = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">                        temp.qizi = str[i + <span class="number">1</span>];</span><br><span class="line">                        temp.hang = (t - z + <span class="number">2</span>) / <span class="number">2</span>;</span><br><span class="line">                        temp.lie = (i + <span class="number">3</span>) / <span class="number">4</span>;</span><br><span class="line">                        Black.push_back(temp);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(White.begin(), White.end(), cmp1);</span><br><span class="line">    sort(Black.begin(), Black.end(), cmp2);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"White: "</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; White.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (White[i].qizi != <span class="string">'P'</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; White[i].qizi;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; lieshu[White[i].lie] &lt;&lt; White[i].hang;</span><br><span class="line">        <span class="keyword">if</span> (i != White.size() - <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">','</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Black: "</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Black.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (Black[i].qizi != <span class="string">'p'</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%c"</span>, Black[i].qizi - <span class="string">'a'</span> + <span class="string">'A'</span>);<span class="comment">//小写换大写</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; lieshu[Black[i].lie] &lt;&lt; Black[i].hang;</span><br><span class="line">        <span class="keyword">if</span> (i != Black.size() - <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">','</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|.r.|:::|.b.|:q:|.k.|:::|.n.|:r:|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|:p:|.p.|:p:|.p.|:p:|.p.|:::|.p.|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|...|:::|.n.|:::|...|:::|...|:p:|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|:::|...|:::|...|:::|...|:::|...|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|...|:::|...|:::|.P.|:::|...|:::|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|:P:|...|:::|...|:::|...|:::|...|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|.P.|:::|.P.|:P:|...|:P:|.P.|:P:|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">|:R:|.N.|:B:|.Q.|:K:|.B.|:::|.R.|</span><br><span class="line">+---+---+---+---+---+---+---+---+</span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">White: Ke1,Qd1,Ra1,Rh1,Bc1,Bf1,Nb1,a2,c2,d2,f2,g2,h2,a3,e4</span><br><span class="line">Black: Ke8,Qd8,Ra8,Rh8,Bc8,Ng8,Nc6,a7,b7,c7,d7,e7,f7,h7,h6</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1573 Robot Motion</title>
      <link href="//posts/5035921d/"/>
      <url>//posts/5035921d/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1573" target="_blank" rel="noopener">题目链接</a><br>机器人移动<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>A robot has been programmed to follow the instructions in its path. Instructions for the next direction the robot is to move are laid down in a grid. The possible instructions are</p><ul><li>N north (up the page)</li><li>S south (down the page)</li><li>E east (to the right on the page)</li><li>W west (to the left on the page)</li></ul><p>For example, suppose the robot starts on the north (top) side of Grid 1 and starts south (down). The path the robot follows is shown. The robot goes through 10 instructions in the grid before leaving the grid.</p><p>Compare what happens in Grid 2: the robot goes through 3 instructions only once, and then starts a loop through 8 instructions, and never exits.</p><p>You are to write a program that determines how long it takes a robot to get out of the grid or how the robot loops around.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>There will be one or more grids for robots to navigate. The data for each is in the following form. On the first line are three integers separated by blanks: the number of rows in the grid, the number of columns in the grid, and the number of the column in which the robot enters from the north. The possible entry columns are numbered starting with one at the left. Then come the rows of the direction instructions. Each grid will have at least one and at most 10 rows and columns of instructions. The lines of instructions contain only the characters N, S, E, or W with no blanks. The end of input is indicated by a row containing 0 0 0.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each grid in the input there is one line of output. Either the robot follows a certain number of instructions and exits the grid on any one the four sides or else the robot follows the instructions on a certain number of locations once, and then the instructions on some number of locations repeatedly. The sample input below corresponds to the two grids above and illustrates the two forms of output. The word “step” is always immediately followed by “(s)” whether or not the number before it is 1.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>机器人按照指令移动，问最后是走出了矩阵还是进入了一个循环当中。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是三个整数，矩阵的行，矩阵的列，以及机器人最初所在的位置。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>如果机器人走出矩阵，输出t step(s) to exit  反之输出x step(s) before a loop of y step(s)</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h2 id="代码-C"><a href="#代码-C" class="headerlink" title="代码 C++"></a>代码 C++</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> m, n, Start;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt;G;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;visit;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; Start;</span><br><span class="line">        <span class="keyword">if</span> (!n &amp;&amp; !m &amp;&amp; !Start)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        G.clear(); visit.clear();</span><br><span class="line">        G.resize(n); visit.resize(n);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            G[i].resize(m); visit[i].resize(m);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cin</span> &gt;&gt; G[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>, loop = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = Start<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span> (visit[i][j] == <span class="number">1</span>)</span><br><span class="line">                loop++;</span><br><span class="line">            visit[i][j]++;</span><br><span class="line">            <span class="keyword">switch</span> (G[i][j])</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'N'</span>:</span><br><span class="line">                i--; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">                j++; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'W'</span>:</span><br><span class="line">                j--; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'S'</span>:</span><br><span class="line">                i++; <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (j &lt; <span class="number">0</span> || i &lt; <span class="number">0</span> || j &gt;= m || i &gt;= n)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="string">" step(s) to exit"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (visit[i][j] == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; cnt - loop - loop &lt;&lt; <span class="string">" step(s) before a loop of "</span> &lt;&lt; loop &lt;&lt; <span class="string">" step(s)"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">6</span> <span class="number">5</span></span><br><span class="line">NEESWE</span><br><span class="line">WWWESS</span><br><span class="line">SNWWWW</span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">1</span></span><br><span class="line">SESWE</span><br><span class="line">EESNW</span><br><span class="line">NWEEN</span><br><span class="line">EWSEN</span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> step(s) to <span class="built_in">exit</span></span><br><span class="line"><span class="number">3</span> step(s) before a loop of <span class="number">8</span> step(s)</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1860 Currency Exchange</title>
      <link href="//posts/d8ff61b5/"/>
      <url>//posts/d8ff61b5/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1860" target="_blank" rel="noopener">题目链接</a><br>交换货币<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Several currency exchange points are working in our city. Let us suppose that each point specializes in two particular currencies and performs exchange operations only with these currencies. There can be several points specializing in the same pair of currencies. Each point has its own exchange rates, exchange rate of A to B is the quantity of B you get for 1A. Also each exchange point has some commission, the sum you have to pay for your exchange operation. Commission is always collected in source currency.<br>For example, if you want to exchange 100 US Dollars into Russian Rubles at the exchange point, where the exchange rate is 29.75, and the commission is 0.39 you will get (100 - 0.39) * 29.75 = 2963.3975RUR.<br>You surely know that there are N different currencies you can deal with in our city. Let us assign unique integer number from 1 to N to each currency. Then each exchange point can be described with 6 numbers: integer A and B - numbers of currencies it exchanges, and real R<sub>AB</sub>, C<sub>AB</sub>, R<sub>BA</sub> and C<sub>BA</sub> - exchange rates and commissions when exchanging A to B and B to A respectively.<br>Nick has some money in currency S and wonders if he can somehow, after some exchange operations, increase his capital. Of course, he wants to have his money in currency S in the end. Help him to answer this difficult question. Nick must always have non-negative sum of money while making his operations.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The first line of the input contains four numbers: N - the number of currencies, M - the number of exchange points, S - the number of currency Nick has and V - the quantity of currency units he has. The following M lines contain 6 numbers each - the description of the corresponding exchange point - in specified above order. Numbers are separated by one or more spaces. 1&lt;=S&lt;=N&lt;=100, 1&lt;=M&lt;=100, V is real number, 0&lt;=V&lt;=10<sup>3</sup>.<br>For each point exchange rates and commissions are real, given with at most two digits after the decimal point, 10<sup>-2</sup>&lt;=rate&lt;=10<sup>2</sup>, 0&lt;=commission&lt;=10<sup>2</sup>.<br>Let us call some sequence of the exchange operations simple if no exchange point is used more than once in this sequence. You may assume that ratio of the numeric values of the sums at the end and at the beginning of any simple sequence of the exchange operations will be less than 10<sup>4</sup>.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>If Nick can increase his wealth, output YES, in other case output NO to the output file.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>有多种汇币，汇币之间可以交换，这需要手续费，当你用100A币交换B币时，A到B的汇率是29.75，手续费是0.39，那么你可以得到(100 - 0.39) * 29.75 = 2963.3975 B币。问s币的金额经过交换最终得到的s币金额数能否增加</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是4个数字，N-货币的种类，M-交易所的数量。S-Nick一开始Nick所持有的货币种类。V-Nick一开始持有的货币的额数量。</p><p>接着是M行，每行包括6个数字，整数A和B-这个交易所交换的货币的种类，R<sub>AB</sub>, C<sub>AB</sub>, R<sub>BA</sub> 和 C<sub>BA</sub>两种货币间的汇率和手续费。</p><p>汇率和手续费保留小数点后2位，10<sup>-2</sup>&lt;=汇率&lt;=10<sup>2</sup>, 0&lt;=手续费&lt;=10<sup>2</sup></p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>如果钱能越换越多，输出YES，反之输出NO。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这个题非常好，以前做最短路径的题，都真的是字面上的找最短路径。但是这个题是用BF算法找一个正权回路。</p><p>找出一条正权回路即可。</p><p>一种货币就是一个节点。</p><p>一个“兑换点”就是图上两种货币之间的一个兑换方式，是双边，但A到B的汇率和手续费可能与B到A的汇率和手续费不同。</p><p>唯一值得注意的是权值，当拥有货币A的数量为V时，A到A的权值为V，即没有兑换,而A到B的权值为(V-Cab)*Rab。</p><p>本题是“求最大路径”，之所以被归类为“求最小路径”是因为本题题恰恰与bellman-Ford算法的松弛条件相反，求的是能无限松弛的最大正权路径，但是依然能够利用bellman-Ford的思想去解题。</p><p>因此初始化dis(S)=V   而源点到其他点的距离（权值）初始化为无穷小（0），当s到其他某点的距离能不断变大时，说明存在最大路径；如果可以一直变大，说明存在正环。判断是否存在环路，用Bellman-Ford和spfa都可以。</p><h2 id="代码-C"><a href="#代码-C" class="headerlink" title="代码 C++"></a>代码 C++</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, s, cnt;<span class="comment">//n货币数量，m交易所数量，S初试货币的种类，V初始货币的数量，C为计数变量。</span></span><br><span class="line"><span class="keyword">double</span> v, dis[<span class="number">110</span>];</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="keyword">double</span> rate, cost;</span><br><span class="line">&#125;node;</span><br><span class="line">node p[<span class="number">220</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Bellman_Ford</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(dis, <span class="number">0</span>, <span class="keyword">sizeof</span>(dis));  <span class="comment">//此处与Bellman-Ford的处理相反，初始化为源点到各点距离0，到自身的值为原值</span></span><br><span class="line">    dis[s] = v;<span class="comment">//一开始自己到自己的数量是V</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; i++)<span class="comment">//限定最大循环次数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cnt; j++)<span class="comment">//遍历每个交易所中，求得能换最多钱的</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> a = p[j].a, b = p[j].b;</span><br><span class="line">            <span class="keyword">double</span> r = p[j].rate, c = p[j].cost;</span><br><span class="line">            <span class="keyword">if</span> (dis[b] &lt; (dis[a] - c) * r)</span><br><span class="line">            &#123;</span><br><span class="line">                dis[b] = (dis[a] - c) * r;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!flag)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; cnt; i++)</span><br><span class="line">        <span class="keyword">if</span> (dis[p[i].b] &lt; (dis[p[i].a] - p[i].cost) * p[i].rate)    <span class="comment">//dis[p[i].b]是换了一圈之后，能拿到的钱，现在在这个交易所能拿到更多，表示能松弛路径。</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i, j, a, b;</span><br><span class="line">    <span class="keyword">double</span> rab, rba, cab, cba;</span><br><span class="line">    <span class="keyword">while</span> (~<span class="built_in">scanf</span>(<span class="string">"%d%d%d%lf"</span>, &amp;n, &amp;m, &amp;s, &amp;v))</span><br><span class="line">    &#123;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; rab &gt;&gt; cab &gt;&gt; rba &gt;&gt; cba;<span class="comment">//输入交易所信息</span></span><br><span class="line">            p[cnt].a = a;</span><br><span class="line">            p[cnt].b = b;</span><br><span class="line">            p[cnt].rate = rab;</span><br><span class="line">            p[cnt++].cost = cab;</span><br><span class="line">            p[cnt].a = b;</span><br><span class="line">            p[cnt].b = a;</span><br><span class="line">            p[cnt].rate = rba;</span><br><span class="line">            p[cnt++].cost = cba;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (Bellman_Ford())</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">20.0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">1.00</span> <span class="number">1.00</span> <span class="number">1.00</span> <span class="number">1.00</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">1.10</span> <span class="number">1.00</span> <span class="number">1.10</span> <span class="number">1.00</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">YES</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 最短路径 </tag>
            
            <tag> POJ </tag>
            
            <tag> Bellman_Ford </tag>
            
            <tag> 正权回路 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2632 Crashing Robots</title>
      <link href="//posts/53ad7638/"/>
      <url>//posts/53ad7638/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2632" target="_blank" rel="noopener">题目链接</a><br>崩溃的机器人<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>In a modernized warehouse, robots are used to fetch the goods. Careful planning is needed to ensure that the robots reach their destinations without crashing into each other. Of course, all warehouses are rectangular, and all robots occupy a circular floor space with a diameter of 1 meter. Assume there are N robots, numbered from 1 through N. You will get to know the position and orientation of each robot, and all the instructions, which are carefully (and mindlessly) followed by the robots. Instructions are processed in the order they come. No two robots move simultaneously; a robot always completes its move before the next one starts moving.<br>A robot crashes with a wall if it attempts to move outside the area of the warehouse, and two robots crash with each other if they ever try to occupy the same spot.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The first line of input is K, the number of test cases. Each test case starts with one line consisting of two integers, 1 &lt;= A, B &lt;= 100, giving the size of the warehouse in meters. A is the length in the EW-direction, and B in the NS-direction.<br>The second line contains two integers, 1 &lt;= N, M &lt;= 100, denoting the numbers of robots and instructions respectively.<br>Then follow N lines with two integers, 1 &lt;= Xi &lt;= A, 1 &lt;= Yi &lt;= B and one letter (N, S, E or W), giving the starting position and direction of each robot, in order from 1 through N. No two robots start at the same position.<br><img src="/posts/53ad7638/2632_1.jpg" alt="2632"><br>Finally there are M lines, giving the instructions in sequential order.<br>An instruction has the following format:<br>&lt; robot #&gt; &lt; action&gt; &lt; repeat&gt;<br>Where is one of<br>L: turn left 90 degrees,<br>R: turn right 90 degrees, or<br>F: move forward one meter,</p><p>and 1 &lt;= &lt; repeat&gt; &lt;= 100 is the number of times the robot should perform this single move.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>Output one line for each test case:<br>Robot i crashes into the wall, if robot i crashes into a wall. (A robot crashes into a wall if Xi = 0, Xi = A + 1, Yi = 0 or Yi = B + 1.)<br>Robot i crashes into robot j, if robots i and j crash, and i is the moving robot.<br>OK, if no crashing occurs.</p><p>Only the first crash is to be reported.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>机器人在仓库中取货，仓库是矩形的，所有的机器人都占直径1M的圆形地板空间，假设有N个机器人，从1~N编号。现在知道每个机器人的位置和方向。机器人会无意识的遵从所有的指令，按照顺序进行。保证没有两个机器人同时移动，机器人总是在下一个指令之前处理当前之灵。</p><p>如果机器人试图移动到仓库区域之外，机器人会撞墙。如果机器人试图占据一个已经有机器人的点，则这两个机器人会互相撞击。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行输入K，表示测试用例的数量。</p><p>每个测试用例以包含两个整数的行开始，1 &lt;= A，B &lt;= 100，以米为单位给出仓库的大小。A是EW方向的长度，B是NS方向的长度。<br>第二行包含两个整数，1 &lt;= N，M &lt;= 100，分别表示机器人和指令的数量。<br>然后跟随N行，用两个整数，1 &lt;= Xi &lt;= A，1 &lt;= Yi &lt;= B和一个字母（N，S，E或W），给出每个机器人的起始位置和方向，保证没有两个机器人从同一个位置开始。</p><p>最后有M行，按顺序给出说明。<br>指令具有以下格式：</p><ul><li>&lt;robot＃&gt; <action> <repeat></repeat></action></li></ul><p>其中，<action> 是以下的其中之一</action></p><ul><li>L：向左转90度。</li><li>R：向右转90度</li><li>F：前进一米。</li></ul><p>1 &lt;= <repeat> &lt;= 100是机器人执行此单次操作的次数。</repeat></p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>每个测试用例有一行输出：</p><ul><li>Robot i crashes into the wall     如果机器人撞墙了</li><li>Robot i crashes into robot j    如果i是正在移动的机器人，撞到了j。</li><li>OK, if no crashing occurs.</li></ul><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> Directions[<span class="number">4</span>] = &#123; <span class="string">'N'</span>,<span class="string">'E'</span>,<span class="string">'S'</span>,<span class="string">'W'</span> &#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Direction;<span class="comment">//方向</span></span><br><span class="line">    <span class="keyword">int</span> x;<span class="comment">//坐标</span></span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;robot;</span><br><span class="line"><span class="built_in">vector</span>&lt;robot&gt;R;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">int</span> times;</span><br><span class="line">&#125;command;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;G;</span><br><span class="line"><span class="keyword">bool</span> flag;</span><br><span class="line"><span class="keyword">int</span> K, A, B, N, M;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">move</span><span class="params">(command comm,<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!flag)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (comm.c == <span class="string">'L'</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            R[comm.num].Direction = (R[comm.num].Direction + <span class="number">3</span>) % <span class="number">4</span>;<span class="comment">//向左</span></span><br><span class="line">    <span class="keyword">if</span> (comm.c == <span class="string">'R'</span>)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            R[comm.num].Direction = (R[comm.num].Direction + <span class="number">1</span>) % <span class="number">4</span>;<span class="comment">//向右</span></span><br><span class="line">    <span class="keyword">if</span> (comm.c == <span class="string">'F'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (R[comm.num].Direction)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:<span class="comment">//向北走</span></span><br><span class="line">            G[R[comm.num].y][R[comm.num].x] = <span class="number">0</span>;<span class="comment">//起步</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                R[comm.num].y += <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (R[comm.num].y &gt; B)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into the wall\n"</span>, comm.num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (G[R[comm.num].y][R[comm.num].x] != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into robot %d\n"</span>, comm.num, G[R[comm.num].y][R[comm.num].x]);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                G[R[comm.num].y][R[comm.num].x] = comm.num;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:<span class="comment">//向东走</span></span><br><span class="line">            G[R[comm.num].y][R[comm.num].x] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                R[comm.num].x += <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (R[comm.num].x &gt; A)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into the wall\n"</span>, comm.num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (G[R[comm.num].y][R[comm.num].x] != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into robot %d\n"</span>, comm.num, G[R[comm.num].y][R[comm.num].x]);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag)</span><br><span class="line">                G[R[comm.num].y][R[comm.num].x] = comm.num;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//向南走</span></span><br><span class="line">            G[R[comm.num].y][R[comm.num].x] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                R[comm.num].y -= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (R[comm.num].y == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into the wall\n"</span>, comm.num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (G[R[comm.num].y][R[comm.num].x] != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into robot %d\n"</span>, comm.num, G[R[comm.num].y][R[comm.num].x]);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                G[R[comm.num].y][R[comm.num].x] = comm.num;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:<span class="comment">//向西走</span></span><br><span class="line">            G[R[comm.num].y][R[comm.num].x] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; comm.times; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                R[comm.num].x -= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (R[comm.num].x == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into the wall\n"</span>, comm.num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (G[R[comm.num].y][R[comm.num].x] != <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">false</span>;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"Robot %d crashes into robot %d\n"</span>, comm.num, G[R[comm.num].y][R[comm.num].x]);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                G[R[comm.num].y][R[comm.num].x] = comm.num;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cnt == M&amp;&amp;flag)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"OK"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">char</span> Dir;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line">    <span class="keyword">while</span> (K--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; A &gt;&gt; B;</span><br><span class="line">        G.clear();</span><br><span class="line">        G.resize(B+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= B; i++)</span><br><span class="line">            G[i].resize(A+<span class="number">1</span>);</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">        R.resize(N + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; R[i].x &gt;&gt; R[i].y &gt;&gt; Dir;</span><br><span class="line">            G[R[i].y][R[i].x] = i;</span><br><span class="line">            <span class="keyword">switch</span> (Dir)</span><br><span class="line">            &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'N'</span>: R[i].Direction = <span class="number">0</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'E'</span>: R[i].Direction = <span class="number">1</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'S'</span>: R[i].Direction = <span class="number">2</span>; <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'W'</span>: R[i].Direction = <span class="number">3</span>; <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        command comm;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">1</span>;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; comm.num &gt;&gt; comm.c &gt;&gt; comm.times;</span><br><span class="line">            move(comm, cnt);</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><pre><code class="cpp"></code></pre>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1068 Parencodings</title>
      <link href="//posts/d837b83f/"/>
      <url>//posts/d837b83f/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1068" target="_blank" rel="noopener">题目链接</a><br>Parencodings<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Let S = s1 s2…s2n be a well-formed string of parentheses. S can be encoded in two different ways:<br>q    By an integer sequence P = p1 p2…pn where pi is the number of left parentheses before the ith right parenthesis in S (P-sequence).<br>q    By an integer sequence W = w1 w2…wn where for each right parenthesis, say a in S, we associate an integer which is the number of right parentheses counting from the matched left parenthesis of a up to a. (W-sequence).</p><p>Following is an example of the above encodings:</p><ul><li><p>S        (((()()())))</p></li><li><p>P-sequence        4 5 6666</p></li><li><p>W-sequence        1 1 1456</p></li></ul><p>Write a program to convert P-sequence of a well-formed string to the W-sequence of the same string.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The first line of the input contains a single integer t (1 &lt;= t &lt;= 10), the number of test cases, followed by the input data for each test case. The first line of each test case is an integer n (1 &lt;= n &lt;= 20), and the second line is the P-sequence of a well-formed string. It contains n positive integers, separated with blanks, representing the P-sequence.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>The output file consists of exactly t lines corresponding to test cases. For each test case, the output line should contain n integers describing the W-sequence of the string corresponding to its given P-sequence.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>S是一个用括号组成的字符串。S可以有两种不同的编码：</p><ul><li>P序列，P = p1 p2…pn，pi是S序列中第i个右括号之前的左括号的数量。</li><li>W序列，W = w1 w2…wn，Wi是对于每个右括号，与之匹配的响应的左括号之间的，右括号的数量。</li></ul><p>现在给定一个P序列，求出与之对应的W序列。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>输入包括多个测试样例，第一行是一个整数t，表示测试样例的数量，然后是每个测试用例的数据，测试用例的第一行是一个整数n，第二行是P序列，有N个整数，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个P序列，输出与之对应的W序列。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟</p><h2 id="代码-C"><a href="#代码-C" class="headerlink" title="代码 C++"></a>代码 C++</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;P(n);</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; W;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; S;</span><br><span class="line">        <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; P[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = cnt; j &lt; P[i]; j++)</span><br><span class="line">                S.push_back(<span class="string">'('</span>);</span><br><span class="line">            cnt = P[i];</span><br><span class="line">            S.push_back(<span class="string">')'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> num = <span class="number">0</span>;<span class="comment">//括号里待匹配的右括号的个数</span></span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;<span class="comment">//右括号的个数</span></span><br><span class="line">        <span class="keyword">while</span> (cnt &lt; S.size())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (S[cnt] != <span class="string">')'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cnt++;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">            res = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt<span class="number">-1</span>; i &gt;=<span class="number">0</span>; i--)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (S[i] == <span class="string">'('</span>)</span><br><span class="line">                    <span class="keyword">if</span> (num == <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        W.push_back(res);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        num--;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    num++;</span><br><span class="line">                    res++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; W.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; W[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">4</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">6</span> <span class="number">8</span> <span class="number">9</span> <span class="number">9</span> <span class="number">9</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">1</span> <span class="number">3</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-3295 Tautology</title>
      <link href="//posts/8893c4a8/"/>
      <url>//posts/8893c4a8/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=3295" target="_blank" rel="noopener">题目链接</a><br>永真式<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>WFF ‘N PROOF is a logic game played with dice. Each die has six faces representing some subset of the possible symbols K, A, N, C, E, p, q, r, s, t. A Well-formed formula (WFF) is any string of these symbols obeying the following rules:</p><ul><li>p, q, r, s, and t are WFFs</li><li>if w is a WFF, Nw is a WFF</li><li>if w and x are WFFs, Kwx, Awx, Cwx, and Ewx are WFFs.</li></ul><p>The meaning of a WFF is defined as follows:</p><ul><li>p, q, r, s, and t are logical variables that may take on the value 0 (false) or 1 (true).</li><li><p>K, A, N, C, E mean and, or, not, implies, and equals as defined in the truth table below.</p><p>Definitions of K, A, N, C, and E</p></li></ul><table><thead><tr><th>w  x</th><th>Kwx</th><th>Awx</th><th>Nw</th><th>Cwx</th><th>Ewx</th></tr></thead><tbody><tr><td>1  1</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td></tr><tr><td>0  0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0  1</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td></tr><tr><td>0  0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td></tr></tbody></table><p>A tautology is a WFF that has value 1 (true) regardless of the values of its variables. For example, ApNp is a tautology because it is true regardless of the value of p. On the other hand, ApNq is not, because it has the value 0 for p=0, q=1.</p><p>You must determine whether or not a WFF is a tautology.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Input consists of several test cases. Each test case is a single line containing a WFF with no more than 100 symbols. A line containing 0 follows the last case.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, output a line containing tautology or not as appropriate.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定5个变量和5个操作符，求给出的一个表达式，是否恒为真。</p><p>5个变量全都是布尔变量，取值只有0和1两种。操作符的真值表如下：</p><table><thead><tr><th>w  x</th><th>Kwx</th><th>Awx</th><th>Nw</th><th>Cwx</th><th>Ewx</th></tr></thead><tbody><tr><td>1  1</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td></tr><tr><td>0  0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0  1</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td></tr><tr><td>0  0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td></tr></tbody></table><p>举例说明：</p><ol><li>ApNp恒为真，不论p取值是0还是1，ApNp都是真。</li><li>ApNq就不是恒为真的，当p=0, q=1时，表达式的值为假。</li></ol><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>输入包括多个测试，每行一个测试，每个测试是一个不超过100个字符的字符串，表示一个表达式。用一个独占一行的0表示测试结束。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于没个测试，如果恒为真，在一行中输出tautology。反之输出not。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ul><li>枚举所有的情况，一共有2^5=32种可能。</li><li>或者利用栈，模拟操作。</li></ul><h2 id="代码-枚举"><a href="#代码-枚举" class="headerlink" title="代码-枚举"></a>代码-枚举</h2><p><strong>编译环境：只在G++中AC，在C++中会WA，我也不知道为啥</strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, p, q, r, s, t;</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">bool</span> flag;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">res</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    n++;</span><br><span class="line">    <span class="keyword">int</span> t1, t2;</span><br><span class="line">    <span class="keyword">switch</span> (str[n])</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'K'</span>:t1 = res(); t2 = res(); <span class="keyword">return</span> t1 &amp;&amp; t2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'A'</span>:t1 = res(); t2 = res(); <span class="keyword">return</span> t1 || t2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'N'</span>:t1 = res(); <span class="keyword">return</span> !t1;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'C'</span>:t1 = res(); t2 = res(); <span class="keyword">return</span> (!t1) || t2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'E'</span>:t1 = res(); t2 = res(); <span class="keyword">return</span> t1== t2;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'p'</span>:<span class="keyword">return</span> p;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'q'</span>:<span class="keyword">return</span> q;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'r'</span>:<span class="keyword">return</span> r;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'s'</span>:<span class="keyword">return</span> s;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">'t'</span>:<span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="string">"0"</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (p = <span class="number">0</span>; p &lt; <span class="number">2</span> &amp;&amp; flag; p++)</span><br><span class="line">            <span class="keyword">for</span> (q = <span class="number">0</span>; q &lt; <span class="number">2</span> &amp;&amp; flag; q++)</span><br><span class="line">                <span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; <span class="number">2</span> &amp;&amp; flag; r++)</span><br><span class="line">                    <span class="keyword">for</span> (s = <span class="number">0</span>; s &lt; <span class="number">2</span> &amp;&amp; flag; s++)</span><br><span class="line">                        <span class="keyword">for</span> (t = <span class="number">0</span>; t &lt; <span class="number">2</span> &amp;&amp; flag; t++)</span><br><span class="line">                        &#123;</span><br><span class="line">                            n = <span class="number">-1</span>;</span><br><span class="line">                            <span class="keyword">if</span> (!res())</span><br><span class="line">                                flag = <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"tautology"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"not"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="代码-枚举-栈"><a href="#代码-枚举-栈" class="headerlink" title="代码-枚举-栈"></a>代码-枚举-栈</h2><p><strong>这个代码可以在G++和C++中AC</strong><br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> p, q, r, s, t;</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt;res;</span><br><span class="line">    <span class="keyword">int</span> t1, t2;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = str.length() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (str[i])</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'p'</span>:</span><br><span class="line">            res.push(p);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'q'</span>:</span><br><span class="line">            res.push(q);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'r'</span>:</span><br><span class="line">            res.push(r);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'s'</span>:</span><br><span class="line">            res.push(s);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'t'</span>:</span><br><span class="line">            res.push(t);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'K'</span>:</span><br><span class="line">            t1 = res.top(); res.pop();</span><br><span class="line">            t2 = res.top(); res.pop();</span><br><span class="line">            <span class="keyword">if</span> (t1&amp;&amp;t2)</span><br><span class="line">                res.push(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.push(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'A'</span>:</span><br><span class="line">            t1 = res.top(); res.pop();</span><br><span class="line">            t2 = res.top(); res.pop();</span><br><span class="line">            <span class="keyword">if</span> (t1 || t2)</span><br><span class="line">                res.push(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.push(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'N'</span>:</span><br><span class="line">            t1 = res.top(); res.pop();</span><br><span class="line">            <span class="keyword">if</span> (!t1)</span><br><span class="line">                res.push(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.push(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'C'</span>:</span><br><span class="line">            t1 = res.top(); res.pop();</span><br><span class="line">            t2 = res.top(); res.pop();</span><br><span class="line">            <span class="keyword">if</span> (!t1 || t2)</span><br><span class="line">                res.push(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.push(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">'E'</span>:</span><br><span class="line">            t1 = res.top(); res.pop();</span><br><span class="line">            t2 = res.top(); res.pop();</span><br><span class="line">            <span class="keyword">if</span> (t1 == t2)</span><br><span class="line">                res.push(<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                res.push(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    t1 = res.top(); res.pop();</span><br><span class="line">    <span class="keyword">return</span> t1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span>&gt;&gt;str)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str == <span class="string">"0"</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (p = <span class="number">0</span>; p &lt; <span class="number">2</span> &amp;&amp; flag; p++)</span><br><span class="line">            <span class="keyword">for</span> (q = <span class="number">0</span>; q &lt; <span class="number">2</span> &amp;&amp; flag; q++)</span><br><span class="line">                <span class="keyword">for</span> (r = <span class="number">0</span>; r &lt; <span class="number">2</span> &amp;&amp; flag; r++)</span><br><span class="line">                    <span class="keyword">for</span> (s = <span class="number">0</span>; s &lt; <span class="number">2</span> &amp;&amp; flag; s++)</span><br><span class="line">                        <span class="keyword">for</span> (t = <span class="number">0</span>; t &lt; <span class="number">2</span> &amp;&amp; flag; t++)</span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="keyword">if</span> (!judge())</span><br><span class="line">                                flag = <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"tautology"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"not"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">ApNp</span><br><span class="line">ApNq</span><br><span class="line"><span class="number">0</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">tautology</span><br><span class="line"><span class="keyword">not</span></span><br></pre></td></tr></table></figure><p><strong>良心大测试用例，来自Waterloo Local Contest, 2006.9.30</strong><br>输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">p</span><br><span class="line">q</span><br><span class="line">r</span><br><span class="line">s</span><br><span class="line">t</span><br><span class="line">Cpp</span><br><span class="line">App</span><br><span class="line">Kpp</span><br><span class="line">Epp</span><br><span class="line">NNNNNNNNNNNNNNNNNNNAKKKEEKEEKppppppppppp</span><br><span class="line">NNNNNNNNNNNNNCAKKEEEAACKKKKKCEEEACKKEKCCEKAppqqqppppqqpqppppqqppppqqqppppp</span><br><span class="line">NNNNNNNNNNNACKCAKEAAEKCAKECEKKKACAAEAKAKCKKrqqqprpppprpqprqprrppqrqqrqrqppqp</span><br><span class="line">NNNNNNNNCAEACACKEEEKKAEEEEAKKEECACKACECCCEKAECEECCCACrrrrprrqssrprrqpsssrrpsqssqprrqpprrpqrppqqsqqs</span><br><span class="line">NNNNNNNNNNNKAEEACEKKCCCKKAAECACAECAEKKECKAAAECCCKEAACArqpsrstpqsspsppssrpsprstsqspsspptrqrprptstps</span><br><span class="line">NNNNNNNNNNNNEAAECEAEAECKCEAAAEEACAACCKEAKtqptstpttssrptqrtsstpptqtssppp</span><br><span class="line">NNNNNNNNNNNNNNNNNNNCAAAKEEAEACCCACECCCCCCEKCKCAKCpqpssqsppprttrqprspsssttsrprtqq</span><br><span class="line">NNNNNNNNNNNNEEKKCCCACACECEACCKCCAEKKKKCEKCEKEppsrrpqtqrrspqrqrpprtpqpqqrqqqtprp</span><br><span class="line">NNNNCAAEAECKKEKKEAACEAECAEEECCCCEKAKCKKAAEKrrtssrrppprrpstsrqqrrqprqrsprsspsrpsspsq</span><br><span class="line">NNNNNNNNNECCKAAACAKAAECCKAECKEAEKEACCKErstrqpqrtrtrqstqpptprttprtrrqtq</span><br><span class="line">NNAKAKEAKEAEAKACCEECCKKAACECAACACrrtrqtsttstspqrstqrpspqttrpspqsp</span><br><span class="line">NNNEECEACEECKAAKKKCEKECKAKKAAAAAKsrtpprtrqqtpsssrrprtsqtsrpssspt</span><br><span class="line">NNNNNNCEECAKAACEKECAKCCAEECCCAEAEKKKrpqqqsqprqqsqtqstsrpqsqsqsrqsqs</span><br><span class="line">NNNAEAEKEACEECECKCAEAKCEEEKEKEKKCECEqtpssqrptpsqppqpprsqpttqrsqqrqqtrq</span><br><span class="line">CNNNEECEEEKECAAEACAsppsrqpptpspppqqNNNEECEEEKECAAEACAsppsrqpptpspppqq</span><br><span class="line">ANNNEECEEEKECAAEACAsppsrqpptpspppqqNNNEECEEEKECAAEACAsppsrqpptpspppqq</span><br><span class="line">KNNNEECEEEKECAAEACAsppsrqpptpspppqqNNNEECEEEKECAAEACAsppsrqpptpspppqq</span><br><span class="line">ENNNEECEEEKECAAEACAsppsrqpptpspppqqNNNEECEEEKECAAEACAsppsrqpptpspppqq</span><br><span class="line">CNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">ANNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">KNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">ENNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">NCNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">NANNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">NKNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">NENNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqssNNNEAKCEKCEAKACECKACCEKCqppppptrqqttptttqtpqss</span><br><span class="line">NNNNEEEEEAAACKEKAAEEAqpptpsqsrqpprssptt</span><br><span class="line">NNNKAKCEECACCEECACEKrtrrsstpqptpstsrsq</span><br><span class="line">NNNNNNNNNCACCCEKEACEACpqrqpsststtpps</span><br><span class="line">NNNNKKCACEACECCssqptqptrrtr</span><br><span class="line">NNNAAAACKECCAKAKACprspqspspsttpttr</span><br><span class="line">NNNECCCECCAAEpqstpspppss</span><br><span class="line">NNNNNCEAECACCEKAEEEppsptpsppprpqrq</span><br><span class="line">AEAAKKEEEKAEAKpqqtpppsssqrqsp</span><br><span class="line">NNAKEKAAKprqrpqpt</span><br><span class="line">NNNAKACAKEKCECKtqppqtpqsqspr</span><br><span class="line">NCEKEEACCCppsstppprp</span><br><span class="line">NNNAEKCEKAEEECEEKEtrqpppqqpppqstpp</span><br><span class="line">NNNNCKEAACAKEKACECCEKstppprrptqqpqqpppp</span><br><span class="line">NNEAKCECKACEEECKprrpqqsppppttqr</span><br><span class="line">NNNNNCKAAAKKEKKKECKECppqrppttpsttrtqtq</span><br><span class="line">NNEKKACCKKACEKErpprsptppppptq</span><br><span class="line">NNNCKECCAEAECAEspqpqpprsptpr</span><br><span class="line">NNNCKECKCEEECstrtppsrtrp</span><br><span class="line">NNKCCKACKAACKprtttttpttpp</span><br><span class="line">NNNNEACCKKEArqpptrppt</span><br><span class="line">NKECKACAptrrrttt</span><br><span class="line">NNAEEEKECAAptpspptqpp</span><br><span class="line">NNNACKEEAAKAKKpsrttqtssrrt</span><br><span class="line">NNKKAKAKEEECACEEtstqqrsptttrprp</span><br><span class="line">CKAKECKKKtttppptptq</span><br><span class="line">NNNCEEEKCECCtsptqqqptp</span><br><span class="line">NAECCAKKCCttttpptpsr</span><br><span class="line">NCEEKCCAErpptpsppt</span><br><span class="line">NKKEEKtppttt</span><br><span class="line">NCKCAECEpttqqttp</span><br><span class="line">NNNNNEEKAAECqqpqpppt</span><br><span class="line">NECAACAECCAACKtrpptpptqtpppp</span><br><span class="line">NNKECKKACrttttrtp</span><br><span class="line">AECAECrrtsptt</span><br><span class="line">0</span><br></pre></td></tr></table></figure></p><p>输出<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">tautology</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br><span class="line">not</span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> POJ </tag>
            
            <tag> 枚举 </tag>
            
            <tag> 栈 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2586 Y2K Accounting Bug</title>
      <link href="//posts/b572d5b3/"/>
      <url>//posts/b572d5b3/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2586" target="_blank" rel="noopener">题目链接</a><br>千年虫错误<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Accounting for Computer Machinists (ACM) has sufferred from the Y2K bug and lost some vital data for preparing annual report for MS Inc.<br>All what they remember is that MS Inc. posted a surplus or a deficit each month of 1999 and each month when MS Inc. posted surplus, the amount of surplus was s and each month when MS Inc. posted deficit, the deficit was d. They do not remember which or how many months posted surplus or deficit. MS Inc., unlike other companies, posts their earnings for each consecutive 5 months during a year. ACM knows that each of these 8 postings reported a deficit but they do not know how much. The chief accountant is almost sure that MS Inc. was about to post surplus for the entire year of 1999. Almost but not quite.</p><p>Write a program, which decides whether MS Inc. suffered a deficit during 1999, or if a surplus for 1999 was possible, what is the maximum amount of surplus that they can post.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Input is a sequence of lines, each containing two positive integers s and d.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each line of input, output one line containing either a single integer giving the amount of surplus for the entire year, or output Deficit if it is impossible.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>题目看的我吐血….</p><p>大意：某公司每个月的盈余或者赤字只有两种情况：要么是赚了s，要么是亏了d，只有可能是这两种情况，而且金额固定，就是s或者d，不会是其他的数。</p><p>但是坑爹的是，他们不记得这一年中，哪几个月赚了，哪几个月赔了。他们只知道：他们每次统计当年的财务报表时，都是一连计算5个月的，因此一年共公布8次财务报表（1~5,2~6,3~7,4~8,5~9,6~10,7~11,8~12）。这8个月的财务报表全都是亏损的。</p><p>坑爹成这个样子，他们还抱有一丝侥幸心理，认为他们今年有可能赚钱，问，他们今年最多可能能赚多少钱，如果金额&lt;0，则输出”Deficit”。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>有多个输入，每个输入只有一行，每行有两个正整数，s和d。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出可能的最大的营利，如果亏损，输出”Deficit”。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>&lt;贪心&gt;因为每5个月统计一次都亏空，那么有5种情况：</p><ol><li>若SSSSD亏空，那么全年可能最大盈利情况为: SSSSDSSSSDSS</li><li>若SSSDD亏空，那么全年可能最大盈利情况为：SSSDDSSSDDSS</li><li>若SSDDD亏空，那么全年可能最大盈利情况为: SSDDDSSDDDSS</li><li>若SDDDD亏空，那么全年可能最大盈利情况为: SDDDDSDDDDSD</li><li>若DDDDD亏空，那么全年可能最大盈利情况为: DDDDDDDDDDDD</li></ol><p><dfs>枚举和遍历</dfs></p><ol><li>对于每个月的情况，只有赚了s和亏了d，因此分别假设，进行深度搜索，要用到2<sup>12</sup>个可能。</li></ol><h2 id="代码（贪心）"><a href="#代码（贪心）" class="headerlink" title="代码（贪心）"></a>代码（贪心）</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s, d;</span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span> &gt;&gt; s &amp;&amp; <span class="built_in">cin</span> &gt;&gt; d)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (d&gt;<span class="number">4</span> * s)ans = <span class="number">10</span> * s - <span class="number">2</span> * d;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span> * d&gt;<span class="number">3</span> * s)ans = <span class="number">8</span> * s - <span class="number">4</span> * d;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">3</span> * d&gt;<span class="number">2</span> * s)ans = <span class="number">6</span> * (s - d);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">4</span> * d&gt;s)ans = <span class="number">3</span> * (s - <span class="number">3</span> * d);</span><br><span class="line">        <span class="keyword">else</span> ans = <span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">if</span> (ans&lt;<span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">"Deficit"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码（DFS）"><a href="#代码（DFS）" class="headerlink" title="代码（DFS）"></a>代码（DFS）</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> s, d;</span><br><span class="line"><span class="keyword">int</span> month[<span class="number">12</span>];</span><br><span class="line"><span class="keyword">int</span> res;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> m)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 从5月开始，每个月发布一个报表，所以要检查</span></span><br><span class="line">    <span class="comment">// 检查这个报表的结果是否为亏损</span></span><br><span class="line">    <span class="keyword">if</span> (m &gt; <span class="number">4</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> tmp = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = m - <span class="number">5</span>; j &lt; m; j++) &#123;</span><br><span class="line">            tmp += month[j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (tmp &gt;= <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 年底查看可能的利润，保留最大利润</span></span><br><span class="line">    <span class="keyword">if</span> (m == <span class="number">12</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">12</span>; j++) sum += month[j];</span><br><span class="line">        <span class="keyword">if</span> (sum &gt; res) res = sum;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 营利或亏损都试一试</span></span><br><span class="line">    month[m] = s;</span><br><span class="line">    dfs(m + <span class="number">1</span>);</span><br><span class="line">    month[m] = -d;</span><br><span class="line">    dfs(m + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">cin</span>&gt;&gt;s&gt;&gt;d)</span><br><span class="line">    &#123;</span><br><span class="line">        res = <span class="number">-1e9</span>;</span><br><span class="line">        dfs(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">if</span> (res &gt;= <span class="number">0</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Deficit"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">59</span> <span class="number">237</span></span><br><span class="line"><span class="number">375</span> <span class="number">743</span></span><br><span class="line"><span class="number">200000</span> <span class="number">849694</span></span><br><span class="line"><span class="number">2500000</span> <span class="number">8000000</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">116</span></span><br><span class="line"><span class="number">28</span></span><br><span class="line"><span class="number">300612</span></span><br><span class="line">Deficit</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
            <tag> DFS </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2109 Power of Cryptography</title>
      <link href="//posts/ea1deaf6/"/>
      <url>//posts/ea1deaf6/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2109" target="_blank" rel="noopener">题目链接</a><br>密码学的力量<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Current work in cryptography involves (among other things) large prime numbers and computing powers of numbers among these primes. Work in this area has resulted in the practical use of results from number theory and other branches of mathematics once considered to be only of theoretical interest.<br>This problem involves the efficient computation of integer roots of numbers.<br>Given an integer n&gt;=1 and an integer p&gt;= 1 you have to write a program that determines the n th positive root of p. In this problem, given such integers n and p, p will always be of the form k to the nth. power, for an integer k (this integer is what your program must find).</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of a sequence of integer pairs n and p with each integer on a line by itself. For all such pairs 1&lt;=n&lt;= 200, 1&lt;=p&lt;10<sup>101</sup> and there exists an integer k, 1&lt;=k&lt;=10<sup>9</sup> such that k<sup>n</sup> = p.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each integer pair n and p the value k should be printed, i.e., the number k such that k n =p.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定两个数，N和P，求一个数K，使得K<sup>N</sup>=P。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>一行两个数，第一个数是N（1&lt;=n&lt;= 200），第二个数是P(1&lt;=p&lt;10<sup>101</sup>),存在一个整数K，1&lt;=k&lt;=10<sup>9</sup>，满足 k<sup>n</sup> = p。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出K。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>其实这个题就是用pow函数来求的。</p><p>在double精度内，一个大数，开N次方和开N+1次方，是能感知到的。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">double</span> n, p;</span><br><span class="line">    <span class="keyword">while</span> (<span class="built_in">scanf</span>(<span class="string">"%lf %lf"</span>,&amp;n,&amp;p)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.0lf\n"</span>, <span class="built_in">pow</span>(p, <span class="number">1.0</span> / n));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> <span class="number">16</span></span><br><span class="line"><span class="number">3</span> <span class="number">27</span></span><br><span class="line"><span class="number">7</span> <span class="number">4357186184021382204544</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1234</span></span><br><span class="line">Source</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 数学问题 </tag>
            
            <tag> POJ </tag>
            
            <tag> 幂运算 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1328 Radar Installation</title>
      <link href="//posts/be1dc362/"/>
      <url>//posts/be1dc362/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1328" target="_blank" rel="noopener">题目链接</a><br>安装雷达<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Assume the coasting is an infinite straight line. Land is in one side of coasting, sea in the other. Each small island is a point locating in the sea side. And any radar installation, locating on the coasting, can only cover d distance, so an island in the sea can be covered by a radius installation, if the distance between them is at most d.</p><p>We use Cartesian coordinate system, defining the coasting is the x-axis. The sea side is above x-axis, and the land side below. Given the position of each island in the sea, and given the distance of the coverage of the radar installation, your task is to write a program to find the minimal number of radar installations to cover all the islands. Note that the position of an island is represented by its x-y coordinates.<br><img src="/posts/be1dc362/1328_1.jpg" alt="1328"></p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of several test cases. The first line of each case contains two integers n (1&lt;=n&lt;=1000) and d, where n is the number of islands in the sea and d is the distance of coverage of the radar installation. This is followed by n lines each containing two integers representing the coordinate of the position of each island. Then a blank line follows to separate the cases.</p><p>The input is terminated by a line containing pair of zeros</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case output one line consisting of the test case number followed by the minimal number of radar installations needed. “-1” installation means no solution for that case.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>平面直角坐标系上有n个点，求在x轴上找尽量少的点，以这些点为圆心画一个半径为d的圆，使得给定的点都在画出来的圆里。如果不能输出-1。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>一个输入包括多个测试用例。每个测试用例第一行包含两个整数n（1 &lt;= n &lt;= 1000）和d，其中n是海中岛屿的数量，d是雷达装置的覆盖距离。接下来是n行，每行包含两个整数，表示每个岛的位置坐标。然后是一个空白行来分隔测试用例。</p><p>输入由包含两个0的行表示终止。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例的输出，第一行包含测试用例编号，然后是所需的安装数量最少的雷达的个数。“-1”表示没有解决方案。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>考虑在什么情况下没有解：当且仅当以（a,b）为圆心，D为半径画一个圆，这个圆与x轴没有交点时，这个海岛是无法被雷达覆盖的。如图：<img src="/posts/be1dc362/1328-2.png" alt="1328"></li><li>我们知道圆心和半径，可以求出圆的方程：(x-a)<sup>2</sup>+(y-b)<sup>2</sup>=d<sup>2</sup>，与y=0联立。可得：x<sup>2</sup>-2ax+a<sup>2</sup>+b<sup>2</sup>-d<sup>2</sup>=0。</li><li>判别式△=4a<sup>2</sup>-4(a<sup>2</sup>+b<sup>2</sup>-d<sup>2</sup>)=d<sup>2</sup>-b<sup>2</sup>。</li><li>如果无解，则△&lt;0，即d<sup>2</sup>&lt;b<sup>2</sup>。</li><li>如果有解，根据求根公式：x<sub>1</sub>=a-(d<sup>2</sup>-b<sup>2</sup>)，x<sub>2</sub>=a+(d<sup>2</sup>-b<sup>2</sup>)。</li></ol><p>那么回到图中，两个点在坐标轴的位置如下所示：<br><img src="/posts/be1dc362/1328-3.png" alt="1328"></p><p>继续想：</p><ol><li>如果要在x轴上选点画圆覆盖(a,b),那么这个点的横坐标就一定在[a-d²+b²,a+d²-b²]区间内。</li><li>因此这道题变成了在数轴上选最少的点，覆盖给定线段。这就类似于整数区间了。</li><li>假设数轴上有很多段区间，我们把它们从数轴上分离出来。 <img src="/posts/be1dc362/1328-4.png" alt="1328"></li><li>取点的过程可以理解为画一条铅垂线来割这些线段。<img src="/posts/be1dc362/1328-5.png" alt="1328"></li><li>把所有线段按照右端点的位置，从小到大排序。</li><li>如上图所示，就第一部分而言，选择第一条线段的右端点，记位置为P，如果接下来的几条线段的左端点都在P的左边，因为是按照右端点从小到大排序的，因此其右端点的位置一定大于P，也就是说，P在这条线段内。即选在P点，可以尽肯能多的覆盖到海岛。</li><li>当遇到某个点的左端点位置大于P时。P就无法覆盖到这个海岛了，选择这个线段的右端点，记为P，重复6~7流程。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, D;<span class="comment">//N是海岛的数量，D是距离.</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x, y;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> left;</span><br><span class="line">    <span class="keyword">double</span> right;</span><br><span class="line">&#125;Radar;</span><br><span class="line">node temp;</span><br><span class="line">Radar r;</span><br><span class="line"><span class="built_in">vector</span>&lt;Radar&gt;p;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Radar a, Radar b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.right &lt; b.right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        p.clear();</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; D;</span><br><span class="line">        <span class="keyword">if</span> (!N &amp;&amp; !D)</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: "</span>, ++cnt);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; temp.x &gt;&gt; temp.y;</span><br><span class="line">            <span class="keyword">double</span> delta = <span class="number">1.0</span>*D*D - <span class="number">1.0</span>*temp.y*temp.y;</span><br><span class="line">            <span class="keyword">if</span> (D &gt;= temp.y&amp;&amp;flag)</span><br><span class="line">            &#123;</span><br><span class="line">                r.left = <span class="number">1.0</span>*temp.x - <span class="built_in">sqrt</span>(delta);</span><br><span class="line">                r.right = <span class="number">1.0</span>*temp.x + <span class="built_in">sqrt</span>(delta);</span><br><span class="line">                p.push_back(r);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"-1\n"</span>);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(p.begin(), p.end(), cmp);</span><br><span class="line">        <span class="keyword">double</span> now = p[<span class="number">0</span>].right;</span><br><span class="line">        <span class="keyword">int</span> res = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; p.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (p[i].left &gt; now)<span class="comment">//下一个点的最左边已经大于现在的点的位置了，无法覆盖，只能再安置一个雷达</span></span><br><span class="line">            &#123;</span><br><span class="line">                res++;</span><br><span class="line">                now = p[i].right;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, res);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">-3</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">0</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="number">0</span></span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line">Case <span class="number">1</span>: <span class="number">2</span></span><br><span class="line">Case <span class="number">2</span>: <span class="number">1</span></span><br></pre></td></tr></table></figure><hr><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p><a href="https://blog.csdn.net/c20182030/article/details/75107606" target="_blank" rel="noopener">https://blog.csdn.net/c20182030/article/details/75107606</a></p>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
            <tag> 数学问题 </tag>
            
            <tag> POJ </tag>
            
            <tag> 区间覆盖 </tag>
            
            <tag> 圆 </tag>
            
            <tag> 二次方程 </tag>
            
            <tag> 解析几何 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2965 The Pilots Brothers&#39; refrigerator</title>
      <link href="//posts/9424e4c0/"/>
      <url>//posts/9424e4c0/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2965" target="_blank" rel="noopener">题目链接</a><br>飞行员兄弟的冰箱<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>The game “The Pilots Brothers: following the stripy elephant” has a quest where a player needs to open a refrigerator.</p><p>There are 16 handles on the refrigerator door. Every handle can be in one of two states: open or closed. The refrigerator is open only when all handles are open. The handles are represented as a matrix 4х4. You can change the state of a handle in any location [i, j] (1 ≤ i, j ≤ 4). However, this also changes states of all handles in row i and all handles in column j.</p><p>The task is to determine the minimum number of handle switching necessary to open the refrigerator.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input contains four lines. Each of the four lines contains four characters describing the initial state of appropriate handles. A symbol “+” means that the handle is in closed state, whereas the symbol “−” means “open”. At least one of the handles is initially closed.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>The first line of the input contains N – the minimum number of switching. The rest N lines describe switching sequence. Each of the lines contains a row number and a column number of the matrix separated by one or more spaces. If there are several solutions, you may give any one of them.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>冰箱门上有16个把手。每个把手可以是关闭或者是打开的。当所有的把手都打开时，冰箱才会打开。把手的矩阵是4*4，可以改变任意一个把手的状态，但是，和它同行同列的把手的状态也会随之改变。求打开冰箱所需要的最少的次数。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>输入包括4行，每行有4个字符表示把手的状态，”+”表示把手处于闭合状态，”-“表示把手处于打开状态。保证最初状态至少有一个把手是关闭的。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>第一行是一个整数N，表示最小切换次数。接下来的N行里描述切换顺序，每行一个矩阵的行号和列号，由空格隔开。如果有多种解都符合要求，任意输出其中之一。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>枚举+DFS+保存路径。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>类似题目：POJ-1753。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> handle[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span> minn = <span class="number">16</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;res, temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> h;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; h;</span><br><span class="line">            <span class="keyword">if</span> (h == <span class="string">'+'</span>)</span><br><span class="line">                handle[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                handle[i][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">finish</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            res += handle[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res == <span class="number">16</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = cnt / <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">int</span> y = cnt % <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        handle[x][i] = !handle[x][i];</span><br><span class="line">        handle[i][y] = !handle[i][y];</span><br><span class="line">    &#125;</span><br><span class="line">    handle[x][y] = !handle[x][y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (finish())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.size() &lt; temp.size())</span><br><span class="line">            res = temp;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    DFS(i + <span class="number">1</span>);</span><br><span class="line">    change(i);</span><br><span class="line">    temp.push_back(i);</span><br><span class="line">    DFS(i + <span class="number">1</span>);</span><br><span class="line">    change(i);</span><br><span class="line">    temp.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    build();</span><br><span class="line">    DFS(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; res[i] / <span class="number">4</span> + <span class="number">1</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; res[i] % <span class="number">4</span> + <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">-+--</span><br><span class="line">----</span><br><span class="line">----</span><br><span class="line">-+--</span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
            <tag> POJ </tag>
            
            <tag> 枚举 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1753 Flip Game</title>
      <link href="//posts/a4273118/"/>
      <url>//posts/a4273118/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1753" target="_blank" rel="noopener">题目链接</a><br>反转游戏<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Flip game is played on a rectangular 4x4 field with two-sided pieces placed on each of its 16 squares. One side of each piece is white and the other one is black and each piece is lying either it’s black or white side up. Each round you flip 3 to 5 pieces, thus changing the color of their upper side from black to white and vice versa. The pieces to be flipped are chosen every round according to the following rules:</p><ol><li>Choose any one of the 16 pieces.</li><li>Flip the chosen piece and also all adjacent pieces to the left, to the right, to the top, and to the bottom of the chosen piece (if there are any).</li></ol><p>Consider the following position as an example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bwbw</span><br><span class="line">wwww</span><br><span class="line">bbwb</span><br><span class="line">bwwb</span><br></pre></td></tr></table></figure></p><p>Here “b” denotes pieces lying their black side up and “w” denotes pieces lying their white side up. If we choose to flip the 1st piece from the 3rd row (this choice is shown at the picture), then the field will become:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bwbw</span><br><span class="line">bwww</span><br><span class="line">wwwb</span><br><span class="line">wwwb</span><br></pre></td></tr></table></figure></p><p><img src="/posts/a4273118/1753_1.jpg" alt="1753"></p><p>The goal of the game is to flip either all pieces white side up or all pieces black side up. You are to write a program that will search for the minimum number of rounds needed to achieve this goal.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>The input consists of 4 lines with 4 characters “w” or “b” each that denote game field position.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>Write to the output file a single integer number - the minimum number of rounds needed to achieve the goal of the game from the given position. If the goal is initially achieved, then write 0. If it’s impossible to achieve the goal, then write the word “Impossible” (without quotes).</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>反转游戏，棋盘大小为4*4，共16个棋子。每个棋子有黑白两面。反转一个棋子的时候，要把这个棋子和其上下左右相连的棋子也一并翻转。求把这16个棋子翻转到统一颜色所需的最小次数。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>4行输入，每行4个字符，“w”表示白色，“b”表示黑色。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出可以把这16个棋子全部翻转到同一颜色所需要的最少的次数，如果无法翻转成同一颜色，则输出”Impossible”（没有引号）</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>枚举出所有可能的状态。使用DFS深搜。记得翻过去之后，再翻过来。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>由题意，每个棋子翻转过去再翻转过来，结果不变。因此最多翻转的次数为15次。（翻转16次和不翻转棋面一样）</p><p>类似题目POJ-2965。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> chess[<span class="number">4</span>][<span class="number">4</span>];</span><br><span class="line"><span class="keyword">int</span> maxn = <span class="number">16</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; c;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'w'</span>)</span><br><span class="line">                chess[i][j] = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                chess[i][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">turn</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">4</span> &amp;&amp; x &gt;= <span class="number">0</span> &amp;&amp; y &lt; <span class="number">4</span> &amp;&amp; y &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> chess[x][y] = !chess[x][y];<span class="comment">//取非</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">flip</span><span class="params">(<span class="keyword">int</span> cnt)</span><span class="comment">//cnt表示反转的次数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = cnt / <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">int</span> y = cnt % <span class="number">4</span>;</span><br><span class="line">    turn(x - <span class="number">1</span>, y);</span><br><span class="line">    turn(x + <span class="number">1</span>, y);</span><br><span class="line">    turn(x, y + <span class="number">1</span>);</span><br><span class="line">    turn(x, y - <span class="number">1</span>);</span><br><span class="line">    turn(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">finish</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            res += chess[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> !(res % <span class="number">16</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> cnt)</span><span class="comment">//i表示迭代的次数，cnt表示反转的个数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (finish())</span><br><span class="line">    &#123;</span><br><span class="line">        maxn = min(maxn, cnt);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &gt;= <span class="number">16</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    DFS(i + <span class="number">1</span>,cnt);<span class="comment">//先到最后一个</span></span><br><span class="line">    flip(i);</span><br><span class="line">    DFS(i + <span class="number">1</span>, cnt + <span class="number">1</span>);<span class="comment">//假设他翻过去的，遍历结果</span></span><br><span class="line">    flip(i);<span class="comment">//再翻过来</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    build();</span><br><span class="line">    DFS(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (maxn != <span class="number">16</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; maxn &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Impossible"</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"></span><br><span class="line">bwwb</span><br><span class="line">bbwb</span><br><span class="line">bwwb</span><br><span class="line">bwww</span><br><span class="line">Sample Output</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
            <tag> POJ </tag>
            
            <tag> 枚举 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1115</title>
      <link href="//posts/ecf4bd94/"/>
      <url>//posts/ecf4bd94/</url>
      <content type="html"><![CDATA[]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1114 Family Property（25）</title>
      <link href="//posts/9bf38d02/"/>
      <url>//posts/9bf38d02/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805356599820288" target="_blank" rel="noopener">题目链接</a><br>家庭财产<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>This time, you are supposed to help us collect the data for family-owned property. Given each person’s family members, and the estate（房产）info under his/her own name, we need to know the size of each family, and the average area and number of sets of their real estate.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N (&lt;=1000). Then N lines follow, each gives the infomation of a person who owns estate in the format:</p><p>ID Father Mother k Child1 … Childk M_estate Area</p><p>where ID is a unique 4-digit identification number for each person; Father and Mother are the ID’s of this person’s parents (if a parent has passed away, -1 will be given instead); k (0&lt;=k&lt;=5) is the number of children of this person; Childi’s are the ID’s of his/her children; M_estate is the total number of sets of the real estate under his/her name; and Area is the total area of his/her estate.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, first print in a line the number of families (all the people that are related directly or indirectly are considered in the same family). Then output the family info in the format:</p><p>ID M AVG_sets AVG_area</p><p>where ID is the smallest ID in the family; M is the total number of family members; AVG_sets is the average number of sets of their real estate; and AVG_area is the average area. The average numbers must be accurate up to 3 decimal places. The families must be given in descending order of their average areas, and in ascending order of the ID’s if there is a tie.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line">## 测试数据</span><br><span class="line">``` cpp</span><br><span class="line">Sample Input:</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">6666</span> <span class="number">5551</span> <span class="number">5552</span> <span class="number">1</span> <span class="number">7777</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line"><span class="number">1234</span> <span class="number">5678</span> <span class="number">9012</span> <span class="number">1</span> <span class="number">0002</span> <span class="number">2</span> <span class="number">300</span></span><br><span class="line"><span class="number">8888</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1000</span></span><br><span class="line"><span class="number">2468</span> <span class="number">0001</span> <span class="number">0004</span> <span class="number">1</span> <span class="number">2222</span> <span class="number">1</span> <span class="number">500</span></span><br><span class="line"><span class="number">7777</span> <span class="number">6666</span> <span class="number">-1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">300</span></span><br><span class="line"><span class="number">3721</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">1</span> <span class="number">2333</span> <span class="number">2</span> <span class="number">150</span></span><br><span class="line"><span class="number">9012</span> <span class="number">-1</span> <span class="number">-1</span> <span class="number">3</span> <span class="number">1236</span> <span class="number">1235</span> <span class="number">1234</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line"><span class="number">1235</span> <span class="number">5678</span> <span class="number">9012</span> <span class="number">0</span> <span class="number">1</span> <span class="number">50</span></span><br><span class="line"><span class="number">2222</span> <span class="number">1236</span> <span class="number">2468</span> <span class="number">2</span> <span class="number">6661</span> <span class="number">6662</span> <span class="number">1</span> <span class="number">300</span></span><br><span class="line"><span class="number">2333</span> <span class="number">-1</span> <span class="number">3721</span> <span class="number">3</span> <span class="number">6661</span> <span class="number">6662</span> <span class="number">6663</span> <span class="number">1</span> <span class="number">100</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">8888</span> <span class="number">1</span> <span class="number">1.000</span> <span class="number">1000.000</span></span><br><span class="line"><span class="number">0001</span> <span class="number">15</span> <span class="number">0.600</span> <span class="number">100.000</span></span><br><span class="line"><span class="number">5551</span> <span class="number">4</span> <span class="number">0.750</span> <span class="number">100.000</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 并查集 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1113 Integer Set Partition（25）</title>
      <link href="//posts/59718a1/"/>
      <url>//posts/59718a1/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805357258326016" target="_blank" rel="noopener">题目链接</a><br>划分整数集<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a set of N (&gt;1) positive integers, you are supposed to partition them into two disjoint sets A<sub>1</sub> and A<sub>2</sub> of n<sub>1</sub> and n<sub>2</sub> numbers, respectively. Let S<sub>1</sub>and S<sub>2</sub> denote the sums of all the numbers in A<sub>1</sub> and A<sub>2</sub>, respectively. You are supposed to make the partition so that ∣n<sub>1</sub>−n<sub>2</sub>∣ is minimized first, and then ∣S<sub>1</sub>−S<sub>2</sub>∣ is maximized.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives an integer N (2≤N≤10<sup><br>​5</sup>), and then N positive integers follow in the next line, separated by spaces. It is guaranteed that all the integers and their sum are less than 2<sup>31</sup>.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, print in a line two numbers: ∣n<sub>1</sub>−n<sub>2</sub>∣ and ∣S<sub>1</sub>−S<sub>2</sub>∣, separated by exactly one space.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>要求把一个集合分成两个不相交的集合，使得这两个集合的元素个数相差最小的前提下，两个集合的总和之差最大。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行给出一个正整数N(2≤N≤10<sup>，然后在下一行给出N个正整数，数中间由空格分隔。保证所有的整数及其总和小于2<sup>31</sup>。</sup></p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在一行中打印两个数字，∣n<sub>1</sub>−n<sub>2</sub>∣ 和 ∣S<sub>1</sub>−S<sub>2</sub>∣ 由空格隔开。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>将所有数排序。</li><li>计算前n/2个元素的总和，∣S<sub>1</sub>−S<sub>2</sub>∣的值等于sum-2*前n/2元素的和。</li><li>∣n<sub>1</sub>−n<sub>2</sub>∣为n%2，奇数为1，偶数为0。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, sum1 = <span class="number">0</span>, sum2 = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N; v.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; v[i];</span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N/<span class="number">2</span>; i++)</span><br><span class="line">        sum1 += v[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = N/<span class="number">2</span>; i &lt; N; i++)</span><br><span class="line">        sum2 += v[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; N % <span class="number">2</span> &lt;&lt; <span class="string">' '</span> &lt;&lt;  sum2 - sum1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">23</span> <span class="number">8</span> <span class="number">10</span> <span class="number">99</span> <span class="number">46</span> <span class="number">2333</span> <span class="number">46</span> <span class="number">1</span> <span class="number">666</span> <span class="number">555</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"><span class="number">0</span> <span class="number">3611</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="number">110</span> <span class="number">79</span> <span class="number">218</span> <span class="number">69</span> <span class="number">3721</span> <span class="number">100</span> <span class="number">29</span> <span class="number">135</span> <span class="number">2</span> <span class="number">6</span> <span class="number">13</span> <span class="number">5188</span> <span class="number">85</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"><span class="number">1</span> <span class="number">9359</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1112</title>
      <link href="//posts/72902837/"/>
      <url>//posts/72902837/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805357933608960" target="_blank" rel="noopener">题目链接</a><br>破损的键盘<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>On a broken keyboard, some of the keys are always stucked. So when you type some sentences, the characters corresponding to those keys will appear repeatedly on screen for k times.</p><p>Now given a resulting string on screen, you are supposed to list all the possible stucked keys, and the original string.</p><p>Notice that there might be some characters that are typed repeatedly. The stucked key will always repeat output for a fixed k times whenever it is pressed. For example, when k=3, from the string thiiis iiisss a teeeeeest we know that the keys i and e might be stucked, but s is not even though it appears repeatedly sometimes. The original string could be this isss a teest.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the 1st line gives a positive integer k (1&lt;k≤100) which is the output repeating times of a stucked key. The 2nd line contains the resulting string on screen, which consists of no more than 1000 characters from {a-z}, {0-9} and _. It is guaranteed that the string is non-empty.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, print in one line the possible stucked keys, in the order of being detected. Make sure that each key is printed once only. Then in the next line print the original string. It is guaranteed that there is at least one stucked key.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">char</span>, <span class="keyword">bool</span>&gt;res, temp;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; str;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= str.size()-N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; N; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[i + j] == str[i])</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!res.count(str[i]))</span><br><span class="line">                    res[str[i]] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                res[str[i]] = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (res[str[i]] == <span class="literal">true</span>)</span><br><span class="line">            i += (N - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (; i &lt; str.size(); i++)</span><br><span class="line">        res[str[i]] = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">        <span class="keyword">if</span> (res[str[i]] == <span class="literal">true</span>&amp;&amp;!temp.count(str[i]))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; str[i];</span><br><span class="line">            temp[str[i]] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (res[str[i]] == <span class="literal">false</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; str[i];</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; str[i];</span><br><span class="line">            i += (N - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"3.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">3</span></span><br><span class="line">caseee1__thiiis_iiisss_a_teeeeeest</span><br><span class="line">Sample Output:</span><br><span class="line">ei</span><br><span class="line">case1__this_isss_a_teest</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1099 Build A Binary Search Tree (30)</title>
      <link href="//posts/23974e8/"/>
      <url>//posts/23974e8/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805367987355648" target="_blank" rel="noopener">题目链接</a><br>构建二叉搜索树<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>A Binary Search Tree (BST) is recursively defined as a binary tree which has the following properties:</p><ul><li>The left subtree of a node contains only nodes with keys less than the node’s key.</li><li>The right subtree of a node contains only nodes with keys greater than or equal to the node’s key.</li><li>Both the left and right subtrees must also be binary search trees.</li></ul><p>Given the structure of a binary tree and a sequence of distinct integer keys, there is only one way to fill these keys into the tree so that the resulting tree satisfies the definition of a BST. You are supposed to output the level order traversal sequence of that tree. The sample is illustrated by Figure 1 and 2.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N (&lt;=100) which is the total number of nodes in the tree. The next N lines each contains the left and the right children of a node in the format “left_index right_index”, provided that the nodes are numbered from 0 to N-1, and 0 is always the root. If one child is missing, then -1 will represent the NULL child pointer. Finally N distinct integer keys are given in the last line.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, print in one line the level order traversal sequence of that tree. All the numbers must be separated by a space, with no extra space at the end of the line.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>二叉搜索树（BST）是以递归方式定义为具有以下属性的二叉树：</p><ul><li>节点的左子树仅包含键值小于节点键值的节点。</li><li>节点的右子树仅包含键值大于节点节点键值的节点。</li><li>左右子树也必须是二叉搜索树。</li></ul><p>给定二叉树的结构和一系列不同的整数键值，保证只有一种方法可以将这些键填充到书中，使得生成的树蛮族BST的定义。要求输出这棵树的层次遍历蓄力，示例图如下图1和2所示。</p><p><img src="/posts/23974e8/1099.png" alt="1099-1"></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例。第一行给出一个正整数N（&lt;=100），表示树中的节点数。接下来的N行包括节点的做孩子和右孩子，格式为“left_index right_index”，节点的编号从0~N-1。0始终是根节点。如果没有孩子节点，这用-1表示NULL。最后，在最后一行给出了N个不同的整数键值。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在一行中输出这棵树的层次遍历序列。所有的数字必须由空格隔开，末尾不得有多余的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>根据条件建树。</li><li>层次遍历</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">int</span> lchild, rchild;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; BT;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;num;</span><br><span class="line"><span class="keyword">int</span> N, l, r, cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (BT[root].lchild != <span class="number">-1</span>)</span><br><span class="line">        insert(BT[root].lchild);</span><br><span class="line">    BT[root].value = num[cnt++];</span><br><span class="line">    <span class="keyword">if</span> (BT[root].rchild != <span class="number">-1</span>)</span><br><span class="line">        insert(BT[root].rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bianli</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; BT[que.front()].value;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; BT[que.front()].value;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (BT[que.front()].lchild!=<span class="number">-1</span>)</span><br><span class="line">            que.push(BT[que.front()].lchild);</span><br><span class="line">        <span class="keyword">if</span>(BT[que.front()].rchild!=<span class="number">-1</span>)</span><br><span class="line">            que.push(BT[que.front()].rchild);</span><br><span class="line">        que.pop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    BT.resize(N); num.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; BT[i].lchild &gt;&gt; BT[i].rchild;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    sort(num.begin(), num.end());</span><br><span class="line">    insert(<span class="number">0</span>);</span><br><span class="line">    que.push(<span class="number">0</span>);</span><br><span class="line">    bianli();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">1</span> <span class="number">6</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">-1</span> <span class="number">-1</span></span><br><span class="line"><span class="number">-1</span> <span class="number">4</span></span><br><span class="line"><span class="number">5</span> <span class="number">-1</span></span><br><span class="line"><span class="number">-1</span> <span class="number">-1</span></span><br><span class="line"><span class="number">7</span> <span class="number">-1</span></span><br><span class="line"><span class="number">-1</span> <span class="number">8</span></span><br><span class="line"><span class="number">-1</span> <span class="number">-1</span></span><br><span class="line"><span class="number">73</span> <span class="number">45</span> <span class="number">11</span> <span class="number">58</span> <span class="number">82</span> <span class="number">25</span> <span class="number">67</span> <span class="number">38</span> <span class="number">42</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">58</span> <span class="number">25</span> <span class="number">82</span> <span class="number">11</span> <span class="number">38</span> <span class="number">67</span> <span class="number">45</span> <span class="number">73</span> <span class="number">42</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 二叉搜索树 </tag>
            
            <tag> 层次遍历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1111</title>
      <link href="//posts/eb99798d/"/>
      <url>//posts/eb99798d/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805358663417856" target="_blank" rel="noopener">题目链接</a><br>在线地图<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Input our current position and a destination, an online map can recommend several paths. Now your job is to recommend two paths to your user: one is the shortest, and the other is the fastest. It is guaranteed that a path exists for any request.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives two positive integers N (2≤N≤500), and M, being the total number of streets intersections on a map, and the number of streets, respectively. Then M lines follow, each describes a street in the format:</p><p>V1 V2 one-way length time</p><p>where V1 and V2 are the indices (from 0 to N−1) of the two ends of the street; one-way is 1 if the street is one-way from V1 to V2, or 0 if not; length is the length of the street; and time is the time taken to pass the street.</p><p>Finally a pair of source and destination is given.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, first print the shortest path from the source to the destination with distance D in the format:</p><p>Distance = D: source -&gt; v1 -&gt; … -&gt; destination</p><p>Then in the next line print the fastest path with total time T:</p><p>Time = T: source -&gt; w1 -&gt; … -&gt; destination</p><p>In case the shortest path is not unique, output the fastest one among the shortest paths, which is guaranteed to be unique. In case the fastest path is not unique, output the one that passes through the fewest intersections, which is guaranteed to be unique.</p><p>In case the shortest and the fastest paths are identical, print them in one line in the format:</p><p>Distance = D; Time = T: source -&gt; u1 -&gt; … -&gt; destination</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>输入我们当前的位置和目的地，在线地图可以推荐几条路径。现在你的工作是向用户推荐两条路径：一条是最短的，另一条是最快的。保证任何需求都存在一条路径。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。对于每种情况，第一行给出两个正整数 N (2≤N≤500)和M，分别表示地图上的街道交叉点的总数和街道的数量。然后是M行，每行以以下格式描述接到信息：</p><p>V1 V2 one-way length time</p><p>V1和V2是街道两端的编号（从0~N-1），oneway是1表示街道是V1-&gt;V2的单行线。0表示不是。length是街道的长度，time是通过街道的时间。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每种情况，首先输出从源到目的地的最短路径，D为距离：</p><p>Distance = D: source -&gt; v1 -&gt; … -&gt; destination</p><p>然后在下一行打印总时间最快的路径T:</p><p>Time = T: source -&gt; w1 -&gt; … -&gt; destination</p><p>若最短路径不唯一，这输出最短路径中的最快的路径，保证这个是唯一的。如果最快路径不唯一，这输出通过交叉点最少的路径，保证这个是唯一的。</p><p>如果最短路径和最快路径相同，则按照下列各式在一行内输出：</p><p>Distance = D; Time = T: source -&gt; u1 -&gt; … -&gt; destination</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>Dijkstra+DFS</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999999</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> l;</span><br><span class="line">    <span class="keyword">int</span> t;</span><br><span class="line">&#125; node;</span><br><span class="line"><span class="keyword">int</span> N, M, OneWay, len, t_cost, v1, v2, kaishi, jieshu, dis[<span class="number">501</span>];</span><br><span class="line"><span class="keyword">int</span> Gdis[<span class="number">501</span>][<span class="number">501</span>], Gcost[<span class="number">501</span>][<span class="number">501</span>];</span><br><span class="line"><span class="keyword">int</span> mindis=INF, mincost = INF,costvalue;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; disres, costres, distemp, costtemp;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;pre[<span class="number">501</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    distemp.push_back(v);</span><br><span class="line">    <span class="keyword">if</span> (v==kaishi)</span><br><span class="line">    &#123;</span><br><span class="line">        costvalue = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; distemp.size() - <span class="number">1</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            costvalue += Gcost[distemp[i + <span class="number">1</span>]][distemp[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (mincost&gt;costvalue)</span><br><span class="line">        &#123;</span><br><span class="line">            mincost = costvalue;</span><br><span class="line">            disres = distemp;</span><br><span class="line">        &#125;</span><br><span class="line">        distemp.pop_back();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pre[v].size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(pre[v][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    distemp.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS2</span><span class="params">(<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    costtemp.push_back(v);</span><br><span class="line">    <span class="keyword">if</span> (v == kaishi)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (costtemp.size()&lt;mindis)</span><br><span class="line">        &#123;</span><br><span class="line">            mindis = costtemp.size();</span><br><span class="line">            costres = costtemp;</span><br><span class="line">        &#125;</span><br><span class="line">        costtemp.pop_back();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pre[v].size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS2(pre[v][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    costtemp.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dij</span><span class="params">(<span class="keyword">int</span> G[<span class="number">501</span>][<span class="number">501</span>])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">501</span>; i++)</span><br><span class="line">        pre[i].clear();</span><br><span class="line">    fill(dis, dis + <span class="number">501</span>, INF);</span><br><span class="line">    <span class="keyword">bool</span> visit[<span class="number">501</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">    dis[kaishi] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = <span class="number">-1</span>, mindis = INF;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[j] == <span class="literal">false</span> &amp;&amp; dis[j] &lt; mindis)</span><br><span class="line">            &#123;</span><br><span class="line">                u = j;</span><br><span class="line">                mindis = dis[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        visit[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">0</span>; v &lt; N; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[v]==<span class="literal">false</span>&amp;&amp;G[u][v]!=INF)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (dis[u] + G[u][v] &lt; dis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    dis[v] = dis[u] + G[u][v];</span><br><span class="line">                    pre[v].clear();</span><br><span class="line">                    pre[v].push_back(u);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (dis[u] + G[u][v] == dis[v])</span><br><span class="line">                    pre[v].push_back(u);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    fill(Gdis[<span class="number">0</span>], Gdis[<span class="number">0</span>] + <span class="number">501</span> * <span class="number">501</span>, INF);</span><br><span class="line">    fill(Gcost[<span class="number">0</span>], Gcost[<span class="number">0</span>] + <span class="number">501</span> * <span class="number">501</span>, INF);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; v1 &gt;&gt; v2 &gt;&gt; OneWay &gt;&gt; len &gt;&gt; t_cost;</span><br><span class="line">        <span class="keyword">if</span> (OneWay)</span><br><span class="line">        &#123;</span><br><span class="line">            Gdis[v1][v2] = len;</span><br><span class="line">            Gcost[v1][v2] = t_cost;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Gdis[v1][v2] = len;</span><br><span class="line">            Gcost[v1][v2] = t_cost;</span><br><span class="line">            Gdis[v2][v1] = len;</span><br><span class="line">            Gcost[v2][v1] = t_cost;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; kaishi &gt;&gt; jieshu;</span><br><span class="line">    dij(Gdis);</span><br><span class="line">    DFS(jieshu);</span><br><span class="line">    <span class="keyword">int</span> temp1 = dis[jieshu];</span><br><span class="line">    dij(Gcost);</span><br><span class="line">    DFS2(jieshu);</span><br><span class="line">    <span class="keyword">int</span> temp2 = dis[jieshu];</span><br><span class="line">    <span class="keyword">if</span> (disres!=costres)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Distance = "</span> &lt;&lt; temp1 &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = disres.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; disres[i];</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">" -&gt; "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Time = "</span> &lt;&lt; temp2 &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = costres.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; costres[i];</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">" -&gt; "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Distance = "</span> &lt;&lt; temp1 &lt;&lt; <span class="string">"; Time = "</span> &lt;&lt; temp2 &lt;&lt; <span class="string">": "</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = disres.size() - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; disres[i];</span><br><span class="line">            <span class="keyword">if</span> (i != <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">" -&gt; "</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">10</span> <span class="number">15</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="number">8</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">9</span> <span class="number">1</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">6</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">7</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">8</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">0</span> <span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">1</span> <span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="number">5</span> <span class="number">1</span> <span class="number">0</span> <span class="number">5</span> <span class="number">2</span></span><br><span class="line"><span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line">Distance = <span class="number">6</span>: <span class="number">3</span> -&gt; <span class="number">4</span> -&gt; <span class="number">8</span> -&gt; <span class="number">5</span></span><br><span class="line">Time = <span class="number">3</span>: <span class="number">3</span> -&gt; <span class="number">1</span> -&gt; <span class="number">5</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">7</span> <span class="number">9</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">6</span> <span class="number">1</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">6</span> <span class="number">5</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line">Distance = <span class="number">3</span>; Time = <span class="number">4</span>: <span class="number">3</span> -&gt; <span class="number">2</span> -&gt; <span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> Dijkstra </tag>
            
            <tag> DFS </tag>
            
            <tag> 最短路径 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1110 Complete Binary Tree（25）</title>
      <link href="//posts/1a7984cb/"/>
      <url>//posts/1a7984cb/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805359372255232" target="_blank" rel="noopener">题目链接</a><br>完全二叉树<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a tree, you are supposed to tell if it is a complete binary tree.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N (≤20) which is the total number of nodes in the tree – and hence the nodes are numbered from 0 to N−1. Then N lines follow, each corresponds to a node, and gives the indices of the left and right children of the node. If the child does not exist, a - will be put at the position. Any pair of children are separated by a space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, print in one line YES and the index of the last node if the tree is a complete binary tree, or NO and the index of the root if not. There must be exactly one space separating the word and the number.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定一棵树，要求判断其是否是一个完全二叉树。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。第一行给出一个正整数N(≤20)，表示树中的节点总数，节点的编号0~N-1。随后是N行，每行一个节点，给出节点左右孩子的索引。如果不存在，则为“-”，一对孩子中，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>如果是完全二叉树，输出“YES”，并输出最后一个节点的编号。如果不是，就输出“NO”和根节点的编号。由空格隔开。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>找到根节点：所有节点中，不是孩子的那个节点。</li><li>已知根节点和每个节点的左右孩子，按照二叉树层次遍历的方法，遍历二叉树。</li><li>这里我按照层次遍历的顺序，给每个节点从1~N进行了重新编号。完全二叉树满足：若i编号的节点有孩子，这左孩子的编号为2<em>i，右孩子的编号为2</em>i+1。根据这个进行判断即可。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>类似题目1102</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span><span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ID;</span><br><span class="line">    <span class="keyword">int</span> lchild, rchild;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;que;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; v, s;</span><br><span class="line"><span class="built_in">string</span> temp;</span><br><span class="line"><span class="keyword">bool</span> FindRoot[<span class="number">21</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.ID &lt; b.ID;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    v.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">if</span> (temp[<span class="number">0</span>] != <span class="string">'-'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            v[i].lchild = stoi(temp);</span><br><span class="line">            FindRoot[v[i].lchild] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            v[i].lchild = <span class="number">-1</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">if</span> (temp[<span class="number">0</span>] != <span class="string">'-'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            v[i].rchild = stoi(temp);</span><br><span class="line">            FindRoot[v[i].rchild] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            v[i].rchild = <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (FindRoot[i] == <span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            root = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    que.push(root);</span><br><span class="line">    <span class="keyword">int</span> f, cnt = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (!que.empty())     <span class="comment">//层次遍历，重排一下序号</span></span><br><span class="line">    &#123;</span><br><span class="line">        f = que.front(); que.pop(); v[f].ID = cnt++;</span><br><span class="line">        <span class="keyword">if</span> (v[f].lchild != <span class="number">-1</span>)</span><br><span class="line">            que.push(v[f].lchild);</span><br><span class="line">        <span class="keyword">if</span> (v[f].rchild != <span class="number">-1</span>)</span><br><span class="line">            que.push(v[f].rchild);</span><br><span class="line">    &#125;</span><br><span class="line">    s = v;</span><br><span class="line">    sort(s.begin(), s.end(), cmp);</span><br><span class="line">    <span class="keyword">bool</span> flag=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)      <span class="comment">//判断是否满足条件</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s[i].lchild != <span class="number">-1</span> &amp;&amp; v[s[i].lchild].ID != s[i].ID * <span class="number">2</span>)</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (s[i].rchild != <span class="number">-1</span> &amp;&amp; v[s[i].rchild].ID != s[i].ID * <span class="number">2</span> + <span class="number">1</span>)</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"YES "</span> &lt;&lt; f;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"NO "</span> &lt;&lt; root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">7</span> <span class="number">8</span></span><br><span class="line">- -</span><br><span class="line">- -</span><br><span class="line">- -</span><br><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line">- -</span><br><span class="line">- -</span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line">YES <span class="number">8</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">8</span></span><br><span class="line">- -</span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">0</span> <span class="number">6</span></span><br><span class="line">- -</span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line">- <span class="number">7</span></span><br><span class="line">- -</span><br><span class="line">- -</span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line">NO <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 完全二叉树 </tag>
            
            <tag> 层次遍历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1109 Group Photo（25）</title>
      <link href="//posts/fde4c840/"/>
      <url>//posts/fde4c840/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805360043343872" target="_blank" rel="noopener">题目链接</a><br>合影<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Formation is very important when taking a group photo. Given the rules of forming K rows with N people as the following:</p><ul><li>The number of people in each row must be N/K (round down to the nearest integer), with all the extra people (if any) standing in the last row;</li><li>All the people in the rear row must be no shorter than anyone standing in the front rows;</li><li>In each row, the tallest one stands at the central position (which is defined to be the position (m/2+1), where m is the total number of people in that row, and the division result must be rounded down to the nearest integer);</li><li>In each row, other people must enter the row in non-increasing order of their heights, alternately taking their positions first to the right and then to the left of the tallest one (For example, given five people with their heights 190, 188, 186, 175, and 170, the final formation would be 175, 188, 190, 186, and 170. Here we assume that you are facing the group so your left-hand side is the right-hand side of the one at the central position.);</li><li>When there are many people having the same height, they must be ordered in alphabetical (increasing) order of their names, and it is guaranteed that there is no duplication of names.</li></ul><p>Now given the information of a group of people, you are supposed to write a program to output their formation.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each test case, the first line contains two positive integers N (≤10<sup>4</sup>), the total number of people, and K (≤10), the total number of rows. Then N lines follow, each gives the name of a person (no more than 8 English letters without space) and his/her height (an integer in [30, 300]).</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, print the formation – that is, print the names of people in K lines. The names must be separated by exactly one space, but there must be no extra space at the end of each line. Note: since you are facing the group, people in the rear rows must be printed above the people in the front rows.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>在拍摄合影的时候，队形很重要。用N个人形成K行队形的规则如下：</p><ul><li>每行中的人数必须是N/K（向下取整），所有额外的人（如果有的话）站在最后一行。</li><li>后排的所有人都不得比站在前排的任何人更矮。</li><li>在每行中，最高的人站在中心位置（即m/2+1的位置），m是这一行的总人数，并且除法结果必须向下取整。</li><li>在每行中，其他人必须以非递增的身高顺序进入该行，交替地进入。先进到身高最高同学的右侧，再进到其左侧。例如，5个人的身高分别是190, 188, 186, 175, and 170，最终的阵型会是175, 188, 190, 186,  170.这里假设你面朝这个小组，所以你的左手边的位置是队列中间的人的右手边。</li><li>当许多人都有同样的身高时，必须按照其名称的字母增序对他们进行排序，保证不存在重名的人。</li></ul><p>现给出一组人的信息，要求编写一个程序输出他们的队列。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例，第一行有两个正整数 N (≤10<sup>4</sup>)表示人的总数，K (≤10)表示行的总数。接下里是N行，每行给出一个人的姓名（不超过8个没有空格的英文字母）和他的身高，身高范围在[30, 300]内。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出形成的队列——也就是说，在K行中打印这些人的名字。名字必须由空格隔开，每行末尾不得有多余的空格。注意：假定现在是面向队列，所以后排的人员必须在前排人员的上方。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟后，存于res vector中，按照要求输出即可。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>从后往前排比较好，先排个子高的人。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">int</span> len;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(node a, node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.len != b.len)</span><br><span class="line">        <span class="keyword">return</span> a.len &gt; b.len;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.name &lt; b.name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; v;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; res;</span><br><span class="line"><span class="keyword">int</span> N, K, row, cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    v.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; v[i].name &gt;&gt; v[i].len;</span><br><span class="line">    sort(v.begin(), v.end(), cmp);</span><br><span class="line">    row = K;</span><br><span class="line">    <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">while</span> (row&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (row == K)</span><br><span class="line">            num = N - N / K*(K - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            num = N / K;</span><br><span class="line">        res.resize(num);</span><br><span class="line">        res[num / <span class="number">2</span>] = v[cnt++].name;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (flag==<span class="literal">false</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                res[num / <span class="number">2</span> - (i + <span class="number">1</span>) / <span class="number">2</span>] = v[cnt++].name;</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                res[num / <span class="number">2</span> + (i + <span class="number">1</span>) / <span class="number">2</span>] = v[cnt++].name;</span><br><span class="line">                flag = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        row--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; res[i];</span><br><span class="line">            <span class="keyword">if</span> (i!=res.size()<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="number">3</span></span><br><span class="line">Tom <span class="number">188</span></span><br><span class="line">Mike <span class="number">170</span></span><br><span class="line">Eva <span class="number">168</span></span><br><span class="line">Tim <span class="number">160</span></span><br><span class="line">Joe <span class="number">190</span></span><br><span class="line">Ann <span class="number">168</span></span><br><span class="line">Bob <span class="number">175</span></span><br><span class="line">Nick <span class="number">186</span></span><br><span class="line">Amy <span class="number">160</span></span><br><span class="line">John <span class="number">159</span></span><br><span class="line"></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line">Bob Tom Joe Nick</span><br><span class="line">Ann Mike Eva</span><br><span class="line">Tim Amy John</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1108 Finding Average（20）</title>
      <link href="//posts/8b5ef068/"/>
      <url>//posts/8b5ef068/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805360777347072" target="_blank" rel="noopener">题目链接</a><br>找到平均数<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>The basic task is simple: given N real numbers, you are supposed to calculate their average. But what makes it complicated is that some of the input numbers might not be legal. A legal input is a real number in [−1000,1000] and is accurate up to no more than 2 decimal places. When you calculate the average, those illegal numbers must not be counted in.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N (≤100). Then N numbers are given in the next line, separated by one space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each illegal input number, print in a line ERROR: X is not a legal number where X is the input. Then finally print in a line the result: The average of K numbers is Y where K is the number of legal inputs and Y is their average, accurate to 2 decimal places. In case the average cannot be calculated, output Undefined instead of Y. In case K is only 1, output The average of 1 number is Y instead.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定N个数，要求计算他们的平均值。但是，某些输入的数字可能不合法。一个合法的输入是在 [−1000,1000] 间的实数，最多精确到小数点后2位。计算平均值时，不得计入这些非法的数字。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例。对于每种情况，第一行给出一个正整数N(≤100)。然后在下一行给出N个数，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个非法的输入，输出ERROR: X is not a legal number，其中X是那个非法的输入。然后在最后一行中打印结果：The average of K numbers is Y 。K是合法输入的数量，Y使他们的平均值，精确到2位小数。如果无法计算平均值，则输出Undefined。如果K只有1，则输出The average of 1 number is Y。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>字符串处理。使用sscanf()和sprintf()。具体细节见代码注释</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>sscanf() – 从一个字符串中读进与指定格式相符的数据</li><li>sprintf() – 字符串格式化命令，主要功能是把格式化的数据写入某个字符串中。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> num[<span class="number">50</span>],s[<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> N, cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">double</span> numSum = <span class="number">0.0</span>, temp;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, num);</span><br><span class="line">        <span class="built_in">sscanf</span>(num, <span class="string">"%lf"</span>, &amp;temp);<span class="comment">//temp用于计算求和</span></span><br><span class="line">        <span class="built_in">sprintf</span>(s, <span class="string">"%.2lf"</span>, temp);<span class="comment">//s字符串用于比较，这样比较起来比较方便</span></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">strlen</span>(num); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (num[j] != s[j])</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag || temp &lt; <span class="number">-1000</span> || temp&gt;<span class="number">1000</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"ERROR: %s is not a legal number\n"</span>, num);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            numSum += temp;</span><br><span class="line">            cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cnt == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The average of 1 number is %.2lf"</span>, numSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (cnt &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The average of %d numbers is %.2lf"</span>, cnt, numSum / cnt);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"The average of 0 numbers is Undefined"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">5</span> <span class="number">-3.2</span> aaa <span class="number">9999</span> <span class="number">2.3</span><span class="number">.4</span> <span class="number">7.123</span> <span class="number">2.35</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line">ERROR: aaa is <span class="keyword">not</span> a legal number</span><br><span class="line">ERROR: <span class="number">9999</span> is <span class="keyword">not</span> a legal number</span><br><span class="line">ERROR: <span class="number">2.3</span><span class="number">.4</span> is <span class="keyword">not</span> a legal number</span><br><span class="line">ERROR: <span class="number">7.123</span> is <span class="keyword">not</span> a legal number</span><br><span class="line">The average of <span class="number">3</span> numbers is <span class="number">1.38</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">2</span></span><br><span class="line">aaa <span class="number">-9999</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line">ERROR: aaa is <span class="keyword">not</span> a legal number</span><br><span class="line">ERROR: <span class="number">-9999</span> is <span class="keyword">not</span> a legal number</span><br><span class="line">The average of <span class="number">0</span> numbers is Undefined</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1107 Social Clusters（30）</title>
      <link href="//posts/45a41abd/"/>
      <url>//posts/45a41abd/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805361586847744" target="_blank" rel="noopener">题目链接</a><br>社交集群<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>When register on a social network, you are always asked to specify your hobbies in order to find some potential friends with the same hobbies. A social cluster is a set of people who have some of their hobbies in common. You are supposed to find all the clusters.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each test case, the first line contains a positive integer N (≤1000), the total number of people in a social network. Hence the people are numbered from 1 to N. Then N lines follow, each gives the hobby list of a person in the format:</p><p>K<sub>i</sub>: h<sub>i</sub>[1] h<sub>i</sub>[2] … h<sub>i</sub>[Ki]</p><p>where K<sub>i</sub>(&gt;0) is the number of hobbies, and h<sub>i</sub>[j] is the index of the j-th hobby, which is an integer in [1, 1000].</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, print in one line the total number of clusters in the network. Then in the second line, print the numbers of people in the clusters in non-increasing order. The numbers must be separated by exactly one space, and there must be no extra space at the end of the line.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>在社交网络上注册时，总会要求你来指定自己的爱好，一边找到具有相同爱好的潜在的朋友。一个社交集群就是一组拥有他们的一些共同爱好的人。要求你找到所有的集群。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例。对于每个测试用例，第一行包含一个正整数N(≤1000)，表示整个社交网络的总人数，人们的编号是从1~N，接下来是N行，每行以以下格式给出一个人的爱好列表：</p><p>K<sub>i</sub>: h<sub>i</sub>[1] h<sub>i</sub>[2] … h<sub>i</sub>[Ki]</p><p>K<sub>i</sub>(&gt;0) 是爱好的数量，h<sub>i</sub>[j]是第j个爱好的标号，他是[1, 1000]中的正数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每种情况，在一行中打印这个社交网络的集群总数，然后在第二行中，以非递增顺序输出集群中的人的总数。数字之间必须由一个空格隔开，每行的末尾不得有多余的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用并查集，记得保留集群的总人数。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; par;</span><br><span class="line"><span class="keyword">int</span> hobby[<span class="number">1001</span>] = &#123; <span class="number">0</span> &#125;, N;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">1001</span>];<span class="comment">//表示以i为根的圈子的大小</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> num[a] &gt; num[b];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">FindRoot</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j, k = x;</span><br><span class="line">    <span class="keyword">while</span> (x != par[x])</span><br><span class="line">        x = par[x];</span><br><span class="line">    <span class="keyword">while</span> (k != x)</span><br><span class="line">    &#123;</span><br><span class="line">        j = par[k];</span><br><span class="line">        par[k] = x;</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x = FindRoot(x);</span><br><span class="line">    y = FindRoot(y);</span><br><span class="line">    <span class="keyword">if</span> (x == y)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        par[y] = x;</span><br><span class="line">        num[x] += num[y];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    par.resize(N + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        par[i] = i;</span><br><span class="line">        num[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> k, h;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d: "</span>, &amp;k);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; h;</span><br><span class="line">            <span class="keyword">if</span> (hobby[h] == <span class="number">0</span>)</span><br><span class="line">                hobby[h] = i;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                merge(i, hobby[h]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (par[i] == i)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            res.push_back(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(res.begin(), res.end(), cmp2);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; num[res[i]];</span><br><span class="line">        <span class="keyword">if</span> (i != res.size() - <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">3</span>: <span class="number">2</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span>: <span class="number">4</span></span><br><span class="line"><span class="number">2</span>: <span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">1</span>: <span class="number">4</span></span><br><span class="line"><span class="number">1</span>: <span class="number">3</span></span><br><span class="line"><span class="number">1</span>: <span class="number">4</span></span><br><span class="line"><span class="number">4</span>: <span class="number">6</span> <span class="number">8</span> <span class="number">1</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span>: <span class="number">4</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 并查集 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1106 Lowest Price in Supply Chain（25）</title>
      <link href="//posts/d7add263/"/>
      <url>//posts/d7add263/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805362341822464" target="_blank" rel="noopener">题目链接</a><br>供应链中的最低价格<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>A supply chain is a network of retailers（零售商）, distributors（经销商）, and suppliers（供应商）– everyone involved in moving a product from supplier to customer.</p><p>Starting from one root supplier, everyone on the chain buys products from one’s supplier in a price P and sell or distribute them in a price that is r% higher than P. Only the retailers will face the customers. It is assumed that each member in the supply chain has exactly one supplier except the root supplier, and there is no supply cycle.</p><p>Now given a supply chain, you are supposed to tell the lowest price a customer can expect from some retailers.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, The first line contains three positive numbers: N (≤10<sup>​5</sup>), the total number of the members in the supply chain (and hence their ID’s are numbered from 0 to N−1, and the root supplier’s ID is 0); P, the price given by the root supplier; and r, the percentage rate of price increment for each distributor or retailer. Then N lines follow, each describes a distributor or retailer in the following format:</p><p>K​<sub>i</sub>​​ ID[1] ID[2] … ID[K<sub>​i</sub>]</p><p>where in the i-th line, K​<sub>i</sub> is the total number of distributors or retailers who receive products from supplier i, and is then followed by the ID’s of these distributors or retailers. K​<sub>j</sub> being 0 means that the j-th member is a retailer. All the numbers in a line are separated by a space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, print in one line the lowest price we can expect from some retailers, accurate up to 4 decimal places, and the number of retailers that sell at the lowest price. There must be one space between the two numbers. It is guaranteed that the all the prices will not exceed 10<sup>10</sup>.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>一个供应链是由零售商，分销商和供应商组成的网络，每个都将参与把产品从供应商转移到客户的流程中。</p><p>从一个根供应商开始，链上的每个人都以一个价格从他的上家以P的价格购买并加价r%卖出去。只有零售商才会面对客户。假设供应链中的每个成员除了根供应商之外都只有一个上家，没有供应周期。</p><p>先给定供应链，求客户可以从一些零售商哪里得到的最低的价格。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。对于每个测试，第一行包含三个正整数：N(≤10<sup>​5</sup>)，供应链中成员的总数量（编号从0~N-1，根供应商的ID为0）；P，根供应商给出的价格，r每个经销商或者零售商加价的百分比。接下来是N行，每行以以下格式描述分销商或者零售商：</p><p>K​<sub>i</sub>​​ ID[1] ID[2] … ID[K<sub>​i</sub>]</p><p>K​<sub>i</sub>是第i号商户下家的总数（即从第i号商户这里采购商品的有多少人），然后是这些经销商的ID。K​<sub>j</sub>为0表示第j号商户是零售商。一行中所有的数字之间都由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中输出用户可以从零售商那里买到的最低价格，精确到4位小数，以及给出最低价格的零售商的数量。两个数字之间必须有一个空格，保证所有的价格不会超过10<sup>10</sup>。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>先根据输入的信息建立出整个零售网络。</li><li>DFS或者BFS进行遍历。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>类似题目：1079，1090。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, num[<span class="number">10001</span>];</span><br><span class="line"><span class="keyword">int</span> M[<span class="number">400</span>][<span class="number">400</span>], a, b, temp, cnt = <span class="number">0</span>, model = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="built_in">sqrt</span>((<span class="keyword">double</span>)N);</span><br><span class="line">    <span class="keyword">while</span> (i&gt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (N%i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        i--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y1, <span class="keyword">int</span> y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (cnt!= N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = x1; i &lt; x2; i++)</span><br><span class="line">                M[y1][i] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            y1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y1; i &lt; y2; i++)</span><br><span class="line">                M[i][x2<span class="number">-1</span>] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            x2--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model%<span class="number">4</span>==<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = x2<span class="number">-1</span>; i &gt;= x1; i--)</span><br><span class="line">                M[y2<span class="number">-1</span>][i] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            y2--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y2<span class="number">-1</span>; i &gt;= y1; i--)</span><br><span class="line">                M[i][x1] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            x1++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    sort(num, num + N, cmp);</span><br><span class="line">    a = b = <span class="built_in">sqrt</span>(N); temp = N;</span><br><span class="line">    b = f(); a = N / b;</span><br><span class="line">    insert(<span class="number">0</span>, b, <span class="number">0</span>, a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; M[i][j];</span><br><span class="line">            <span class="keyword">if</span> (j != b - <span class="number">1</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">10</span> <span class="number">1.80</span> <span class="number">1.00</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">9</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">7</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">8</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">1.8362</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 层次遍历 </tag>
            
            <tag> 树 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1105 Spiral Matrix (25)</title>
      <link href="//posts/7507f506/"/>
      <url>//posts/7507f506/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805363117768704" target="_blank" rel="noopener">题目链接</a><br>螺旋矩阵<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>This time your job is to fill a sequence of N positive integers into a <strong>spiral matrix</strong> in non-increasing order. A <strong>spiral matrix</strong> is filled in from the first element at the upper-left corner, then move in a clockwise spiral. The matrix has <strong>m</strong> rows and <strong>n</strong> columns, where <strong>m</strong> and <strong>n</strong> satisfy the following: <strong>m*n</strong> must be equal to N; <strong>m</strong>&gt;=<strong>n</strong>; and <strong>m</strong>-<strong>n</strong> is the minimum of all the possible values.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N. Then the next line contains N positive integers to be filled into the spiral matrix. All the numbers are no more than 10<sup>4</sup>. The numbers in a line are separated by spaces.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, output the resulting matrix in m lines, each contains n numbers. There must be exactly 1 space between two adjacent numbers, and no extra space at the end of each line.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>这次你的工作是以非递增的顺序将一系列N个正整数填充到螺旋矩阵中，从螺旋矩阵的左上角的第一个元素开始填充，然后按照顺时针螺旋形移动。矩阵有m行和n列，其中m和n要满足以下要求：<strong>m*n</strong> 必须为等于N，<strong>m</strong>&gt;=<strong>n</strong> 并且 <strong>m</strong>-<strong>n</strong> 要最小。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。对于每种情况，第一行给出一个正整数N，然后下一行包含要填充到螺旋矩阵中的N个正整数。保证所有的数字都不超过10<sup>4</sup>。一行中的数字用空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，以m行输出结果矩阵，每行包括n个数字，两个相邻数字之间必须有一个空格，每行末尾不得有多余的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟去做即可。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, num[<span class="number">10001</span>];</span><br><span class="line"><span class="keyword">int</span> M[<span class="number">400</span>][<span class="number">400</span>], a, b, temp, cnt = <span class="number">0</span>, model = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">f</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="built_in">sqrt</span>((<span class="keyword">double</span>)N);</span><br><span class="line">    <span class="keyword">while</span> (i&gt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (N%i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        i--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x1, <span class="keyword">int</span> x2, <span class="keyword">int</span> y1, <span class="keyword">int</span> y2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (cnt!= N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = x1; i &lt; x2; i++)</span><br><span class="line">                M[y1][i] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            y1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y1; i &lt; y2; i++)</span><br><span class="line">                M[i][x2<span class="number">-1</span>] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            x2--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model%<span class="number">4</span>==<span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = x2<span class="number">-1</span>; i &gt;= x1; i--)</span><br><span class="line">                M[y2<span class="number">-1</span>][i] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            y2--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (model % <span class="number">4</span> == <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = y2<span class="number">-1</span>; i &gt;= y1; i--)</span><br><span class="line">                M[i][x1] = num[cnt++];</span><br><span class="line">            model++;</span><br><span class="line">            x1++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    sort(num, num + N, cmp);</span><br><span class="line">    a = b = <span class="built_in">sqrt</span>(N); temp = N;</span><br><span class="line">    b = f(); a = N / b;</span><br><span class="line">    insert(<span class="number">0</span>, b, <span class="number">0</span>, a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; M[i][j];</span><br><span class="line">            <span class="keyword">if</span> (j != b - <span class="number">1</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">37</span> <span class="number">76</span> <span class="number">20</span> <span class="number">98</span> <span class="number">76</span> <span class="number">42</span> <span class="number">53</span> <span class="number">95</span> <span class="number">60</span> <span class="number">81</span> <span class="number">58</span> <span class="number">93</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">98</span> <span class="number">95</span> <span class="number">93</span></span><br><span class="line"><span class="number">42</span> <span class="number">37</span> <span class="number">81</span></span><br><span class="line"><span class="number">53</span> <span class="number">20</span> <span class="number">76</span></span><br><span class="line"><span class="number">58</span> <span class="number">60</span> <span class="number">76</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1104 Sum of Number Segments (20)</title>
      <link href="//posts/bd559055/"/>
      <url>//posts/bd559055/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805363914686464" target="_blank" rel="noopener">题目链接</a><br>数字段的总和<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a sequence of positive numbers, a segment is defined to be a consecutive subsequence. For example, given the sequence {0.1, 0.2, 0.3, 0.4}, we have 10 segments: (0.1) (0.1, 0.2) (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4) (0.2) (0.2, 0.3) (0.2, 0.3, 0.4) (0.3) (0.3, 0.4) (0.4).</p><p>Now given a sequence, you are supposed to find the sum of all the numbers in all the segments. For the previous example, the sum of all the 10 segments is 0.1 + 0.3 + 0.6 + 1.0 + 0.2 + 0.5 + 0.9 + 0.3 + 0.7 + 0.4 = 5.0.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N, the size of the sequence which is no more than 10<sup>5</sup>. The next line contains N positive numbers in the sequence, each no more than 1.0, separated by a space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, print in one line the sum of all the numbers in all the segments, accurate up to 2 decimal places.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>给定一系列整数，将一个 <em>段（segment）</em> 定义为连续的子序列。例如，给定序列{0.1, 0.2, 0.3, 0.4}，我们有10个段： (0.1) (0.1, 0.2) (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4) (0.2) (0.2, 0.3) (0.2, 0.3, 0.4) (0.3) (0.3, 0.4) (0.4)。</p><p>现在给定一个序列，请你找到所有段中，所有数字的总和。对于前面的例子，这所有的10个段的总和是0.1 + 0.3 + 0.6 + 1.0 + 0.2 + 0.5 + 0.9 + 0.3 + 0.7 + 0.4 = 5.0。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。对于每个测试用例，第一行给出一个正整数N，表示序列的大小。下一行是这个序列的N个正整数，每个都不超过1.0，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中输出所有的段的所有数字的和。保留两位小数。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这个题只需要计算出每个位置的数字出现多少次，即可直接求出结果。</p><p>对于第i位上出现的数，以他开头的序列共N-i+1个。</p><p>以0.2为例，共(0.2) (0.2, 0.3) (0.2, 0.3, 0.4)。共4-2+1=3个。</p><p>但是包含上述三个序列的序列共i个，以0.2为例，除了上述的三个，还有以0.1开头的三个序列。即(0.1, 0.2) (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4)。</p><p>同理0.3类似，(0.3) (0.3, 0.4)。除了这两个，包含这两个序列的序列有： (0.1, 0.2, 0.3) (0.1, 0.2, 0.3, 0.4)还有(0.2, 0.3) (0.2, 0.3, 0.4)。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>找出数学规律，比直接模拟求出所有的序列再求和要方便得多。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">double</span> num[<span class="number">100001</span>], sum = <span class="number">0.0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">        sum += num[i] * i * (N - i + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f"</span>, sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">0.1</span> <span class="number">0.2</span> <span class="number">0.3</span> <span class="number">0.4</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">5.00</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 数学 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1103 Integer Factorization (30)</title>
      <link href="//posts/5efed0ac/"/>
      <url>//posts/5efed0ac/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805364711604224" target="_blank" rel="noopener">题目链接</a><br>整数的因式分解<br><a id="more"></a></p><h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>The K-P factorization of a positive integer N is to write N as the sum of the P-th power of K positive integers. You are supposed to write a program to find the K-P factorization of N for any positive integers N, K and P.</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case which gives in a line the three positive integers N (&lt;=400), K (&lt;=N) and P (1&lt;P&lt;=7). The numbers in a line are separated by a space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each case, if the solution exists, output in the format:</p><p>N = n<sub>1</sub><sup>P</sup> + … n<sub>K</sub><sup>P</sup></p><p>where n<sub>i</sub> (i=1, … K) is the i-th factor. All the factors must be printed in non-increasing order.</p><p>Note: the solution may not be unique. For example, the 5-2 factorization of 169 has 9 solutions, such as 12<sup>2</sup> + 4<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 1<sup>2</sup>, or 11<sup>2</sup> + 6<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup>, or more. You must output the one with the maximum sum of the factors. If there is a tie, the largest factor sequence must be chosen – sequence { a<sub>1</sub>, a~2~, … a<sub>K</sub> } is said to be larger than { b<sub>1</sub>, b<sub>2</sub>, … b<sub>K</sub> } if there exists 1&lt;=L&lt;=K such that a<sub>i</sub>=b<sub>i</sub> for i&lt;L and a<sub>L</sub>&gt;b<sub>L</sub>。</p><p>If there is no solution, simple output “Impossible”.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>整数的k-P因式分解是把一个整数N写作K个正整数的P次幂的和的形式。现在希望你写一个程序来找到对于任何正整数N，K和P，写出其K-P形式的因式分解。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，在一行中给出三个正整数N (&lt;=400), K (&lt;=N) 和 P (1&lt;P&lt;=7)。由空格分隔。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试，如果存在解法，则按照以下格式输出：</p><p>N = n<sub>1</sub><sup>P</sup> + … n<sub>K</sub><sup>P</sup></p><p>其中n<sub>i</sub> (i=1, … K)是第i个因子。所有的因子必须以非递增的顺序打印。</p><p>注意：解法可能不唯一，比如169的2-5因式分解，具有9个解，例如12<sup>2</sup> + 4<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 1<sup>2</sup>, 或者 11<sup>2</sup> + 6<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup> + 2<sup>2</sup>,要求输出具有最大因子总和的那个，如果还是相同，则输出具有最大因子序列的解。</p><p>因子序列大小的判断规则：</p><p>对于序列A{ a<sub>1</sub>, a~2~, … a<sub>K</sub> }和序列B{ b<sub>1</sub>, b<sub>2</sub>, … b<sub>K</sub> } ，若存在L满足1&lt;=L&lt;=K，且对于任意i&lt;L，都有a<sub>i</sub>=b<sub>i</sub>，并且a<sub>L</sub>&gt;b<sub>L</sub>，则认为序列A&gt;序列B。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>因为要用的都是数的P次幂，因此可以先将pow(i,P)保存下来，其中pow(i,P)&lt;=N。</li><li>然后就是DFS进行搜索。</li><li>对于每次找到的K个数，并且其P次幂的和也为N的数，求出这些数的和，对于和最大的序列，保留为结果。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, K, P, sum = <span class="number">0</span>, maxsum = <span class="number">0</span>, upbound;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v, temp, res;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> cur)</span><span class="comment">//cur表示目前找打了多少个数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cur==K)<span class="comment">//找到了K个数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (s==<span class="number">0</span>)<span class="comment">//s表示目前还剩多少</span></span><br><span class="line">        &#123;</span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temp.size(); i++)</span><br><span class="line">                sum += temp[i];</span><br><span class="line">            <span class="keyword">if</span> (sum&gt;maxsum)<span class="comment">//sum表示当前序列各个数的和，只保留最大的</span></span><br><span class="line">            &#123;</span><br><span class="line">                res = temp;</span><br><span class="line">                maxsum = sum;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    upbound = cur &gt; <span class="number">0</span> ? temp[cur - <span class="number">1</span>] : v.size() - <span class="number">1</span>;<span class="comment">//由于是先找大的，因此就从大向小去找。upbound表示查找的上界</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = upbound; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (v[i] &lt;= s)</span><br><span class="line">        &#123;</span><br><span class="line">            temp[cur] = i;</span><br><span class="line">            DFS(s - v[i], cur + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K &gt;&gt; P;</span><br><span class="line">    v.push_back(<span class="number">0</span>); temp.resize(K);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; <span class="built_in">pow</span>(i, P) &lt;= N; i++)</span><br><span class="line">        v.push_back(<span class="built_in">pow</span>(i, P));</span><br><span class="line">    DFS(N, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (res.size() == K)<span class="comment">//只有找到了K个数才输出</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; N &lt;&lt; <span class="string">" = "</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d^%d"</span>, res[<span class="number">0</span>], P);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; res.size(); i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">" + %d^%d"</span>, res[i], P);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Impossible"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">169</span> <span class="number">5</span> <span class="number">2</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">169</span> = <span class="number">6</span>^<span class="number">2</span> + <span class="number">6</span>^<span class="number">2</span> + <span class="number">6</span>^<span class="number">2</span> + <span class="number">6</span>^<span class="number">2</span> + <span class="number">5</span>^<span class="number">2</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">169</span> <span class="number">167</span> <span class="number">3</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">Impossible</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
            <tag> 记忆化搜索 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1102 Invert a Binary Tree (25)</title>
      <link href="//posts/9691409a/"/>
      <url>//posts/9691409a/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805365537882112" target="_blank" rel="noopener">题目链接</a><br>反转二叉树<br><a id="more"></a></p><h2 id="description"><a href="#description" class="headerlink" title="description"></a>description</h2><p>The following is from Max Howell @twitter:</p><p>Google: 90% of our engineers use the software you wrote (Homebrew), but you can’t invert a binary tree on a whiteboard so fuck off.</p><p>Now it’s your turn to prove that YOU CAN invert a binary tree!</p><h2 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification"></a>Input Specification</h2><p>Each input file contains one test case. For each case, the first line gives a positive integer N (&lt;=10) which is the total number of nodes in the tree – and hence the nodes are numbered from 0 to N-1. Then N lines follow, each corresponds to a node from 0 to N-1, and gives the indices of the left and right children of the node. If the child does not exist, a “-“ will be put at the position. Any pair of children are separated by a space.</p><h2 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification"></a>Output Specification</h2><p>For each test case, print in the first line the level-order, and then in the second line the in-order traversal sequences of the inverted tree. There must be exactly one space between any adjacent numbers, and no extra space at the end of the line.</p><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>现在轮到你来证明你可以反转一棵二叉树了！</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例，第一行给出一个正整数N（&lt;=10），他是树中节点的总数。节点从0~N-1编号。</p><p>接下来是N行，每行对应一个从0到N-1的节点，并给出节点的左右子节点的索引，如果孩子不存在，就在该位置放置’-‘。两个孩子之间由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中输出层次遍历，然后在第二行中，输出这棵树的反转的层次遍历，数字之间由空格隔开，并且行的末尾不得有额外的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>找到这棵树的根。</li><li>层次遍历没啥好说的，使用queue队列，一层层的遍历就好了。</li><li>对于反向的中序遍历，遍历顺序是“<strong>右左根</strong>”。递归去写即可。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> lchild=<span class="number">-1</span>, rchild=<span class="number">-1</span>;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; T;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; FindRoot;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">char</span> temp1, temp2;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">InOrder</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (T[root].rchild != <span class="number">-1</span>)</span><br><span class="line">        InOrder(T[root].rchild);</span><br><span class="line">    <span class="keyword">if</span> (flag)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root;</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (T[root].lchild != <span class="number">-1</span>)</span><br><span class="line">        InOrder(T[root].lchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt;que;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">levelOrder</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> root = que.front();</span><br><span class="line">        que.pop();</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; root;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (T[root].rchild != <span class="number">-1</span>)</span><br><span class="line">            que.push(T[root].rchild);</span><br><span class="line">        <span class="keyword">if</span> (T[root].lchild != <span class="number">-1</span>)</span><br><span class="line">            que.push(T[root].lchild);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    T.resize(N); FindRoot.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp1&gt;&gt;temp2;</span><br><span class="line">        <span class="keyword">if</span> (temp1 != <span class="string">'-'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            T[i].lchild = temp1 - <span class="string">'0'</span>;</span><br><span class="line">            FindRoot[temp1 - <span class="string">'0'</span>] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp2 != <span class="string">'-'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            T[i].rchild = temp2 - <span class="string">'0'</span>;</span><br><span class="line">            FindRoot[temp2 - <span class="string">'0'</span>] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> root;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (FindRoot[i] == <span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            root = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    flag = <span class="literal">false</span>;</span><br><span class="line">    que.push(root);</span><br><span class="line">    levelOrder();</span><br><span class="line">    flag = <span class="literal">false</span>;</span><br><span class="line">    InOrder(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">1</span> -</span><br><span class="line">- -</span><br><span class="line"><span class="number">0</span> -</span><br><span class="line"><span class="number">2</span> <span class="number">7</span></span><br><span class="line">- -</span><br><span class="line">- -</span><br><span class="line"><span class="number">5</span> -</span><br><span class="line"><span class="number">4</span> <span class="number">6</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">7</span> <span class="number">2</span> <span class="number">6</span> <span class="number">4</span> <span class="number">0</span> <span class="number">5</span> <span class="number">1</span></span><br><span class="line"><span class="number">6</span> <span class="number">5</span> <span class="number">7</span> <span class="number">4</span> <span class="number">3</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 二叉树 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1095 Cars on Campus (30)</title>
      <link href="//posts/18272c90/"/>
      <url>//posts/18272c90/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>校园里的汽车<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>这个题时间限制的很紧，尽量用字符数组代替string，使用scanf代替cin。</li><li>最后在给出时间的时候是按升序给出，因此可利用此条件，缩小查找范围。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> ID[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> time = <span class="number">0</span>, flag = <span class="number">0</span>;</span><br><span class="line">&#125;node;</span><br><span class="line"><span class="keyword">int</span> N, K, f;</span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; input, car;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(node a, node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(a.ID, b.ID) != <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">strcmp</span>(a.ID, b.ID) &lt; <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.time &lt; b.time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(node a, node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.time &lt; b.time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    input.resize(N);</span><br><span class="line">    <span class="keyword">int</span> time2, h, m, s;</span><br><span class="line">    <span class="keyword">char</span> status[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s %d:%d:%d %s\n"</span>, input[i].ID, &amp;h, &amp;m, &amp;s, &amp;status);</span><br><span class="line">        input[i].time = h * <span class="number">3600</span> + m * <span class="number">60</span> + s;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(status, <span class="string">"in"</span>) == <span class="number">0</span>)</span><br><span class="line">            input[i].flag = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> input[i].flag = <span class="number">-1</span>;<span class="comment">//进进出出</span></span><br><span class="line">    &#125;</span><br><span class="line">    sort(input.begin(), input.end(), cmp1);</span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; lasttime;</span><br><span class="line">    <span class="keyword">int</span> maxtime = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(input[i].ID, input[i + <span class="number">1</span>].ID) == <span class="number">0</span> &amp;&amp; input[i].flag == <span class="number">1</span> &amp;&amp; input[i + <span class="number">1</span>].flag == <span class="number">-1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            car.push_back(input[i]); car.push_back(input[i + <span class="number">1</span>]);</span><br><span class="line">            lasttime[input[i].ID] += (input[i + <span class="number">1</span>].time - input[i].time);</span><br><span class="line">            <span class="keyword">if</span> (maxtime &lt; lasttime[input[i].ID])</span><br><span class="line">                maxtime = lasttime[input[i].ID];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(car.begin(), car.end(), cmp2);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; carInSchool(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; car.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">            carInSchool[i] += car[i].flag;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            carInSchool[i] = carInSchool[i - <span class="number">1</span>] + car[i].flag;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> temp,j=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d:%d:%d"</span>, &amp;h, &amp;m, &amp;s);</span><br><span class="line">        time2 = h * <span class="number">3600</span> + m * <span class="number">60</span> + s;</span><br><span class="line">        <span class="keyword">for</span> (j=temp; j &lt; car.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (car[j].time &gt; time2)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, carInSchool[j - <span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (j == car.size() - <span class="number">1</span>)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; carInSchool[j] &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//最后一个了，有多少车就算多少辆车</span></span><br><span class="line">        &#125;</span><br><span class="line">        temp = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = lasttime.begin(); i != lasttime.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i-&gt;second == maxtime)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; i-&gt;first &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%02d:%02d:%02d"</span>, maxtime / <span class="number">3600</span>, (maxtime % <span class="number">3600</span>) / <span class="number">60</span>, maxtime % <span class="number">60</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">16</span> <span class="number">7</span></span><br><span class="line">JH007BD <span class="number">18</span>:<span class="number">00</span>:<span class="number">01</span> in</span><br><span class="line">ZD00001 <span class="number">11</span>:<span class="number">30</span>:<span class="number">08</span> out</span><br><span class="line">DB8888A <span class="number">13</span>:<span class="number">00</span>:<span class="number">00</span> out</span><br><span class="line">ZA3Q625 <span class="number">23</span>:<span class="number">59</span>:<span class="number">50</span> out</span><br><span class="line">ZA133CH <span class="number">10</span>:<span class="number">23</span>:<span class="number">00</span> in</span><br><span class="line">ZD00001 <span class="number">04</span>:<span class="number">09</span>:<span class="number">59</span> in</span><br><span class="line">JH007BD <span class="number">05</span>:<span class="number">09</span>:<span class="number">59</span> in</span><br><span class="line">ZA3Q625 <span class="number">11</span>:<span class="number">42</span>:<span class="number">01</span> out</span><br><span class="line">JH007BD <span class="number">05</span>:<span class="number">10</span>:<span class="number">33</span> in</span><br><span class="line">ZA3Q625 <span class="number">06</span>:<span class="number">30</span>:<span class="number">50</span> in</span><br><span class="line">JH007BD <span class="number">12</span>:<span class="number">23</span>:<span class="number">42</span> out</span><br><span class="line">ZA3Q625 <span class="number">23</span>:<span class="number">55</span>:<span class="number">00</span> in</span><br><span class="line">JH007BD <span class="number">12</span>:<span class="number">24</span>:<span class="number">23</span> out</span><br><span class="line">ZA133CH <span class="number">17</span>:<span class="number">11</span>:<span class="number">22</span> out</span><br><span class="line">JH007BD <span class="number">18</span>:<span class="number">07</span>:<span class="number">01</span> out</span><br><span class="line">DB8888A <span class="number">06</span>:<span class="number">30</span>:<span class="number">50</span> in</span><br><span class="line"><span class="number">05</span>:<span class="number">10</span>:<span class="number">00</span></span><br><span class="line"><span class="number">06</span>:<span class="number">30</span>:<span class="number">50</span></span><br><span class="line"><span class="number">11</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line"><span class="number">12</span>:<span class="number">23</span>:<span class="number">42</span></span><br><span class="line"><span class="number">14</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line"><span class="number">18</span>:<span class="number">00</span>:<span class="number">00</span></span><br><span class="line"><span class="number">23</span>:<span class="number">59</span>:<span class="number">00</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">JH007BD ZD00001 <span class="number">07</span>:<span class="number">20</span>:<span class="number">09</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> Map </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1098 Insertion or Heap Sort (25)</title>
      <link href="//posts/45a528a9/"/>
      <url>//posts/45a528a9/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>插入排序还是堆排序<br><a id="more"></a><br>给定初试序列和经过若干趟排序的序列，这个序列是某种排序算法几次迭代之后的结果，求这是哪种排序方法。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行给出正整数N(&lt;=100)。下一行给出N个整数作为初试序列，最后一行包括N个数字的部分排序序列。假设是升序排序。所有数字见用空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在第一行输出是插入排序还是堆排序。即”Insertion Sort”或者”Heap Sort”。然后再运行一次这种排序，在第二行输出再运行一次之后的结果序列。</p><p>保证所有的答案都是唯一的，数字之间用空格隔开。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>相似题目：PAT-A-1089</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">101</span>], num_sort[<span class="number">101</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">adjust</span><span class="params">(<span class="keyword">int</span> low, <span class="keyword">int</span> high)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">1</span>, j = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">while</span> (j&lt;=high)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (j + <span class="number">1</span> &lt;= high&amp;&amp;num_sort[j] &lt; num_sort[j + <span class="number">1</span>])</span><br><span class="line">            j++;</span><br><span class="line">        <span class="keyword">if</span> (num_sort[i] &lt; num_sort[j])</span><br><span class="line">        &#123;</span><br><span class="line">            swap(num_sort[i], num_sort[j]);</span><br><span class="line">            i = j; j = i * <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num_sort[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> isInsert = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> temp = num_sort[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> range;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp &gt; num_sort[i])</span><br><span class="line">        &#123;</span><br><span class="line">            range = i;</span><br><span class="line">            <span class="keyword">for</span> (; i &lt; N; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] != num_sort[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    isInsert = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i&lt;N)</span><br><span class="line">            temp = num_sort[i];</span><br><span class="line">        <span class="keyword">if</span> (isInsert == <span class="literal">false</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isInsert)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Insertion Sort"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        sort(num+<span class="number">1</span>, num + range + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; num[i];</span><br><span class="line">            <span class="keyword">if</span> (i != N)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Heap Sort"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> temp = N;</span><br><span class="line">        <span class="keyword">while</span> (temp &gt;= <span class="number">2</span> &amp;&amp; num_sort[temp] &gt; num_sort[temp - <span class="number">1</span>])</span><br><span class="line">            temp--;</span><br><span class="line">        swap(num_sort[<span class="number">1</span>], num_sort[temp]);</span><br><span class="line">        adjust(<span class="number">1</span>, temp - <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; num_sort[i];</span><br><span class="line">            <span class="keyword">if</span> (i != N)</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">7</span> <span class="number">8</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">Insertion Sort</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line"><span class="number">6</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">0</span> <span class="number">3</span> <span class="number">2</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">Heap Sort</span><br><span class="line"><span class="number">5</span> <span class="number">4</span> <span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> 插入排序 </tag>
            
            <tag> 堆排序 </tag>
            
            <tag> Sort </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1091 Acute Stroke (30)</title>
      <link href="//posts/228299b2/"/>
      <url>//posts/228299b2/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>急性脑猝死<br><a id="more"></a><br>给出一组脑部扫描的切片图，求超出阈值的肿瘤的总体积。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，第一行是4个整数：M，N，L，T。其中M和N表示切片的大小，即切片在M*N的范围内，最大分辨率为1286*128。L（&lt;=60）表示切片的数量。T是阈值。</p><p>给出L个切片，切片由0和1的M*N的矩阵表示，1表示肿瘤，0表示正常。我们通过计算1的体积来来判断肿瘤的大小。大脑中可能有好几个肿瘤，只计算肿瘤大小超过阈值的部分。</p><p>判定两个点相连的依据是他们共享公共边。如下图，有6个红色像素连接到蓝色像素。<br><img src="/PAT-A-1091/1091.jpg" alt="1091"></p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出肿瘤的总体积。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>图的遍历。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>在求下一个节点的时候，可以不用循环，将位移保存在数组中。见后边的代码。</li><li>DFS不能用递归，否则会爆栈。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DFS，非递归实现，用递归会爆栈</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> Brain[<span class="number">1300</span>][<span class="number">130</span>][<span class="number">80</span>];</span><br><span class="line"><span class="keyword">int</span> M, N, L, T;</span><br><span class="line"><span class="keyword">int</span> search = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> neighbor[<span class="number">6</span>][<span class="number">3</span>] =</span><br><span class="line">&#123;</span><br><span class="line"> &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>&#125;,</span><br><span class="line"> &#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;,</span><br><span class="line"> &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;,</span><br><span class="line"> &#123;<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,</span><br><span class="line"> &#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,</span><br><span class="line"> &#123;<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"> <span class="keyword">int</span> x, y, z;</span><br><span class="line">&#125;location;</span><br><span class="line"><span class="built_in">stack</span>&lt;location&gt; sta;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">while</span> (!sta.empty())</span><br><span class="line"> &#123;</span><br><span class="line">   location l = sta.top();sta.pop();</span><br><span class="line">   <span class="keyword">if</span> (Brain[l.x][l.y][l.z] == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">     search++;</span><br><span class="line">     Brain[l.x][l.y][l.z] = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">int</span> x1 = l.x + neighbor[i][<span class="number">0</span>];</span><br><span class="line">       <span class="keyword">int</span> y1 = l.y + neighbor[i][<span class="number">1</span>];</span><br><span class="line">       <span class="keyword">int</span> z1 = l.z + neighbor[i][<span class="number">2</span>];</span><br><span class="line">       <span class="keyword">if</span> (x1 &gt;= <span class="number">0</span> &amp;&amp; x1&lt;M&amp;&amp;y1 &gt;= <span class="number">0</span> &amp;&amp; y1&lt;N&amp;&amp;z1 &gt;= <span class="number">0</span> &amp;&amp; z1&lt;L)</span><br><span class="line">       &#123;</span><br><span class="line">         sta.push(&#123; x1,y1,z1 &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N &gt;&gt; L &gt;&gt; T;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; N; k++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Brain[j][k][i]);</span><br><span class="line">       <span class="comment">//cin &gt;&gt; Brain[j][k][i];</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; N; k++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">if</span> (Brain[j][k][i] == <span class="number">1</span>)</span><br><span class="line">       &#123;</span><br><span class="line">         search = <span class="number">0</span>;</span><br><span class="line">         sta.push(&#123; j,k,i &#125;);</span><br><span class="line">         DFS();</span><br><span class="line">         <span class="keyword">if</span> (search&gt;=T)</span><br><span class="line">         &#123;</span><br><span class="line">           res += search;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line"> solution();</span><br><span class="line"> system(<span class="string">"pause"</span>);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//BFS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"> <span class="keyword">int</span> x, y, z;</span><br><span class="line">&#125;location;</span><br><span class="line"><span class="built_in">queue</span>&lt;location&gt; que;</span><br><span class="line"><span class="keyword">int</span> neighbor[<span class="number">3</span>][<span class="number">6</span>] =</span><br><span class="line">&#123;</span><br><span class="line"> &#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;,</span><br><span class="line"> &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span> &#125;,</span><br><span class="line"> &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> Brain[<span class="number">1300</span>][<span class="number">130</span>][<span class="number">80</span>];</span><br><span class="line"><span class="keyword">int</span> M, N, L, T, res=<span class="number">0</span>, temp=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="keyword">while</span> (!que.empty())</span><br><span class="line"> &#123;</span><br><span class="line">   location l = que.front(); que.pop();</span><br><span class="line">   <span class="keyword">if</span> (Brain[l.x][l.y][l.z] == <span class="number">1</span>)</span><br><span class="line">   &#123;</span><br><span class="line">     temp++;</span><br><span class="line">     Brain[l.x][l.y][l.z] = <span class="number">0</span>;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">int</span> x1 = l.x + neighbor[<span class="number">0</span>][i];</span><br><span class="line">       <span class="keyword">int</span> y1 = l.y + neighbor[<span class="number">1</span>][i];</span><br><span class="line">       <span class="keyword">int</span> z1 = l.z + neighbor[<span class="number">2</span>][i];</span><br><span class="line">       <span class="keyword">if</span> (x1 &gt;= <span class="number">0</span> &amp;&amp; x1&lt;M&amp;&amp;y1 &gt;= <span class="number">0</span> &amp;&amp; y1&lt;N&amp;&amp;z1 &gt;= <span class="number">0</span> &amp;&amp; z1&lt;L)</span><br><span class="line">       &#123;</span><br><span class="line">         que.push(&#123; x1,y1,z1 &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N &gt;&gt; L &gt;&gt; T;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; N; k++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;Brain[j][k][i]);</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">   &#123;</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; N; k++)</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="keyword">if</span> (Brain[j][k][i]==<span class="number">1</span>)</span><br><span class="line">       &#123;</span><br><span class="line">         temp = <span class="number">0</span>;</span><br><span class="line">         que.push(&#123; j,k,i &#125;);</span><br><span class="line">         BFS();</span><br><span class="line">         <span class="keyword">if</span> (temp&gt;=T)</span><br><span class="line">         &#123;</span><br><span class="line">           res += temp;</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line"> solution();</span><br><span class="line"> system(<span class="string">"pause"</span>);</span><br><span class="line"> <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">26</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> BFS </tag>
            
            <tag> DFS </tag>
            
            <tag> 图的遍历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1087 All Roads Lead to Rome (30)</title>
      <link href="//posts/5777fec1/"/>
      <url>//posts/5777fec1/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>条条大路通罗马<br><a id="more"></a><br>有好多通往罗马的线路，要找出来一条成本最低的线路，同时获得最大的快乐值。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试文件都有一个测试用例。第一行是两个正整数N（2 &lt;= N &lt;= 200），表示城市的数量。和K，城市对之间的路线总数。接着是起始城市的名字。</p><p>接下来的N-1行，每行是一个城市的名称和一个整数，表示出了出发城市之外，可以从该城市获得的幸福指数。</p><p>然后是K行，每行以“城市名，城市名，花费”的格式描述路线。<br>这里的城市名称是一个由3个大写英文字母组成的字符串，最终目的地是代表罗马的ROM</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，要求以最低的成本找到路线。如果路线不唯一，则输出具有最大幸福指数的路线，如果还不唯一，则输出具有最大平均幸福指数的路线。<br>测试数据保证最后一定有一个唯一的结果。</p><p>在输出的第一行中，首先输出4个数字，推荐路线中成本最低的，不同路线的数量，成本，幸福指数和平均幸福指数（仅限整数部分）。<br>然后再下一行中，输出格式为“City1-&gt; City2 - &gt; …-&gt; ROM”的路线。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这个题和1003类似。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>Dij求最短路径+DFS，DFS从后往前遍历。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 99999999</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> e[<span class="number">201</span>][<span class="number">201</span>], weight[<span class="number">201</span>], dis[<span class="number">201</span>];</span><br><span class="line"><span class="keyword">bool</span> visit[<span class="number">201</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pre[<span class="number">201</span>], temppath, path;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; m1;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="built_in">string</span>&gt;m2;</span><br><span class="line"><span class="keyword">int</span> maxvalue = <span class="number">0</span>, mindepth = <span class="number">0</span>, cntpath = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">double</span> maxavg;</span><br><span class="line"><span class="keyword">int</span> N, K;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> v)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    temppath.push_back(v);</span><br><span class="line">    <span class="keyword">if</span> (v==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> value = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; temppath.size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            value += weight[temppath[i]];<span class="comment">//记录当前权重</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> tempavg = <span class="number">1.0</span>*value / (temppath.size() - <span class="number">1</span>);<span class="comment">//不算罗马城的</span></span><br><span class="line">        <span class="keyword">if</span> (value&gt;maxvalue)</span><br><span class="line">        &#123;</span><br><span class="line">            maxvalue = value; maxavg = tempavg; path = temppath;<span class="comment">//记录当前最大值了解一哈</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (value==maxvalue&amp;&amp;tempavg&gt;maxavg)</span><br><span class="line">        &#123;</span><br><span class="line">            maxavg = tempavg; path = temppath;</span><br><span class="line">        &#125;</span><br><span class="line">        temppath.pop_back();</span><br><span class="line">        cntpath++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pre[v].size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        DFS(pre[v][i]);</span><br><span class="line">    &#125;</span><br><span class="line">    temppath.pop_back();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fill(e[<span class="number">0</span>], e[<span class="number">0</span>] + <span class="number">201</span> * <span class="number">201</span>, INF);</span><br><span class="line">    fill(dis, dis + <span class="number">201</span>, INF);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">    m1[str] = <span class="number">1</span>;</span><br><span class="line">    m2[<span class="number">1</span>] = str;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; str &gt;&gt; weight[i + <span class="number">1</span>];</span><br><span class="line">        m1[str] = i + <span class="number">1</span>;</span><br><span class="line">        m2[i + <span class="number">1</span>] = str;<span class="comment">//存储映射关系</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//input cost information</span></span><br><span class="line">    <span class="built_in">string</span> a, b;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b &gt;&gt; temp;</span><br><span class="line">        e[m1[a]][m1[b]] = temp;</span><br><span class="line">        e[m1[b]][m1[a]] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//dij算法</span></span><br><span class="line">    dis[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> u = <span class="number">-1</span>,mindis = INF;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[j]==<span class="literal">false</span>&amp;&amp;dis[j]&lt;mindis)</span><br><span class="line">            &#123;</span><br><span class="line">                u = j; mindis = dis[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        visit[u] = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> v = <span class="number">1</span>; v &lt;= N; v++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (visit[v] == <span class="literal">false</span> &amp;&amp; e[u][v] != INF)</span><br><span class="line">            &#123;<span class="comment">//dij</span></span><br><span class="line">                <span class="keyword">if</span> (dis[u] + e[u][v] &lt; dis[v])</span><br><span class="line">                &#123;</span><br><span class="line">                    dis[v] = dis[u] + e[u][v];</span><br><span class="line">                    pre[v].clear();</span><br><span class="line">                    pre[v].push_back(u);<span class="comment">//记录可能的路径</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (dis[v] == dis[u] + e[u][v])</span><br><span class="line">                &#123;</span><br><span class="line">                    pre[v].push_back(u);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> rom = m1[<span class="string">"ROM"</span>];</span><br><span class="line">    DFS(rom);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cntpath &lt;&lt; <span class="string">' '</span> &lt;&lt; dis[rom] &lt;&lt; <span class="string">' '</span> &lt;&lt; maxvalue &lt;&lt; <span class="string">' '</span> &lt;&lt; (<span class="keyword">int</span>)maxavg &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = path.size()<span class="number">-1</span>; i &gt;= <span class="number">1</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; m2[path[i]] &lt;&lt; <span class="string">"-&gt;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"ROM"</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">6</span> <span class="number">7</span> HZH</span><br><span class="line">ROM <span class="number">100</span></span><br><span class="line">PKN <span class="number">40</span></span><br><span class="line">GDN <span class="number">55</span></span><br><span class="line">PRS <span class="number">95</span></span><br><span class="line">BLN <span class="number">80</span></span><br><span class="line">ROM GDN <span class="number">1</span></span><br><span class="line">BLN ROM <span class="number">1</span></span><br><span class="line">HZH PKN <span class="number">1</span></span><br><span class="line">PRS ROM <span class="number">2</span></span><br><span class="line">BLN HZH <span class="number">2</span></span><br><span class="line">PKN GDN <span class="number">1</span></span><br><span class="line">HZH PRS <span class="number">1</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">195</span> <span class="number">97</span></span><br><span class="line">HZH-&gt;PRS-&gt;ROM</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> Dijkstra </tag>
            
            <tag> DFS </tag>
            
            <tag> 最短路径 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1101 Quick Sort (25)</title>
      <link href="//posts/4a5f9413/"/>
      <url>//posts/4a5f9413/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805366343188480" target="_blank" rel="noopener">题目链接</a><br>快速排序<br><a id="more"></a><br>著名的快速排序算法中有一个名为partition的经典过程。在此过程中，通常选择一个元素作为枢轴。然后，小于枢轴的元素向左移动，而大于枢轴的元素向右移动。在算法运行后，给定N个<strong>不同</strong>的正整数，求这N个数中有多少个可以选定作为枢轴？<br>例如，给定N = 5和数字1,3,2,4和5.我们有：</p><ol><li>1可以是枢轴，因为它的左边没有元素，右边的所有元素都比它大;</li><li>3不能是枢轴，因为虽然它左边的所有元素都较小，但它右边的数字2小于它;</li><li>2不能是枢轴，因为虽然它右边的所有元素都较大，但它左边的数字3大于它;</li></ol><p>并且由于类似的原因，4和5也可能成为枢轴。</p><p>因此总共有3个可以选作枢轴的点。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试样例。第一行给出正整数N（&lt;=10<sup>5</sup>）。然后下一行是N个不大于10<sup>9</sup>的正整数。数字之间由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在第一行输出可以作为枢轴的元素的数量。然后在下一行中按顺序输出这些元素，数字之间由空格隔开，每行末尾不得有多余的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>快速排序有个重要的性质，每个枢轴元素在这次排序之后，都会为它确定一个位置，这个位置就是排序全部结束之后，它所在的位置。即每趟快速排序，至少确定一个元素的位置。</p><p>利用这个思路，我们用另外一个数组存储将这些数字排序之后的序列，看排序前的位置是否等于排序后的位置。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>为了避免例如 1 4 3 2 5 中，对 3 的误判，需要再添加一个判断条件，判断 3 是不是从最开始到现在最大的数。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp1, num, res;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N; num.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;num[i]);</span><br><span class="line">    temp1 = num;</span><br><span class="line">    sort(temp1.begin(), temp1.end());</span><br><span class="line">    <span class="keyword">int</span> maxn = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (num[i] == temp1[i] &amp;&amp; num[i] &gt; maxn)</span><br><span class="line">            res.push_back(num[i]);</span><br><span class="line">        maxn = max(maxn, num[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; res[i];</span><br><span class="line">        <span class="keyword">if</span> (i != res.size() - <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">2</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 快速排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1100 Mars Numbers (20)</title>
      <link href="//posts/463096a8/"/>
      <url>//posts/463096a8/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>火星上的数字<br><a id="more"></a><br>火星人使用13进制。</p><ul><li>地球上的零点在火星上被称为“tret”。</li><li>地球上的数字1到12在火星上分别被称为“jan，feb，mar，apr，may，jun，jly，aug，sep，oct，nov，dec”。</li><li>对于更高一位，火星人将12个数字分别叫做“tam，hel，maa，huh，tou，kes，hei，elo，syy，lok，mer，jou”。</li></ul><p>例如，地球上的29在火星上被称为“hel mar”; 火星上的“elo nov”对应地球上的115。为了帮助这两个行星之间人们的交流，要求写出一个程序用于地球和火星数字系统之间的相互转换。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试样例。第一行是一个正整数N（&lt;100）。然后是N行，每行有一个[0,169)中的数字，以地球数字或火星数字的形式给出。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个数字，在一行中打印另一种语言中的相应数字。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用Map存储string to int的映射关系。使用数组存储int to string的映射关系。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; gewei, shiwei;</span><br><span class="line"><span class="built_in">string</span> a[<span class="number">13</span>] = &#123; <span class="string">"tret"</span>, <span class="string">"jan"</span>, <span class="string">"feb"</span>, <span class="string">"mar"</span>, <span class="string">"apr"</span>, <span class="string">"may"</span>, <span class="string">"jun"</span>, <span class="string">"jly"</span>, <span class="string">"aug"</span>, <span class="string">"sep"</span>, <span class="string">"oct"</span>,<span class="string">"nov"</span>, <span class="string">"dec"</span> &#125;;</span><br><span class="line"><span class="built_in">string</span> b[<span class="number">13</span>] = &#123; <span class="string">""</span>, <span class="string">"tam"</span>, <span class="string">"hel"</span>, <span class="string">"maa"</span>, <span class="string">"huh"</span>, <span class="string">"tou"</span>, <span class="string">"kes"</span>, <span class="string">"hei"</span>, <span class="string">"elo"</span>, <span class="string">"syy"</span>,<span class="string">"lok"</span>, <span class="string">"mer"</span>, <span class="string">"jou"</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">13</span>; i++)</span><br><span class="line">        gewei[a[i]] = i;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">13</span>; i++)</span><br><span class="line">        shiwei[b[i]] = i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f1</span><span class="params">(<span class="built_in">string</span> str)</span><span class="comment">//输入的是数字</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = stoi(str);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (temp / <span class="number">13</span> &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; b[temp / <span class="number">13</span>];</span><br><span class="line">        <span class="keyword">if</span> (temp % <span class="number">13</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; a[temp % <span class="number">13</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a[temp % <span class="number">13</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f2</span><span class="params">(<span class="built_in">string</span> str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str.length() == <span class="number">4</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"0"</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (str.length() == <span class="number">3</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (gewei.count(str))</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; gewei[str];</span><br><span class="line">        <span class="keyword">if</span> (shiwei.count(str))</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; shiwei[str]* <span class="number">13</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> s1 = str.substr(<span class="number">0</span>, <span class="number">3</span>), s2 = str.substr(<span class="number">4</span>, <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">int</span> temp = shiwei[s1] * <span class="number">13</span> + gewei[s2];</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    init();</span><br><span class="line">    <span class="keyword">int</span> N,temp;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N; getchar();</span><br><span class="line">    <span class="built_in">string</span> num;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        getline(<span class="built_in">cin</span>, num);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">isdigit</span>(num[<span class="number">0</span>]))<span class="comment">//是个数字</span></span><br><span class="line">            f1(num);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            f2(num);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">29</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line">elo nov</span><br><span class="line">tam</span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line">hel mar</span><br><span class="line">may</span><br><span class="line"><span class="number">115</span></span><br><span class="line"><span class="number">13</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> C++ STL </tag>
            
            <tag> 字符串处理 </tag>
            
            <tag> Map </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1097 Deduplication on a Linked List (25)</title>
      <link href="//posts/b2a66fb6/"/>
      <url>//posts/b2a66fb6/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>删除链表上的重复数据<br><a id="more"></a><br>给定一个带有整数键值的单链表L，要求删除那些键值的绝对值重复的节点。也就是说，对于每个值K，仅保留节点的键的值或绝对值等于K的第一个节点。同时，所有已删除的节点必须保存在单独的列表中。例如，如果L为21→-15→-15→-7→15，则必须输出21→-15→-7，并删除链表-15→15。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例：第一行中分别是：第一个节点的地址，正整数N（&lt;=10<sup>5</sup>）表示节点的总数。节点的地址是5位非负整数，NULL由-1表示。</p><p>然后是N行，每行以如下格式描述一个节点：</p><p>地址 键值 下一个节点</p><p>其中键值为绝对值不超过10<sup>4</sup>的整数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，首先输出结果链表，然后输出删除的链表。每个节点占用，并以与输入中相同的格式打印。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>考察用空间换时间。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">&#125;node;</span><br><span class="line"></span><br><span class="line">node saveLink[<span class="number">100001</span>],deleLink[<span class="number">100001</span>],inputLink[<span class="number">100001</span>];</span><br><span class="line"><span class="keyword">bool</span> flag[<span class="number">10001</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> N, addr, first;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; first &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; addr;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; inputLink[addr].key &gt;&gt; inputLink[addr].next;</span><br><span class="line">        inputLink[addr].id = addr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> save=<span class="number">0</span>,dele=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = first; i!=<span class="number">-1</span>; i=inputLink[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!flag[<span class="built_in">abs</span>(inputLink[i].key)])</span><br><span class="line">        &#123;</span><br><span class="line">            saveLink[save++] = inputLink[i];</span><br><span class="line">            flag[<span class="built_in">abs</span>(inputLink[i].key)] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            deleLink[dele++] = inputLink[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; save<span class="number">-1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%05d %d %05d\n"</span>, saveLink[i].id, saveLink[i].key, saveLink[i + <span class="number">1</span>].id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%05d %d -1\n"</span>, saveLink[save - <span class="number">1</span>].id, saveLink[save - <span class="number">1</span>].key);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dele<span class="number">-1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%05d %d %05d\n"</span>, deleLink[i].id, deleLink[i].key, deleLink[i + <span class="number">1</span>].id);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dele&gt;<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%05d %d -1\n"</span>, deleLink[dele - <span class="number">1</span>].id, deleLink[dele - <span class="number">1</span>].key);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">00100</span> <span class="number">5</span></span><br><span class="line"><span class="number">99999</span> <span class="number">-7</span> <span class="number">87654</span></span><br><span class="line"><span class="number">23854</span> <span class="number">-15</span> <span class="number">00000</span></span><br><span class="line"><span class="number">87654</span> <span class="number">15</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00000</span> <span class="number">-15</span> <span class="number">99999</span></span><br><span class="line"><span class="number">00100</span> <span class="number">21</span> <span class="number">23854</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">00100</span> <span class="number">21</span> <span class="number">23854</span></span><br><span class="line"><span class="number">23854</span> <span class="number">-15</span> <span class="number">99999</span></span><br><span class="line"><span class="number">99999</span> <span class="number">-7</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00000</span> <span class="number">-15</span> <span class="number">87654</span></span><br><span class="line"><span class="number">87654</span> <span class="number">15</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1096 Consecutive Factors (20)</title>
      <link href="//posts/1596ce8c/"/>
      <url>//posts/1596ce8c/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>连续的因数<br><a id="more"></a><br>在正整数N的所有因子中，可能存在几个连续的数字。例如，630可以认为是3<em>5</em>6*7，其中5,6,7是三个连续的数字。现在给出一个正整数N，求这个树的连续因子的最大数量，并列出连续因子的最小序列。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，给出正整数N（1&lt;N&lt;2<sup>31</sup>）。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中打印最大的连续因子数。然后在第二行中，以“因子1*因子2*…..*因子k”的格式输出连续因子的最小序列，其中因子按递增顺序给出，1为不包含。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>如果只有一个因子，那么这个数只能为1或者质数。因此我们主要去计算两个及以上因数的情况。</li><li>在有两个及以上的数连乘中，因数的最大上限为sqrt(N)，即N的平方根。</li><li>因此思路就是，不断构造连乘，看连乘的积是否是N的因数，如果是，则看这部分连乘的数的个数是否比已记录的多。</li><li>用变量first记录连乘的第一个数字，这里我把它赋初值为0，如果在寻找N的因数过程中，first没有改变，那么就表明N是1或者是一个质数。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> num;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; num;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">int</span> temp = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> first = <span class="number">0</span>, len = <span class="number">0</span>, maxn = <span class="built_in">sqrt</span>(num);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= maxn; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> j, temp = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (j= i;j&lt;=maxn;  j++)</span><br><span class="line">        &#123;</span><br><span class="line">            temp *= j;</span><br><span class="line">            <span class="keyword">if</span> (num%temp != <span class="number">0</span>)<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j - i &gt; len)</span><br><span class="line">        &#123;</span><br><span class="line">            len = j - i;</span><br><span class="line">            first = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (first==<span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span> &lt;&lt; num;<span class="comment">//没有找到</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; len &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; first + i;</span><br><span class="line">            <span class="keyword">if</span> (i != len - <span class="number">1</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">'*'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">630</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span>*<span class="number">6</span>*<span class="number">7</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 逻辑 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1094 The Largest Generation (25)</title>
      <link href="//posts/ba347fc6/"/>
      <url>//posts/ba347fc6/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>人口最多的一代<br><a id="more"></a><br>族的层次结构通常由谱系树来呈现，其中同一级别上的所有的节点属于同一代。要求找到人口最多的一代。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例，每个测试用例以两个正整数N(&lt;100)开始，它是树中家庭成员的总数（因此假设所有成员的编号从01~N）。M（&lt;N）是这个族中，有孩子的成员的数量。然后是M行，每行包含以下格式的成员信息：</p><p>ID K ID<sub>1</sub> ID<sub>2</sub>……ID<sub>k</sub></p><p>其中ID是代表族成员的两位数字，K(&gt;0)是他的孩子的数量，后面跟着他孩子的两位数ID，为了简单起见，将根的ID固定位01，一行中所有数字都由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中输出具有最多的成员数和其对应是第几代。保证结果是唯一的，根是第一代。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>层次遍历。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">int</span> id, k, temp;</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; level;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; T;</span><br><span class="line">    T.resize(N+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; id &gt;&gt; k;</span><br><span class="line">        T[id].resize(k);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; k; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">            T[id][j] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    level.resize(N+<span class="number">1</span>);</span><br><span class="line">    level[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    que.push(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span> (!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        id = que.front(); que.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T[id].size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            que.push(T[id][i]);</span><br><span class="line">            level[T[id][i]] = level[id] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt; cnt.resize(N + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt[level[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    level = cnt;</span><br><span class="line">    sort(cnt.begin(), cnt.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cnt[N] &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (level[i] == cnt[N])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">23</span> <span class="number">13</span></span><br><span class="line"><span class="number">21</span> <span class="number">1</span> <span class="number">23</span></span><br><span class="line"><span class="number">01</span> <span class="number">4</span> <span class="number">03</span> <span class="number">02</span> <span class="number">04</span> <span class="number">05</span></span><br><span class="line"><span class="number">03</span> <span class="number">3</span> <span class="number">06</span> <span class="number">07</span> <span class="number">08</span></span><br><span class="line"><span class="number">06</span> <span class="number">2</span> <span class="number">12</span> <span class="number">13</span></span><br><span class="line"><span class="number">13</span> <span class="number">1</span> <span class="number">21</span></span><br><span class="line"><span class="number">08</span> <span class="number">2</span> <span class="number">15</span> <span class="number">16</span></span><br><span class="line"><span class="number">02</span> <span class="number">2</span> <span class="number">09</span> <span class="number">10</span></span><br><span class="line"><span class="number">11</span> <span class="number">2</span> <span class="number">19</span> <span class="number">20</span></span><br><span class="line"><span class="number">17</span> <span class="number">1</span> <span class="number">22</span></span><br><span class="line"><span class="number">05</span> <span class="number">1</span> <span class="number">11</span></span><br><span class="line"><span class="number">07</span> <span class="number">1</span> <span class="number">14</span></span><br><span class="line"><span class="number">09</span> <span class="number">1</span> <span class="number">17</span></span><br><span class="line"><span class="number">10</span> <span class="number">1</span> <span class="number">18</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">9</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 层次遍历 </tag>
            
            <tag> 树的遍历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1093 Count PAT’s (25)</title>
      <link href="//posts/cc8cf89e/"/>
      <url>//posts/cc8cf89e/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>计算有多少个PAT<br><a id="more"></a><br>字符串APPAPT包括两个PAT作为子字符串。第一个由第2个，第4个，第6个字符组成，第二个由第3个，第4个，第6个字符组成。</p><p>现给出一个字符串，求这个字符串包含的PAT的数量。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例，在一行中给出不超过10<sup>5</sup> 个字符的字符串，仅包括P、A和T。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中输出字符串中包括的PAT的数量。由于结果可能是一个巨大的数字，只需要输出其对1000000007取模的结果。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用乘法原理去做。核心思想是：对于字符串中的每个“A”，计算其前面有多少个“P”，计算其后有多少个“T”。然后将这两个数相乘，然后相加。</p><ol><li>首先计算这个字符串有多少个“T”。</li><li>从字符串开始，计算遇到多少个个“P”，表示“A”前面的“P”的个数，每遇到一个“T”，就从（1）中的计数值中减1，这个数是“A”之后“T”的个数。</li><li>当遇到一个“A”时，将其前面遇到的“P”的个数与其之后“T”的个数相乘，然后累加。结果即为所求。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> P = <span class="number">0</span>, A = <span class="number">0</span>, T = <span class="number">0</span>;<span class="comment">//计数这个字符串中有多少个PAT</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'T'</span>) T++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'P'</span>) P++;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'T'</span>) T--;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'A'</span>)res += P*T;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res % <span class="number">1000000007</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line">APPAPT</span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 乘法原理 </tag>
            
            <tag> 数学 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1092 To Buy or Not to Buy (20)</title>
      <link href="//posts/bb8bc808/"/>
      <url>//posts/bb8bc808/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>买还是不买<br><a id="more"></a><br>Eva想用他最喜欢的颜色制作一串珠子，他去一家店买。店里面有很多五颜六色的珠子串。然而，商店的所有者只卖整个串，不零卖，因此，Eva必须检查卖的串中是否包含了他需要的所有的珠子。他现在来找你帮忙：如果“包含了所有要买的珠子”，就要告诉他，由于不零卖，多买了多少个珠子，如果“没有包含所有想买的珠子”，就要告诉他缺少的珠子的数量。</p><p>为了简单起见，使用范围[0-9]、[a-z]、[A-Z]中的字符来表示颜色，例如，下图中的第三个字符串是Eva想要的，然后只需要第一根珠子就可以了，因为它包含了所有必要的珠子，但是多了8个额外的珠子。然而第二个是不可以的，因为没有黑珠子和少一个红色的珠子。</p><p><img src="/posts/bb8bc808/PAT-A-1092.png" alt="图1"></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例。每个测试用例分两行给出不超过1000个珠子的字符串，分别是店主的和Eva想要的。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，请将答案输出在一行中，如果答案是“是”，那么还要输出Eva额外购买的珠子的数量，如果答案是“否”，那么输出字符串中缺少的珠子的数量，答案和数字之间必须间隔一个空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用Hash散列。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res[<span class="number">256</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> a, b;</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.size(); i++)</span><br><span class="line">        res[a[i]]++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; b.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (res[b[i]] &gt; <span class="number">0</span>)</span><br><span class="line">            res[b[i]]--;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cnt == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Yes "</span> &lt;&lt; a.size() - b.size();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"No "</span> &lt;&lt; cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">ppRYYGrrYBR2258</span><br><span class="line">YrR8RrY</span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">Yes <span class="number">8</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">ppRYYGrrYB225</span><br><span class="line">YrR8RrY</span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">No <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串 </tag>
            
            <tag> Hash </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1088 Rational Arithmetic (20)</title>
      <link href="//posts/fea59011/"/>
      <url>//posts/fea59011/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>有理数的运算<br><a id="more"></a><br>给定两个有理数，要求实现它们的基本算数运算，即计算它们的和，差，乘积，商。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，在一行中给出格式为”a1/b1 a2/b2”格式的两个有理数。分子和分母都在long int的范围内。如果有负号，则负号出现且仅出现在分子前面。分母保证为非零数字。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，分别在4行中输出两个有理数的和，差，乘积，商。每行的格式为“number1 operator number2 = result”。注意，所有的有理数优先化成<strong>带分数</strong>的形式。如果数字为负数，则必须将其包含在一对括号中。如果除法中的分母为0，则输出“Inf”作为结果。保证所有输出的整数都在long int的范围内。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>基础题，按照四则运算的规则来。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>相似题目：PAT-A-1081。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> member;<span class="comment">//分子部分</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> deno;<span class="comment">//分母部分</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> inte;<span class="comment">//整数部分</span></span><br><span class="line">&#125;fraction;</span><br><span class="line">fraction num[<span class="number">2</span>];</span><br><span class="line">fraction res[<span class="number">4</span>];</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> a, <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> b)</span><span class="comment">//最大公约数,abs求绝对值</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? <span class="built_in">abs</span>(a) : gcd(b, a%b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shuchu</span><span class="params">(fraction a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.inte &lt; <span class="number">0</span> || a.member &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">'('</span>;</span><br><span class="line">    <span class="keyword">if</span> (a.inte!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a.inte;</span><br><span class="line">        <span class="keyword">if</span> (a.member!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.member != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; a.member &lt;&lt; <span class="string">'/'</span> &lt;&lt; a.deno;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a.inte == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">'0'</span>;</span><br><span class="line">    <span class="keyword">if</span> (a.inte &lt; <span class="number">0</span> || a.member &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">')'</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">jiafenshu</span><span class="params">(fraction &amp;a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> gcd_num = gcd(a.member, a.deno);</span><br><span class="line">    a.deno /= gcd_num; a.member /= gcd_num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">daifenshu</span><span class="params">(fraction &amp;a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    a.inte = a.member / a.deno;</span><br><span class="line">    a.member -= (a.deno*a.inte);</span><br><span class="line">    <span class="keyword">if</span> (a.inte &lt; <span class="number">0</span>)</span><br><span class="line">        a.member = <span class="built_in">abs</span>(a.member);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld/%lld"</span>, &amp;num[i].member, &amp;num[i].deno);</span><br><span class="line">        jiafenshu(num[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//+</span></span><br><span class="line">    res[<span class="number">0</span>].member = num[<span class="number">1</span>].member*num[<span class="number">0</span>].deno + num[<span class="number">1</span>].deno*num[<span class="number">0</span>].member;</span><br><span class="line">    res[<span class="number">0</span>].deno = num[<span class="number">1</span>].deno*num[<span class="number">0</span>].deno;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//-</span></span><br><span class="line">    res[<span class="number">1</span>].member = num[<span class="number">1</span>].deno*num[<span class="number">0</span>].member - num[<span class="number">1</span>].member*num[<span class="number">0</span>].deno;</span><br><span class="line">    res[<span class="number">1</span>].deno = num[<span class="number">1</span>].deno*num[<span class="number">0</span>].deno;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//*</span></span><br><span class="line">    res[<span class="number">2</span>].member = num[<span class="number">1</span>].member*num[<span class="number">0</span>].member;</span><br><span class="line">    res[<span class="number">2</span>].deno = num[<span class="number">1</span>].deno*num[<span class="number">0</span>].deno;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// /</span></span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (num[<span class="number">1</span>].member == <span class="number">0</span> &amp;&amp; num[<span class="number">1</span>].inte == <span class="number">0</span>)</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (!flag)</span><br><span class="line">    &#123;</span><br><span class="line">        res[<span class="number">3</span>].member = num[<span class="number">0</span>].member*num[<span class="number">1</span>].deno;</span><br><span class="line">        res[<span class="number">3</span>].deno = num[<span class="number">0</span>].deno*num[<span class="number">1</span>].member;</span><br><span class="line">        <span class="keyword">if</span> (res[<span class="number">3</span>].deno*res[<span class="number">3</span>].member &lt; <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res[<span class="number">3</span>].member = <span class="number">0</span> - <span class="built_in">abs</span>(res[<span class="number">3</span>].member);</span><br><span class="line">            res[<span class="number">3</span>].deno = <span class="built_in">abs</span>(res[<span class="number">3</span>].deno);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        res[<span class="number">3</span>] = &#123; <span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        daifenshu(num[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)</span><br><span class="line">    &#123;<span class="comment">//化简</span></span><br><span class="line">        jiafenshu(res[i]);</span><br><span class="line">        daifenshu(res[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输出</span></span><br><span class="line">    shuchu(num[<span class="number">0</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" + "</span>; shuchu(num[<span class="number">1</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" = "</span>; shuchu(res[<span class="number">0</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    shuchu(num[<span class="number">0</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" - "</span>; shuchu(num[<span class="number">1</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" = "</span>; shuchu(res[<span class="number">1</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    shuchu(num[<span class="number">0</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" * "</span>; shuchu(num[<span class="number">1</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" = "</span>; shuchu(res[<span class="number">2</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    shuchu(num[<span class="number">0</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" / "</span>; shuchu(num[<span class="number">1</span>]); <span class="built_in">cout</span> &lt;&lt; <span class="string">" = "</span>;</span><br><span class="line">    <span class="keyword">if</span> (flag)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Inf"</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        shuchu(res[<span class="number">3</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>/<span class="number">3</span> <span class="number">-4</span>/<span class="number">2</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>/<span class="number">3</span> + (<span class="number">-2</span>) = (<span class="number">-1</span> <span class="number">1</span>/<span class="number">3</span>)</span><br><span class="line"><span class="number">2</span>/<span class="number">3</span> - (<span class="number">-2</span>) = <span class="number">2</span> <span class="number">2</span>/<span class="number">3</span></span><br><span class="line"><span class="number">2</span>/<span class="number">3</span> * (<span class="number">-2</span>) = (<span class="number">-1</span> <span class="number">1</span>/<span class="number">3</span>)</span><br><span class="line"><span class="number">2</span>/<span class="number">3</span> / (<span class="number">-2</span>) = (<span class="number">-1</span>/<span class="number">3</span>)</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>/<span class="number">3</span> <span class="number">0</span>/<span class="number">6</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">2</span>/<span class="number">3</span> + <span class="number">0</span> = <span class="number">1</span> <span class="number">2</span>/<span class="number">3</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span>/<span class="number">3</span> - <span class="number">0</span> = <span class="number">1</span> <span class="number">2</span>/<span class="number">3</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span>/<span class="number">3</span> * <span class="number">0</span> = <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span>/<span class="number">3</span> / <span class="number">0</span> = Inf</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 分数 </tag>
            
            <tag> 四则运算 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1090 Highest Price in Supply Chain (25)</title>
      <link href="//posts/5585a924/"/>
      <url>//posts/5585a924/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>供应链中的最高价格<br><a id="more"></a><br>供应链是由零售商，分销商和供应商组成的网络，每个人都参与其中，并且将产品从供应商转移到客户。</p><p>从一个根供应商开始，链上每个人以价格P从一个供应商处购买产品，并以高于P的r%的价格出售或者分发给他们。假设供应链中的每个成员有且仅有一个供应商。</p><p>现给定一个供应链，求一些零售商可以期待的最高的价格。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件包括一个测试用例，对于每种情况，第一行包括三个正整数：N（&lt;=10<sup>5</sup>）表示供应链中的成员数（编号从0~N-1），P：根供应商给出的价格，r：每个分销商或零售商加价的百分比。</p><p>然后下一行包括N个数字，每个数字S<sub>i</sub>是第i个成员的供应商的索引。根供应商的S<sub>root</sub>定义为-1。一行中所有的数字都由空格分隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在第一行中输出一些零售商进货的最高价格，精确到小数点后2位，以及这些零售商的个数。<strong>注意！，是零售商的进货价！</strong> 数字之间由空格隔开，保证价格不会超过10<sup>10<sup>。</sup></sup></p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>层次遍历</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>类似题目：PAT-A-1079。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">double</span> P, r;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;M;<span class="comment">//存储整个销售网络</span></span><br><span class="line"><span class="keyword">int</span> level[<span class="number">100011</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; P &gt;&gt; r;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    M.resize(N + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        M[temp + <span class="number">1</span>].push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;que.push(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!que.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        temp = que.front(); que.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M[temp].size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            que.push(M[temp][i]);</span><br><span class="line">            level[M[temp][i]] = level[temp] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(level, level + N + <span class="number">1</span>, cmp);</span><br><span class="line">    temp = level[<span class="number">0</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f "</span>, P*<span class="built_in">pow</span>(<span class="number">1</span> + r / <span class="number">100</span>, temp - <span class="number">1</span>));</span><br><span class="line">    <span class="comment">//cout &lt;&lt; P*pow(1 + r / 100, temp-1) &lt;&lt; ' ';</span></span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (level[cnt]==temp)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">9</span> <span class="number">1.80</span> <span class="number">1.00</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span> <span class="number">4</span> <span class="number">4</span> <span class="number">-1</span> <span class="number">4</span> <span class="number">5</span> <span class="number">3</span> <span class="number">6</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">1.85</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 层次遍历 </tag>
            
            <tag> 树 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1089 Insert or Merge (25)</title>
      <link href="//posts/354220c1/"/>
      <url>//posts/354220c1/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>插入排序还是归并排序<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。</p><p>第一行是一个正整数N（&lt;=100），第二行有N个整数，表示初始状态。第三行有N个整数，表示中间状态，求中间状态是由插入排序得出还是由归并排序得出的。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>第一行输出”Insertion Sort” 或者 “Merge Sort” 来表示它是由插入排序/归并排序得出的。</p><p>第二行输出当前状态的下一个排序状态。即插入排序再插入一个数字，归并排序则是把相邻两个归并起来。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>插入排序有个特点，已经排序的部分是按从小到大，未排序的部分，对应位置和初试数组一样。</p><p>因此根据这个来判断。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>最后求归并排序的时候要用模拟归并排序来计算。但是真正的归并排序是递归得出的，此时是先排序左半部分，再排序右半部分的。这里的归并不是这个意思。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">101</span>], num_sort[<span class="number">101</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num_sort[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">bool</span> isInsert = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> temp = num_sort[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">int</span> range;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp &gt; num_sort[i])</span><br><span class="line">        &#123;</span><br><span class="line">            range = i;</span><br><span class="line">            <span class="keyword">for</span> (; i &lt; N; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] != num_sort[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    isInsert = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i&lt;N)</span><br><span class="line">            temp = num_sort[i];</span><br><span class="line">        <span class="keyword">if</span> (isInsert == <span class="literal">false</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isInsert)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Insertion Sort"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        sort(num, num + range + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Merge Sort"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> range = <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//通过模拟来进行归并排序</span></span><br><span class="line">        <span class="keyword">bool</span> flag = <span class="literal">true</span>;<span class="comment">//用于标记是否达到当前状态</span></span><br><span class="line">        <span class="keyword">while</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[i] != num_sort[i])</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        range *= <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N/range; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            sort(num + i*range, num + (i + <span class="number">1</span>)* range);</span><br><span class="line">        &#125;</span><br><span class="line">        sort(num + N / range*range, num + N);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; num[i];</span><br><span class="line">        <span class="keyword">if</span> (i != N<span class="number">-1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">7</span> <span class="number">8</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">Insertion Sort</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">4</span> <span class="number">6</span> <span class="number">0</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">2</span> <span class="number">8</span> <span class="number">7</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">0</span> <span class="number">6</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">2</span> <span class="number">8</span> <span class="number">5</span> <span class="number">7</span> <span class="number">4</span> <span class="number">9</span> <span class="number">0</span> <span class="number">6</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">Merge Sort</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">8</span> <span class="number">4</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span> <span class="number">0</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> 插入排序 </tag>
            
            <tag> 归并排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1086 Tree Traversals Again (25)</title>
      <link href="//posts/c2c1493b/"/>
      <url>//posts/c2c1493b/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>重新遍历二叉树<br><a id="more"></a><br>用栈的形式给出一棵二叉树的建立的顺序，求这棵二叉树的后序遍历.</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。</p><p>第一行是一个正整数N（&lt;=30）表示树中的节点总数（节点从1~N进行编号）。然后是2N行，每行描述一种堆栈操作，比如Push X，其中X是被压入堆栈的节点的索引；或Pop，表示从堆栈中弹出一个节点。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在一行中输出相应的树的后续遍历序列。数字之间由空格隔开。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>push的顺序正好对应前序。</li><li>pop出来的顺序正好对应中序。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>特别注意：数字可以有重复。所以要加一个索引。</li><li>经过实测，不加索引也能通过PAT的测试，但是无法通过牛客网的测试。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">string</span> temp;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;pre, mid,value;</span><br><span class="line"><span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">post</span><span class="params">(<span class="keyword">int</span> root, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt; end)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> i = start;</span><br><span class="line">    <span class="keyword">while</span> (i&lt;end&amp;&amp;mid[i]!=pre[root])</span><br><span class="line">    &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    post(root + <span class="number">1</span>, start, i - <span class="number">1</span>);</span><br><span class="line">    post(root + <span class="number">1</span> + i - start, i + <span class="number">1</span>, end);</span><br><span class="line">    <span class="keyword">if</span> (flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; value[mid[i]];</span><br><span class="line">    flag = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">int</span> num, top = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">stack</span>[<span class="number">31</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> c1 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n*<span class="number">2</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">if</span> (temp==<span class="string">"Push"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; num;</span><br><span class="line">            value.push_back(num);</span><br><span class="line">            pre.push_back(c1);</span><br><span class="line">            <span class="built_in">stack</span>[top++]=c1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (temp==<span class="string">"Pop"</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            mid.push_back(<span class="built_in">stack</span>[--top]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    post(<span class="number">0</span>, <span class="number">0</span>, n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">6</span></span><br><span class="line">Push <span class="number">1</span></span><br><span class="line">Push <span class="number">2</span></span><br><span class="line">Push <span class="number">3</span></span><br><span class="line">Pop</span><br><span class="line">Pop</span><br><span class="line">Push <span class="number">4</span></span><br><span class="line">Pop</span><br><span class="line">Pop</span><br><span class="line">Push <span class="number">5</span></span><br><span class="line">Push <span class="number">6</span></span><br><span class="line">Pop</span><br><span class="line">Pop</span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">2</span> <span class="number">6</span> <span class="number">5</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 二叉树 </tag>
            
            <tag> 前序遍历 </tag>
            
            <tag> 中序遍历 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1085 Perfect Sequence (25)</title>
      <link href="//posts/6fa331c/"/>
      <url>//posts/6fa331c/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>完美的序列。<br><a id="more"></a><br>给定一个正整数序列和另一个正整数p，如果M&lt;=m*p，则这个序列是一个完美的序列，其中M和m分别是这个序列中的最大和最小的数字。</p><p>现给出一个序列和一个参数p，要求从这个序列中找到尽可能多的数字，以形成一个完美的序列。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件都包括一个测试用例。第一行包括两个正整数N和p，其中N&lt;=10^5，表示序列中整数的数量，p(&lt;=10^9)是参数。第二行有N个正整数，每个不大于10^9。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出在一个完美序列中，最多可以有多少个整数。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>二分法查找。其实就是找到一个大于或等于m*的最小的数字。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>使用upper_bound()更加简单粗暴。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用upper_bound()</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> N, p;</span><br><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>;<span class="comment">//num表示有多少个数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; p;</span><br><span class="line">    <span class="built_in">list</span>.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; <span class="built_in">list</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(<span class="built_in">list</span>.begin(), <span class="built_in">list</span>.end());</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="built_in">list</span>.begin(); i !=<span class="built_in">list</span>.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        res=max((<span class="keyword">int</span>)(upper_bound(<span class="built_in">list</span>.begin(), <span class="built_in">list</span>.end(), *i * p)-i),res);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//二分搜索</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> N, p;</span><br><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>;<span class="comment">//num表示有多少个数</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; p;</span><br><span class="line">    <span class="built_in">list</span>.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; <span class="built_in">list</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(<span class="built_in">list</span>.begin(), <span class="built_in">list</span>.end());</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">int</span> front = <span class="number">0</span>, mid = (front + N - <span class="number">1</span>) / <span class="number">2</span>, end = N - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = <span class="built_in">list</span>[i]*p;</span><br><span class="line">        <span class="keyword">while</span> (front&lt;end&amp;&amp;<span class="built_in">list</span>[mid]!=temp)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">list</span>[mid] &lt; temp) front = mid + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">list</span>[mid] &gt; temp)end = mid - <span class="number">1</span>;</span><br><span class="line">            mid = (front + end) / <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (mid &lt; N&amp;&amp;temp &gt;= <span class="built_in">list</span>[mid])</span><br><span class="line">            mid++;</span><br><span class="line">        res = max(res, mid - i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//更直观的思路</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> N, p;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="built_in">list</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; p;</span><br><span class="line">    <span class="built_in">list</span>.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; <span class="built_in">list</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(<span class="built_in">list</span>.begin(), <span class="built_in">list</span>.end());</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>, temp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+res; j &lt; N; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">list</span>[j] &lt;= <span class="built_in">list</span>[i] * p)</span><br><span class="line">            &#123;</span><br><span class="line">                temp = j - i + <span class="number">1</span>;</span><br><span class="line">                res = max(res, temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="number">8</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">20</span> <span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> STL </tag>
            
            <tag> 二分法查找 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1084 Broken Keyboard (20)</title>
      <link href="//posts/1feaae6d/"/>
      <url>//posts/1feaae6d/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>坏掉的键盘。<br><a id="more"></a><br>在一个坏掉的键盘上，有一些键坏了，所以当你输入一些句子时，这些坏掉的键对应的字符不会出现在屏幕上。</p><p>现在给出一个应输入的字符串，一个实际输入的字符串，求哪些键是坏掉的。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，第一行是原始字符串，第二行是实际输入的字符串，每个字符串不超过80个英文字母[A-Z]，不区分大小写。数字[0-9]，或者“_”表示空格，确保两个字符串都是非空的。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在一行中输出坏掉的键，英文字母必须大写，每个坏掉的键只打印一次。保证至少有一个键是坏掉的。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>全部转换为大写后，使用find函数比较，然后开个数组标记是否输出过了。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">转换为大写</span><br><span class="line">transform(a.begin(), a.end(),a.begin(), ::<span class="built_in">toupper</span>);</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">查找字母</span><br><span class="line"><span class="keyword">if</span> (b.find(*i) == <span class="built_in">string</span>::npos&amp;&amp;key[*i]==<span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; *i;</span><br><span class="line">            key[*i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> key[<span class="number">256</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="built_in">string</span> a, b;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">    transform(a.begin(), a.end(),a.begin(), ::<span class="built_in">toupper</span>);</span><br><span class="line">    transform(b.begin(), b.end(),b.begin(), ::<span class="built_in">toupper</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = a.begin(); i != a.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (b.find(*i) == <span class="built_in">string</span>::npos&amp;&amp;key[*i]==<span class="literal">false</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; *i;</span><br><span class="line">            key[*i] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>_This_is_a_test</span><br><span class="line">_hs_s_a_es</span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>TI</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串处理 </tag>
            
            <tag> STL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1083 List Grades (25)</title>
      <link href="//posts/d597c9df/"/>
      <url>//posts/d597c9df/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>输出成绩在给定区间的同学信息。<br><a id="more"></a><br>基础题，就是一个cmp函数。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="built_in">string</span> ID;</span><br><span class="line">    <span class="keyword">int</span> g;</span><br><span class="line">&#125;student;</span><br><span class="line"><span class="built_in">vector</span>&lt;student&gt; s;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(student a, student b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.g &gt; b.g;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    s.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; s[i].name &gt;&gt; s[i].ID &gt;&gt; s[i].g;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(s.begin(), s.end(), cmp);</span><br><span class="line">    <span class="keyword">int</span> grade1, grade2;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; grade1 &gt;&gt; grade2;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = s.begin(); i != s.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i-&gt;g&gt;=grade1&amp;&amp;i-&gt;g&lt;=grade2)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; i-&gt;name &lt;&lt; <span class="string">' '</span> &lt;&lt; i-&gt;ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!flag)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"NONE"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="comment">//freopen("2.txt", "r", stdin);</span></span><br><span class="line">    solution();</span><br><span class="line"><span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line">Tom CS000001 <span class="number">59</span></span><br><span class="line">Joe Math990112 <span class="number">89</span></span><br><span class="line">Mike CS991301 <span class="number">100</span></span><br><span class="line">Mary EE990830 <span class="number">95</span></span><br><span class="line"><span class="number">60</span> <span class="number">100</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">Mike CS991301</span><br><span class="line">Mary EE990830</span><br><span class="line">Joe Math990112</span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Jean AA980920 <span class="number">60</span></span><br><span class="line">Ann CS01 <span class="number">80</span></span><br><span class="line"><span class="number">90</span> <span class="number">95</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">NONE</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1081 Rational Sum (20)</title>
      <link href="//posts/3b99a8f3/"/>
      <url>//posts/3b99a8f3/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>有理数的和。<br><a id="more"></a><br>小学的数学题，这次用写程序来求解。</p><p>给定“分支/分母”形式的N个有理数，求他们的总和。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入文件都包括一个测试用例。每种情况都已一个正整数N（&lt;= 100）开始，在下一行，有N个有理数。以“分子/分母”的形式给出，所有的分子和分母都在long int的范围内。如果有负数，则符号必须出现在分子之前。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，输出这些数的总和，以带分数的最简形式给出，也即，“整数 分子/分母”的形式，分子和分母没有公因子。如果整数部分为0，即总和小于1，就只输出小数部分。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>辗转相除法。注意，如果是负数，求公约数的时候要注意，返回一个正值。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>求绝对值函数在abs()里，头文件是iostream</p><p>return b == 0 ? abs(a) : gcd(b, a%b);</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> member;<span class="comment">//分子部分</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> deno;<span class="comment">//分母部分</span></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> inte;<span class="comment">//整数部分</span></span><br><span class="line">&#125;fraction;</span><br><span class="line">fraction num;</span><br><span class="line">fraction res = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> a, <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> b)</span><span class="comment">//最大公约数,abs求绝对值</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b == <span class="number">0</span> ? <span class="built_in">abs</span>(a) : gcd(b, a%b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%lld/%lld"</span>, &amp;num.member,&amp;num.deno);</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> gcd_num = gcd(num.member,num.deno);</span><br><span class="line">        num.deno /= gcd_num; num.member /= gcd_num;</span><br><span class="line">        res.member = res.member*num.deno + res.deno*num.member;</span><br><span class="line">        res.deno = res.deno*num.deno;</span><br><span class="line">        gcd_num = gcd(res.deno, res.member);</span><br><span class="line">        res.deno /= gcd_num; res.member /= gcd_num;</span><br><span class="line">    &#125;</span><br><span class="line">    res.inte = res.member / res.deno;</span><br><span class="line">    res.member -= (res.deno*res.inte);</span><br><span class="line">    <span class="keyword">if</span> (res.inte!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; res.inte;</span><br><span class="line">        <span class="keyword">if</span> (res.member!=<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res.member!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; res.member &lt;&lt; <span class="string">'/'</span> &lt;&lt; res.deno;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (res.inte==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">'0'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"3.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">2</span>/<span class="number">5</span> <span class="number">4</span>/<span class="number">15</span> <span class="number">1</span>/<span class="number">30</span> <span class="number">-2</span>/<span class="number">60</span> <span class="number">8</span>/<span class="number">3</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> <span class="number">1</span>/<span class="number">3</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span>/<span class="number">3</span> <span class="number">2</span>/<span class="number">3</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">2</span></span><br><span class="line">Sample Input <span class="number">3</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span>/<span class="number">3</span> <span class="number">-1</span>/<span class="number">6</span> <span class="number">1</span>/<span class="number">8</span></span><br><span class="line">Sample Output <span class="number">3</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>/<span class="number">24</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 分数加法 </tag>
            
            <tag> 辗转相除法 </tag>
            
            <tag> 最大公约数 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1082 Read Number in Chinese (25)</title>
      <link href="//posts/a290f949/"/>
      <url>//posts/a290f949/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>数字的中文读法。<br><a id="more"></a><br>这道题和1081一样，都是小学的数学题。</p><p>给定一个不超过9位数的正数，要求输出他的中文读法。如果这个数是负数，则要首先输出负数。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试样例，给出一个不超过9位数的整数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行中，输出数字的中文读法。字符之间用空格隔开，行尾不能有多余的空格。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>把9位数分为3个部分，亿，万，个。</p><p>在每一部分中，其读法都是一致的。都是X千X百X十X。</p><p>我认为关键在于0的处理。小学数学没学好，大概写写。</p><ol><li>将所有的数都看作由三部分组成的，即都看作9位数来处理。</li><li>有多个零的情况下，只输出一个零。比如，10024，输出yi Wan ling er Shi si。</li><li>对于最高位非亿的，第一位之前不输出零，即405，输出si Bai ling wu。而不是ling si Bai ling wu。</li><li>如果横跨两个部分，比如100001234，也只输出一个ling，即yi Yi ling yi Qian er Bai san Shi si。</li><li>对于千百十，输出数字之后，还要输出单位。</li><li>每部分结束后，输出这个部分对应的单位（Yi / Wan / ）。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>输出ling时，用一个变量标记，在零后遇到的的第一个非零数时，输出ling。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> num[<span class="number">10</span>] = &#123; <span class="string">"ling"</span>,<span class="string">"yi"</span>, <span class="string">"er"</span>, <span class="string">"san"</span>, <span class="string">"si"</span>, <span class="string">"wu"</span>, <span class="string">"liu"</span>, <span class="string">"qi"</span>, <span class="string">"ba"</span>, <span class="string">"jiu"</span> &#125;;</span><br><span class="line"><span class="built_in">string</span> c[<span class="number">6</span>] = &#123; <span class="string">"Ge"</span>,<span class="string">"Shi"</span>, <span class="string">"Bai"</span>, <span class="string">"Qian"</span>, <span class="string">"Yi"</span>, <span class="string">"Wan"</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> J[] = &#123;</span><br><span class="line">    <span class="number">1</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">1000</span>,</span><br><span class="line">    <span class="number">10000</span>, <span class="number">100000</span>, <span class="number">1000000</span>, <span class="number">10000000</span>,</span><br><span class="line">    <span class="number">100000000</span> &#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt;res;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"ling"</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n&lt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Fu "</span>;</span><br><span class="line">        n = -n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> part[<span class="number">3</span>];</span><br><span class="line">    part[<span class="number">0</span>]= n / <span class="number">100000000</span>;</span><br><span class="line">    <span class="comment">//int yi =</span></span><br><span class="line">    part[<span class="number">1</span>]= (n % <span class="number">100000000</span>) / <span class="number">10000</span>;</span><br><span class="line">    part[<span class="number">2</span>] = n % <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">bool</span> zero = <span class="literal">false</span>;<span class="comment">//是否在非零数字前输出合适的ling</span></span><br><span class="line">    <span class="keyword">int</span> printCnt = <span class="number">0</span>;<span class="comment">//用于维护单词前没有空格，之后输入的单词都在前面加一个空格。</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = part[i];<span class="comment">//三个部分，每部分内部的命名规则都一样，都是X千X百X十X</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">3</span>; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> curPos = <span class="number">8</span> - i * <span class="number">4</span> + j;<span class="comment">//当前数字的位置</span></span><br><span class="line">            <span class="keyword">if</span> (curPos &gt;= <span class="number">9</span>)</span><br><span class="line">                <span class="keyword">continue</span>;<span class="comment">//最多九位数</span></span><br><span class="line">            <span class="keyword">int</span> cur = (temp / J[j]) % <span class="number">10</span>;<span class="comment">//取出当前数字</span></span><br><span class="line">            <span class="keyword">if</span> (cur!=<span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (zero)<span class="comment">//前面有零</span></span><br><span class="line">                &#123;</span><br><span class="line">                     printCnt++ == <span class="number">0</span> ? <span class="built_in">cout</span>&lt;&lt;<span class="string">"ling"</span> : <span class="built_in">cout</span>&lt;&lt;<span class="string">" ling"</span>;</span><br><span class="line">                     zero = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    printCnt++ == <span class="number">0</span> ? <span class="built_in">cout</span> &lt;&lt; num[cur] : <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; num[cur];<span class="comment">//在个位，直接输出</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;<span class="comment">//在其他位，还要输出十百千</span></span><br><span class="line">                    printCnt++ == <span class="number">0</span> ? <span class="built_in">cout</span> &lt;&lt; num[cur] &lt;&lt; <span class="string">' '</span> &lt;&lt; c[j] : <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; num[cur] &lt;&lt; <span class="string">' '</span> &lt;&lt; c[j];</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!zero&amp;&amp;j != <span class="number">0</span> &amp;&amp; n / J[curPos] &gt;= <span class="number">10</span>)<span class="comment">//注意100020这样的情况</span></span><br><span class="line">                &#123;</span><br><span class="line">                    zero = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//处理完每部分之后，最后输出单位，Yi/Wan</span></span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">2</span> &amp;&amp; part[i]&gt;<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; c[i + <span class="number">4</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">输入</span><br><span class="line"><span class="number">100001234</span></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line">yi Yi ling yi Qian er Bai san Shi si</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">-123456789</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">Fu yi Yi er Qian san Bai si Shi wu Wan liu Qian qi Bai ba Shi jiu</span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">100800</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">yi Shi Wan ling ba Bai</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1079 Total Sales of Supply Chain (25)</title>
      <link href="//posts/b2da3c0e/"/>
      <url>//posts/b2da3c0e/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>求供应链的销售总额。<br><a id="more"></a><br>一张包括零售商，中间经销商，供应商的一张网络。这张网络里没有环。</p><p>从一个源供应商开始，供应链上每个成员从提供者手里用价格P购买商品，然后以高于P百分之r的价格，加价卖给下家。只有零售商是面向顾客的。</p><p>假设除了源供应商以外，所有的成员都只面向一个供应商。</p><p>现给出一个供应链，要求计算出所有零售商出售所有商品的总额。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例，对于每个用例，第一行包括是三个正整数，N，表示供应链上所有成员的个数。ID从0~N-1编号，源供应商的编号为0。P，为源供应商给出的价格，r，为每次加价的百分比。</p><p>接着是N行，每行以如下格式描述了经销商或者零售商的信息：</p><p>Ki ID[1] ID[2] … ID[Ki]</p><p>第i行中。Ki指从ID为i的经销商手中进货的零售商和经销商的总数，接下来的ID就是表明有哪些经销商和零售商。</p><p>若Ki为0，那么代表这个为零售商，直接面对顾客，无下家了。然后产品总数会在Ki之后出给。所有数据之间，由一个空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试用例，在一行内输出所有零售商的总销售额，精确到小数点后一位。保证这个数字不会超过10^10。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>DFS，注意保存DFS的层数，最后按幂次乘在P上。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; buy;<span class="comment">//表示零售商卖出去多少</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;G;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">double</span> r, P, res=<span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> num, <span class="keyword">int</span> step)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> end = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; G[num].size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> v = G[num][i];</span><br><span class="line">        end = <span class="number">0</span>;</span><br><span class="line">        DFS(v, step + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (end)</span><br><span class="line">    &#123;</span><br><span class="line">        res += P*(<span class="built_in">pow</span>((<span class="number">1</span> + r*<span class="number">0.01</span>), step)* buy[num]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; P &gt;&gt; r;</span><br><span class="line">    G.resize(N);</span><br><span class="line">    buy.resize(N);</span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; a; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">            G[i].push_back(b);<span class="comment">//b是a的下家</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (a == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">            buy[i] = b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    DFS(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.1f\n"</span>, res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">10</span> <span class="number">1.80</span> <span class="number">1.00</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">9</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">7</span></span><br><span class="line"><span class="number">0</span> <span class="number">7</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">8</span></span><br><span class="line"><span class="number">0</span> <span class="number">9</span></span><br><span class="line"><span class="number">0</span> <span class="number">4</span></span><br><span class="line"><span class="number">0</span> <span class="number">3</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">42.4</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1080 Graduate Admission (30)</title>
      <link href="//posts/f4728b59/"/>
      <url>//posts/f4728b59/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a><br>研究生招生录取。<br><a id="more"></a><br>又到了一年研招季。在浙江省，大约有100个研招点和超过40000个申请人。要求你写一个算法，求出哪些人可以考上。</p><p>给出初试成绩Ge和复试成绩Gi，最后的总成绩是（Ge+Gi）/2。</p><p>规则如下：</p><ol><li>考生根据他们的最终成绩排名，由高到低逐一录取。</li><li>如果总成绩相同，则初试成绩Ge高者优先。如果任然相同，则他们的最终排名相同。</li><li>每个考生可以填K个志愿，按先后顺序进行投档。根据名次排名，轮到他投档时，对他的K个志愿按先后依次检测，如果该志愿学校还剩有名额，则投档。如果这名考生被所有的学校都拒绝了，则他落榜。</li><li>对于名次并列，并且都申请同一所学校的考生，若有一个人被录取，则所有的考生都得被录取，即使超过了该学校的配额。</li></ol><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入里有一个测试用例。</p><p>第一行是三个正整数，N（&lt;=40000），表示申请的总人数；M(&lt;=100)，研究生招生点的数量；K（&lt;=5）每个考生最多可以填的志愿数。</p><p>在下一行，有M个正整数，第i个表示第i个研究生招生点的配额。</p><p>随后有N行，每行有K+2个整数，前两个是考生的Ge和Gi，后K个代表志愿。</p><p>为简单起见，假设招生点的编号为0~M-1，考生编号为0~N-1。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出所有研招点的录取结果，每个研招点的成绩占一行，其中包含录取的考生的编号。按升序排列，由空格分隔。</p><p>如果此研招点没有录取任何考生，则相应的输出一个空行。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>排序，然后按照成绩进行投档，录取条件可以简化为：</p><ol><li>所投的单位未招满</li><li>招满了但是和最后一名的总分和Ge分相同</li></ol><p>以上两个条件，任意满足其一即可。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>时间限制很短，输入输出又有很多，要用scanf/printf代替cin/cout。否则会有一个超时</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, M, K;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Ge;</span><br><span class="line">    <span class="keyword">int</span> Gi;</span><br><span class="line">    <span class="keyword">int</span> Total;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; wish;<span class="comment">//志愿集合</span></span><br><span class="line">    <span class="keyword">int</span> ID;</span><br><span class="line">&#125;student;</span><br><span class="line"><span class="built_in">vector</span>&lt;student&gt; S;<span class="comment">//学生集合</span></span><br><span class="line"><span class="keyword">int</span> college[<span class="number">101</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(student a, student b)</span><span class="comment">//排序函数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.Total != b.Total)</span><br><span class="line">        <span class="keyword">return</span> a.Total &gt; b.Total;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.Ge &gt; b.Ge;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">    S.resize(N);</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; college[i];<span class="comment">//输入名额数量</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d "</span>, &amp;S[i].Ge, &amp;S[i].Gi);</span><br><span class="line">        S[i].Total = S[i].Ge + S[i].Gi;</span><br><span class="line">        S[i].wish.resize(K);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; K; j++)<span class="comment">//输入志愿信息</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;S[i].wish[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        S[i].ID = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;student&gt; S1 = S;<span class="comment">//保存ID信息</span></span><br><span class="line">    sort(S.begin(), S.end(), cmp);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; res;<span class="comment">//存放结果</span></span><br><span class="line">    res.resize(M);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; S.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; K; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = S[i].wish[j];<span class="comment">//当前志愿</span></span><br><span class="line">            <span class="keyword">if</span> (college[temp] &gt; <span class="number">0</span>||(S1[res[temp].back()].Ge == S[i].Ge&amp;&amp;S1[res[temp].back()].Total == S[i].Total))<span class="comment">//还有名额，或者招满情况，比较报考学校最后一名学生的成绩和当前学生的成绩</span></span><br><span class="line">            &#123;</span><br><span class="line">                res[temp].push_back(S[i].ID);<span class="comment">//投档</span></span><br><span class="line">                college[temp]--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        sort(res[i].begin(), res[i].end());</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; res[i].size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d"</span>, res[i][j]);</span><br><span class="line">            <span class="keyword">if</span> (j!= res[i].size()<span class="number">-1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" "</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">11</span> <span class="number">6</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">100</span> <span class="number">100</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">60</span> <span class="number">60</span> <span class="number">2</span> <span class="number">3</span> <span class="number">5</span></span><br><span class="line"><span class="number">100</span> <span class="number">90</span> <span class="number">0</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">90</span> <span class="number">100</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">90</span> <span class="number">90</span> <span class="number">5</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">80</span> <span class="number">90</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">80</span> <span class="number">80</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">80</span> <span class="number">80</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">80</span> <span class="number">70</span> <span class="number">1</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">70</span> <span class="number">80</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">100</span> <span class="number">100</span> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span> <span class="number">6</span> <span class="number">7</span></span><br><span class="line"><span class="number">2</span> <span class="number">8</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">输入</span><br><span class="line"><span class="number">20</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">9</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="number">7</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">6</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">0</span> <span class="number">3</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">6</span> <span class="number">5</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">6</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">4</span> <span class="number">8</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">6</span> <span class="number">2</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">9</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span> <span class="number">2</span> <span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">5</span> <span class="number">7</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br><span class="line"><span class="number">7</span> <span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">6</span> <span class="number">7</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line"><span class="number">0</span> <span class="number">4</span> <span class="number">8</span> <span class="number">11</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">7</span> <span class="number">9</span> <span class="number">10</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span></span><br><span class="line"><span class="number">19</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1078 Hashing (25)</title>
      <link href="//posts/923495e5/"/>
      <url>//posts/923495e5/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems" target="_blank" rel="noopener">题目链接</a></p><p>哈希表的平方探查法。<br><a id="more"></a><br>散列函数是H(key) = key % TSize ，其中Tsize是散列表的大小，平方探查法用于解决冲突，只考虑增量。如果表格大小不为素数，则要将其重新定义为大于用户给定大小的最小素数。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行输入两个正数，Msizie（&lt;=10000）和N，用于定义用户的hash表大小和数字的数量。</p><p>然后给出N个正整数，由空格分隔。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出数字相应的位置，从0开始索引，每个数字间由一个空格隔开。若无法插入，则输出”-“。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> num)</span><span class="comment">//判断素数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i *i&lt;= num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (num%i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">bool</span> hashTable[<span class="number">10010</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tsize, n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; tsize &gt;&gt; n;</span><br><span class="line">    <span class="keyword">while</span> (!isPrime(tsize))</span><br><span class="line">    &#123;</span><br><span class="line">        tsize++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        <span class="keyword">int</span> j,k;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; tsize; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            k = (temp + j*j) % tsize;<span class="comment">//平方探测</span></span><br><span class="line">            <span class="keyword">if</span> (!hashTable[k])</span><br><span class="line">            &#123;</span><br><span class="line">                hashTable[k] = <span class="literal">true</span>;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; k;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == tsize)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"-"</span>;</span><br><span class="line">        <span class="keyword">if</span> (i != n - <span class="number">1</span>)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> <span class="number">4</span></span><br><span class="line"><span class="number">10</span> <span class="number">6</span> <span class="number">4</span> <span class="number">15</span></span><br><span class="line">Sample Output:</span><br><span class="line"></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">4</span> -</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> Hash </tag>
            
            <tag> 平方探查法 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1077 Kuchiguse (20)</title>
      <link href="//posts/6e8a40c3/"/>
      <url>//posts/6e8a40c3/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1077" target="_blank" rel="noopener">题目链接</a></p><p>日语的尾音。<br><a id="more"></a><br>给定N个字符串，求他们的公共后缀。如果不存在公共后缀，输出nai。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入包括一个测试用例。第一行是整N，接下来是N个字符串，每个占一行。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出这N个字符串的公共后缀。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>字符串处理</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>可以将字符串逆置，这样只需要比较前面的字符就可以了。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="built_in">string</span> ans,s;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//cin &gt;&gt; N;</span></span><br><span class="line">    <span class="comment">//cin.ignore();          //用这两个或者下面的scanf</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d\n"</span>, &amp;N);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        getline(<span class="built_in">cin</span>, s);</span><br><span class="line">        <span class="keyword">int</span> length = s.length();</span><br><span class="line">        reverse(s.begin(), s.end());</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans = s;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> ans_length = ans.length();</span><br><span class="line">            <span class="keyword">int</span> min_length = min(ans_length, length);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; min_length; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (ans[j]!=s[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    ans = ans.substr(<span class="number">0</span>, j);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    reverse(ans.begin(), ans.end());</span><br><span class="line">    <span class="keyword">if</span> (ans.length() == <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"nai"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line">Itai nyan~</span><br><span class="line">Ninjin wa iyadanyan~</span><br><span class="line">uhhh nyan~</span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"></span><br><span class="line">nyan~</span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line"><span class="number">3</span></span><br><span class="line">Itai!</span><br><span class="line">Ninjinnwaiyada T_T</span><br><span class="line">T_T</span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"></span><br><span class="line">nai</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>已知二叉树的中序和前序序列(或后序)求解树</title>
      <link href="//posts/b3684980/"/>
      <url>//posts/b3684980/</url>
      <content type="html"><![CDATA[<h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>这种题一般有两种形式，共同点是都已知中序序列。如果没有中序序列，是无法唯一确定一棵树的，证明略。<br><a id="more"></a></p><h1 id="已知二叉树的前序序列和中序序列"><a href="#已知二叉树的前序序列和中序序列" class="headerlink" title="已知二叉树的前序序列和中序序列"></a>已知二叉树的前序序列和中序序列</h1><p>方法如下：</p><ol><li>确定树的根节点。<strong>树根是当前树中所有元素在前序遍历中最先出现的元素。</strong></li><li>求解树的子树。找出根节点在中序遍历中的位置，根左边的所有元素就是左子树，根右边的所有元素就是右子树。若根节点左边或右边为空，则该方向子树为空；若根节点左边和右边都为空，则根节点已经为叶子节点。</li><li>递归求解树。将左子树和右子树分别看成一棵二叉树，重复1、2、3步，直到所有的节点完成定位。</li></ol><h1 id="已知二叉树的后序序列和中序序列"><a href="#已知二叉树的后序序列和中序序列" class="headerlink" title="已知二叉树的后序序列和中序序列"></a>已知二叉树的后序序列和中序序列</h1><ol><li>确定树的根。<strong>树根是当前树中所有元素在后序遍历中最后出现的元素。</strong></li><li>求解树的子树。找出根节点在中序遍历中的位置，根左边的所有元素就是左子树，根右边的所有元素就是右子树。若根节点左边或右边为空，则该方向子树为空；若根节点左边和右边都为空，则根节点已经为叶子节点。</li><li>递归求解树。将左子树和右子树分别看成一棵二叉树，重复1、2、3步，直到所有的节点完成定位。</li></ol><h1 id="举例说明"><a href="#举例说明" class="headerlink" title="举例说明"></a>举例说明</h1><p>举个栗子：</p><p>中序序列 HLDBEKAFCG</p><p>后序序列 LHDKEBFGCA</p><p>1、在后序序列LHDKEBFGCA中最后出现的元素为A，HLDBEK|<font color="#FF0000">A</font>|FCG</p><p>2、在后序序列LHDKEB中最后出现的元素为B，HLD|<font color="#FF0000">B</font>|EK|A|FCG</p><p>3、在后序序列LHD中最后出现的元素为D，HL|<font color="#FF0000">D</font>|B|EK|A|FCG</p><p>4、在后序序列LH中最后出现的元素为H，<font color="#FF0000">H</font>|L|D|B|EK|A|FCG</p><p>5、在后序序列KE中最后出现的元素为E，H|L|D|B|<font color="#FF0000">E</font>|K|A|FCG</p><p>5、在后序序列FGC中最后出现的元素为C，H|L|D|B|E|K|A|F|<font color="#FF0000">C</font>|G</p><p>6、所有元素都已经定位，二叉树求解完成。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">        A</span><br><span class="line">     /     \</span><br><span class="line">    B       C</span><br><span class="line">   / \     /  \</span><br><span class="line">  D  E     F   G</span><br><span class="line"> /    \</span><br><span class="line">H      K                                   </span><br><span class="line"> \                        </span><br><span class="line">  L</span><br></pre></td></tr></table></figure></p><h1 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">功能: 1.利用树的前序和中序序列创建树</span></span><br><span class="line"><span class="comment">2.利用树的后序和中序序列创建树</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> pre[<span class="number">50</span>] = <span class="string">"ABDHLEKCFG"</span>;        <span class="comment">//前序序列</span></span><br><span class="line"><span class="keyword">char</span> mid[<span class="number">50</span>] = <span class="string">"HLDBEKAFCG"</span>;        <span class="comment">//中序序列</span></span><br><span class="line"><span class="keyword">char</span> post[<span class="number">50</span>] = <span class="string">"LHDKEBFGCA"</span>;        <span class="comment">//后序序列</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> _<span class="title">Node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> v;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> _<span class="title">Node</span> *<span class="title">left</span> = <span class="title">NULL</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> _<span class="title">Node</span> *<span class="title">right</span> = <span class="title">NULL</span>;</span></span><br><span class="line">&#125;Node, *PNode;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostTravelTree</span><span class="params">(PNode pn)</span></span>;        <span class="comment">//树的后序递归遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreTravelTree</span><span class="params">(PNode pn)</span></span>;        <span class="comment">//树的前序递归遍历</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreMidCreateTree</span><span class="params">(PNode &amp;pn, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> len)</span></span>;        <span class="comment">//利用前序中序序列创建树</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostMidCreateTree</span><span class="params">(PNode &amp;pn, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> len)</span></span>;        <span class="comment">//利用后序中序序列创建树</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Position</span><span class="params">(<span class="keyword">char</span> c)</span></span>;                <span class="comment">//确定c在中序序列mid中的下标,假设树的各个节点的值各不相同</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    PNode root1 = <span class="literal">NULL</span>, root2 = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    PreMidCreateTree(root1, <span class="number">0</span>, <span class="number">0</span>, <span class="built_in">strlen</span>(mid));</span><br><span class="line">    PostTravelTree(root1); <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//后序</span></span><br><span class="line">    PostMidCreateTree(root2, <span class="built_in">strlen</span>(post) - <span class="number">1</span>, <span class="number">0</span>, <span class="built_in">strlen</span>(mid));</span><br><span class="line">    PreTravelTree(root2); <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;<span class="comment">//先序</span></span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Position</span><span class="params">(<span class="keyword">char</span> c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strchr</span>(mid, c) - mid;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*        i: 子树的前序序列字符串的首字符在pre[]中的下标</span></span><br><span class="line"><span class="comment">*        j: 子树的中序序列字符串的首字符在mid[]中的下标</span></span><br><span class="line"><span class="comment">*      len: 子树的字符串序列的长度</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreMidCreateTree</span><span class="params">(PNode &amp;pn, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (len &lt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    pn = <span class="keyword">new</span> Node;</span><br><span class="line">    pn-&gt;v = pre[i];</span><br><span class="line">    <span class="keyword">int</span> m = Position(pre[i]);</span><br><span class="line">    PreMidCreateTree(pn-&gt;left, i + <span class="number">1</span>, j, m - j);            <span class="comment">//m-j为左子树字符串长度</span></span><br><span class="line">    PreMidCreateTree(pn-&gt;right, i + (m - j) + <span class="number">1</span>, m + <span class="number">1</span>, len - <span class="number">1</span> - (m - j));    <span class="comment">//len-1-(m-j)为右子树字符串长度</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*  利用后序中序序列创建树</span></span><br><span class="line"><span class="comment">*        i: 子树的后序序列字符串的尾字符在post[]中的下标</span></span><br><span class="line"><span class="comment">*        j: 子树的中序序列字符串的首字符在mid[]中的下标</span></span><br><span class="line"><span class="comment">*      len: 子树的字符串序列的长度</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostMidCreateTree</span><span class="params">(PNode &amp;pn, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (len &lt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    pn = <span class="keyword">new</span> Node;</span><br><span class="line">    pn-&gt;v = post[i];</span><br><span class="line">    <span class="keyword">int</span> m = Position(post[i]);</span><br><span class="line">    PostMidCreateTree(pn-&gt;left, i - <span class="number">1</span> - (len - <span class="number">1</span> - (m - j)), j, m - j);<span class="comment">//注意参数:m-j左子树的长度,len-1-(m-j)右子树的长度</span></span><br><span class="line">    PostMidCreateTree(pn-&gt;right, i - <span class="number">1</span>, m + <span class="number">1</span>, len - <span class="number">1</span> - (m - j));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PostTravelTree</span><span class="params">(PNode pn)</span>        <span class="comment">//后序递归遍历</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pn)</span><br><span class="line">    &#123;</span><br><span class="line">        PostTravelTree(pn-&gt;left);</span><br><span class="line">        PostTravelTree(pn-&gt;right);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; pn-&gt;v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreTravelTree</span><span class="params">(PNode pn)</span>        <span class="comment">//前序递归遍历</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pn)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; pn-&gt;v &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">        PreTravelTree(pn-&gt;left);</span><br><span class="line">        PreTravelTree(pn-&gt;right);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 二叉树 </tag>
            
            <tag> 重建二叉树 </tag>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>如何下载知乎中的短视频</title>
      <link href="//posts/581e27f1/"/>
      <url>//posts/581e27f1/</url>
      <content type="html"><![CDATA[<p>关于知乎里的视频的下载技巧。<br><a id="more"></a></p><h1 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h1><p>以<a href="https://www.zhihu.com/question/266137847/answer/317574998" target="_blank" rel="noopener">拥有配音技能是什么样的体验</a>这个回答中的视频为例。</p><h1 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h1><p>我用的是chrome浏览器，不涉及插件。</p><h2 id="获取视频地址"><a href="#获取视频地址" class="headerlink" title="获取视频地址"></a>获取视频地址</h2><p>右键点击视频，检查。找到<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe frameborder=”0″ allowfullscreen=”” src=”https://www.zhihu.com/video/946365677783703552″&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure></p><p>如图所示：</p><p><img src="/posts/581e27f1/如何下载知乎回答中的短视频-插图1.jpg" alt="视频地址"></p><p>复制地址<br><a href="https://www.zhihu.com/video/946365677783703552" target="_blank" rel="noopener">https://www.zhihu.com/video/946365677783703552</a> 在新的标签中打开。</p><h2 id="获取m3u8地址"><a href="#获取m3u8地址" class="headerlink" title="获取m3u8地址"></a>获取m3u8地址</h2><p>按F12，打开NetWork——All，搜索m3u8：</p><p><img src="/posts/581e27f1/如何下载知乎回答中的短视频-插图2.jpg" alt="m3u8地址"></p><p>右键——Copy——Copy link address</p><h2 id="用gohls下载"><a href="#用gohls下载" class="headerlink" title="用gohls下载"></a>用gohls下载</h2><p>下载<a href="https://github.com/kz26/gohls/releases" target="_blank" rel="noopener">gohls</a></p><p>解压后，在终端里，输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gohls -l=true “m3u8地址” “保存的文件名.mp4”</span><br></pre></td></tr></table></figure></p><p>其中m3u8的地址就是刚才复制的。</p><p>此方法适用于大部分直播网站（斗鱼视频回放、一直播回放、美拍直播、熊猫、龙珠、AF、战旗、虎牙、YYLive…）</p><hr><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="https://zhuanlan.zhihu.com/p/30818462" target="_blank" rel="noopener">教大家怎么下载各大平台的m3u8直播录像</a></p>]]></content>
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> m3u8 </tag>
            
            <tag> 下载技巧 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>帽子颜色问题</title>
      <link href="//posts/3ffb6ae9/"/>
      <url>//posts/3ffb6ae9/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>学校最近举行一场运动会，共有17名身高不同的学生参加。裁判准备了如下颜色的帽子：3顶红色，4顶黄色，5顶蓝色，7顶绿色。规则如下：让17个人按顺序站成一列，给他们每个人都戴一顶帽子，每个人看不见自己帽子的颜色，却能看到站在前面的那些人的帽子颜色。即， 从队头到队尾，分别标记为1,2,4,5….17。1号啥都看不到，17号能看到1~16号帽子的颜色。这17名学生知道帽子都有什么颜色以及有多少顶。</p><p>现在从队尾开始，即17号，开始依次问，你是否知道自己戴的帽子的颜色，如果他回答不知道，就继续问他前面的人，即16,15,14…依次往前问。问最多问到几号，他就一定能知道自己戴的是什么颜色的帽子。<br><a id="more"></a><br>答案最多是问到11号。</p><h1 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h1><p>先看一个这个问题的简化版：</p><p>有3顶黑帽子，2顶白帽子。让三个人从前到后站成一排。从前到后分别标记为1号，2,号，3号。给他们每个人头上戴一顶帽子。每个人都看不见自己戴的帽子的颜色，却只能看见站在前面那些人的帽子颜色。（所以3号可以看见前面两个人头上帽子的颜色，2号看得见1号的帽子颜色但看不见在他后面那个人的帽子颜色，而1号谁的帽子都看不见。现在从3号开始，问他是不是知道自己戴的帽子颜色，如果他回答说不知道，就继续问他前面那个人。问最多问到几号，他就一定知道自己戴的是什么帽子。</p><p>答案是，1号。分析如下：</p><ol><li>3号说不知道，那么3号看到的情况有：1黑1白，2黑。</li><li>在问2号的时候，如果2号看到的是白色，那么这就只能是1黑1白的情况，因此2号就知道自己戴的是黑色的。</li><li>如果2号看到的是黑色的，那么2号就不知道自己戴的是白还是黑色，只好说不知道。因此在1号听见了2,3都说不知道之后，他就知道了自己戴的是黑色的帽子。</li></ol><p>换个复杂点的：</p><p>3顶红帽子，4顶黑帽子，5顶白帽子，10个人。详细列举如下：</p><ol><li>从最后面的10号开始分析，3顶红帽子，4顶黑帽子，5顶白帽子，他要想推理出自己帽子的颜色，那么他看到的帽子的颜色情形一定是这样的：某两种颜色帽子全部出现。</li><li>10号不知道自己帽子的颜色，由此可以得出，他看到的帽子颜色不可能出现：3红4黑、3红5白、4黑5白的情况，那么他看到的帽子颜色只可能有下表7种情况：</li></ol><p><img src="/posts/3ffb6ae9/1.png" alt="帽子颜色问题"></p><ol><li>分析9号的情况，9号听到10说不知道，那么他就可能通过上面的分析，知道10号看到的帽子情况是上面7种情况。针对上面的每一种情况，自己帽子颜色有红、黑、白3种可能，那么总共就有7 × 3 = 21 种可能。如下表：</li></ol><p><img src="/posts/3ffb6ae9/2.png" alt="帽子颜色问题"></p><ol><li>上表列出了9号能够看到所有可能情况，第一列表示9号是红色帽子的情况下，可能出现的颜色组合，第二列表示他是黑色帽子时可能出现的组合，第三列就是他是白色帽子时的组合。</li></ol><p>上图红色标记的，表示在21种情况中，没有重复出现的颜色组合，而黄色标记的则是有重复出现的颜色组合。</p><p>如组合（1）：红0黑4白4，如果9号看到这种颜色组合，那么他就能判断出自己带的是红帽子，因为，所有21种组合中，这个组合是唯一的。</p><p>而对于组合（3）：红1黑4白3，在21种组合中有重复，和组合（15）重复，9号戴红色帽子或者戴白色帽子都是这种情况，9号无法判断自己的帽子的颜色是红色还是白色。<br>9号无法判断自己帽子的颜色，只可能是重复出现的标记为黄色的组合，一共有6种情况，如下表：</p><p><img src="/posts/3ffb6ae9/3.png" alt="帽子颜色问题"></p><ol><li>分析8号的情况，8号听到9号说不知道，那么他就可能通过上面的分析，知道9号看到的帽子情况是上面6种情况。针对上面的每一种情况，自己帽子颜色有红、黑、白3种可能，那么总共就有6 × 3 = 18 种可能。如下表：</li></ol><p><img src="/posts/3ffb6ae9/4.png" alt="帽子颜色问题"></p><ol><li>类似前面的分析，上面标记为红色的颜色组合，是在18种组合中唯一的组合，就是8号可以推断出自己帽子颜色的组合，黄色的组合则是他无法判断自己帽子颜色的组合，这种组合一共有3种，如下表：</li></ol><p><img src="/posts/3ffb6ae9/5.png" alt="帽子颜色问题"></p><ol><li>分析7号的情况，7号听到8号说不知道，那么他就可能通过上面的分析，知道8号看到的帽子情况是上面3种情况。针对上面的每一种情况，自己帽子颜色有红、黑、白3种可能，那么总共就有3 × 3 = 9 种可能。如下表：</li></ol><p><img src="/posts/3ffb6ae9/6.png" alt="帽子颜色问题"></p><ol><li>类似前面的分析，上面标记为红色的颜色组合，是在9种组合中唯一的组合，就是7号可以推断出自己帽子颜色的组合，黄色的组合则是他无法判断自己帽子颜色的组合，这种组合只有一种，那就是：红1黑2白3。</li><li>现在分析6号的情况，6号听到7号说不知道，那么他就可能通过上面的分析，知道7号看到的帽子情况只有一种：红1黑2白3。针对这种情况，自己帽子颜色有红、黑、白3种可能，那么总共就有1 × 3 = 3 种可能。如下表：</li></ol><p><img src="/posts/3ffb6ae9/7.png" alt="帽子颜色问题"></p><p>上面三种情况都是唯一的，6号看到其它人的帽子颜色组合就可以判断出自己帽子的颜色，如果看到2顶黑帽3顶白帽，那6号就可以判断出自己的帽子是红色。</p><h2 id="换个思路理解"><a href="#换个思路理解" class="headerlink" title="换个思路理解"></a>换个思路理解</h2><p>帽子比人数多2，因此每种颜色的帽子分别至少出现1,2,3,5次。</p><p>对于这个题，如果想让一个人不知道，那么他面前必定有四种颜色，且最少为1,2,3,5。</p><p>因此对于11号，他只能看到10个，且知道了12~17全都说不知道，所以包括他在内，满足4种颜色，分别有1,2,3,5顶。</p><p><strong>因此，对于这种类型的题，把所有颜色的帽子的最小出现次数相加，其和即为最多问到几号。具体颜色=各颜色最少个数-他所看到的</strong></p><p>于是，引言中说的那个题，最多问到11号。</p><h2 id="题目来源"><a href="#题目来源" class="headerlink" title="题目来源"></a>题目来源</h2><p>2018阿里网上笔试题。</p><h1 id="致谢-amp-引用"><a href="#致谢-amp-引用" class="headerlink" title="致谢&amp;引用"></a>致谢&amp;引用</h1><p>引用：<a href="http://blog.sina.com.cn/s/blog_17f3b16300102xe3h.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_17f3b16300102xe3h.html</a></p><p>特别感谢：yz1509</p>]]></content>
      
      <categories>
          
          <category> 数学 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 逻辑推理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>X86与ARM中的原子操作-原理及实现</title>
      <link href="//posts/2a85d31f/"/>
      <url>//posts/2a85d31f/</url>
      <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这个是在面试的时候遇到的问题，当时没有答出来。回到家以后查了查，整理记录下来。</p><p>原问题：什么指令集支持原子操作？其原理是什么？<br><a id="more"></a><br>如果考虑到全部的指令集，问题太大了，这里简化下。以X86和ARM为例。</p><p>原子操作是不可分割的操作，在执行完毕时它不会被任何事件中断。在单处理器系统(UniProcessor，简称 UP)中，能够在单条指令中完成的操作都可以认为是原子操作，因为中断只能发生在指令与指令之间。</p><p>比如，C语言代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">count++</span><br></pre></td></tr></table></figure></p><p>如果未经优化，有可能生成如下汇编：<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">mov</span> <span class="built_in">eax</span>,[count]</span><br><span class="line"><span class="keyword">inc</span> <span class="built_in">eax</span></span><br><span class="line"><span class="keyword">mov</span> [count],<span class="built_in">eax</span></span><br></pre></td></tr></table></figure></p><p>这样在有多个进程执行这段代码时，就有可能产生并发问题：<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">P1：                                 P2：</span><br><span class="line"></span><br><span class="line"><span class="keyword">mov</span> <span class="built_in">eax</span>,[count]                      wait</span><br><span class="line">wait                                 <span class="keyword">mov</span> <span class="built_in">eax</span>,[count]</span><br><span class="line">wait                                 <span class="keyword">inc</span> <span class="built_in">eax</span></span><br><span class="line">wait                                 <span class="keyword">mov</span> [count],<span class="built_in">eax</span></span><br><span class="line"><span class="keyword">inc</span> <span class="built_in">eax</span>                              wait</span><br><span class="line"><span class="keyword">mov</span> [count],<span class="built_in">eax</span>                      wait</span><br></pre></td></tr></table></figure></p><p>这就会出现问题。</p><p>在单处理器中，解决这个问题的方法是，将count++语句翻译成单指令操作<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inc</span> [count]</span><br></pre></td></tr></table></figure></p><p>X86指令集支持inc操作，这样count操作可以在一条指内完成。</p><p>进程的上下文切换总是在一条指令执行之后完成，所以不会出现上述的并发问题。对于单处理器来说，一条处理器指令就是一个原子操作。</p><p>同样，ARM里的SWP和X86里的XCHG都是对于单处理器来说，是原子操作。</p><p>但是，在多处理器系统(Symmetric Multi-Processor，简称 SMP)中情况有所不同，由于系统中有多个处理器在独立的运行，即使在能单条指令中完成的操作也可能受到干扰。因为这个时候并发的主题不再是进程，而是处理器。</p><h1 id="X86架构"><a href="#X86架构" class="headerlink" title="X86架构"></a>X86架构</h1><p>Intel X86指令集提供了指令前缀lock用于锁定前端串行总线FSB，保证了指令执行时不会收到其他处理器的干扰。</p><p>比如：<br><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lock</span> <span class="keyword">inc</span> [count]</span><br></pre></td></tr></table></figure></p><p>使用lock指令前缀之后，处理期间对count内存的并发访问（Read/Write）被禁止，从而保证了指令的原子性。</p><p>如图所示：</p><p><img src="/posts/2a85d31f/X86LOCK.png" alt="X86LOCK"></p><p>其原理在<a href="https://software.intel.com/sites/default/files/managed/a4/60/325383-sdm-vol-2abcd.pdf" target="_blank" rel="noopener">Intel开发手册</a>有如下说明：</p><blockquote><p>Description</p><p>Causes the processor’s LOCK# signal to be asserted during execution of the accompanying instruction (turns the instruction into an atomic instruction). In a multiprocessor environment, the LOCK# signal ensures that the processor has exclusive use of any shared memory while the signal is asserted.</p><p>The LOCK prefix can be prepended only to the following instructions and only to those forms of the instructions where the destination operand is a memory operand: ADD, ADC, AND, BTC, BTR, BTS, CMPXCHG, CMPXCH8B, CMPXCHG16B, DEC, INC, NEG, NOT, OR, SBB, SUB, XOR, XADD, and XCHG. If the LOCK prefix is used with one of these instructions and the source operand is a memory operand, an undefined opcode exception (#UD) may be generated. An undefined opcode exception will also be generated if the LOCK prefix is used with any instruction not in the above list. The XCHG instruction always asserts the LOCK# signal regardless of the presence or absence of the LOCK prefix.</p><p>The LOCK prefix is typically used with the BTS instruction to perform a read-modify-write operation on a memory location in shared memory environment.</p><p>The integrity of the LOCK prefix is not affected by the alignment of the memory field. Memory locking is observed for arbitrarily misaligned fields.</p></blockquote><p>在执行伴随的指令期间使处理器的LOCK＃信号有效（将指令变为原子指令）。 在多处理器环境中，LOCK＃信号确保处理器在信号有效时独占使用任何共享存储器。</p><p>OCK前缀只能附加在下面的指令之前，并且只适用于那些目标操作数是内存操作数的指令格式：ADD，ADC，AND，BTC，BTR，BTS，CMPXCHG，CMPXCH8B，CMPXCHG16B，DEC，INC， NEG，NOT，OR，SBB，SUB，XOR，XADD和XCHG。 如果LOCK前缀与这些指令之一一起使用，并且源操作数是内存操作数，则可能会生成未定义的操作码异常（#UD）。 如果LOCK前缀与任何不在上述列表中的指令一起使用，也会产生未定义的操作码异常。 无论是否存在LOCK前缀，XCHG指令都始终声明LOCK＃信号。</p><p>LOCK前缀通常与BTS指令一起使用，以在共享存储器环境中的存储器位置上执行读取 – 修改 – 写入操作。</p><p>LOCK前缀的完整性不受存储器字段对齐的影响。 内存锁定是针对任意不对齐的字段。</p><h2 id="操作系统中的实现"><a href="#操作系统中的实现" class="headerlink" title="操作系统中的实现"></a>操作系统中的实现</h2><p><a href="https://github.com/torvalds/linux/blob/master/arch/x86/include/asm/atomic.h" target="_blank" rel="noopener">Linux源码</a><br>中对于原子自增一是如下定义的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * atomic_inc - increment atomic variable</span><br><span class="line"> * @v: pointer of type atomic_t</span><br><span class="line"> *</span><br><span class="line"> * Atomically increments @v by 1.</span><br><span class="line"> */</span><br><span class="line">static __always_inline void atomic_inc(atomic_t *v)</span><br><span class="line">&#123;</span><br><span class="line">    asm volatile(LOCK_PREFIX &quot;incl %0&quot;</span><br><span class="line">             : &quot;+m&quot; (v-&gt;counter));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>LOCK_PREFIX的定义如下所示：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> CONFIG_SMP</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCK_PREFIX_HERE \</span></span><br><span class="line">        <span class="string">".pushsection .smp_locks,\"a\"\n"</span>   \</span><br><span class="line">        <span class="string">".balign 4\n"</span>               \</span><br><span class="line">        <span class="string">".long 671f - .\n"</span> <span class="comment">/* offset */</span>     \</span><br><span class="line">        <span class="string">".popsection\n"</span>             \</span><br><span class="line">        <span class="string">"671:"</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCK_PREFIX LOCK_PREFIX_HERE <span class="meta-string">"\n\tlock; "</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">else</span> <span class="comment">/* ! CONFIG_SMP */</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCK_PREFIX_HERE <span class="meta-string">""</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCK_PREFIX <span class="meta-string">""</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure></p><p>可见：</p><p>在对称多处理器架构的情况下，LOCK_PREFIX被解释为指令前缀lock。而对于单处理器架构，LOCK_PREFIX不包含任何内容。</p><p>另外，对于CAS，有cmpxchg指令进行操作。代码如下：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> __<span class="function">always_inline <span class="keyword">int</span> <span class="title">atomic_cmpxchg</span><span class="params">(<span class="keyword">atomic_t</span> *v, <span class="keyword">int</span> old, <span class="keyword">int</span> <span class="keyword">new</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cmpxchg(&amp;v-&gt;counter, old, <span class="keyword">new</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> cmpxchg(ptr, old, new)                      \</span></span><br><span class="line">    __cmpxchg(ptr, old, <span class="keyword">new</span>, <span class="keyword">sizeof</span>(*(ptr)))</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __cmpxchg(ptr, old, new, size)                  \</span></span><br><span class="line">    __raw_cmpxchg((ptr), (old), (<span class="keyword">new</span>), (size), LOCK_PREFIX)</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> __raw_cmpxchg(ptr, old, new, size, lock)            \</span></span><br><span class="line">(&#123;                                  \</span><br><span class="line">    __typeof__(*(ptr)) __ret;                   \</span><br><span class="line">    __typeof__(*(ptr)) __old = (old);               \</span><br><span class="line">    __typeof__(*(ptr)) __new = (<span class="keyword">new</span>);               \</span><br><span class="line">    <span class="keyword">switch</span> (size) &#123;                         \</span><br><span class="line">    <span class="keyword">case</span> __X86_CASE_B:                      \</span><br><span class="line">    &#123;                               \</span><br><span class="line">        <span class="keyword">volatile</span> u8 *__ptr = (<span class="keyword">volatile</span> u8 *)(ptr);      \</span><br><span class="line">        <span class="keyword">asm</span> <span class="keyword">volatile</span>(lock <span class="string">"cmpxchgb %2,%1"</span>          \</span><br><span class="line">             : <span class="string">"=a"</span> (__ret), <span class="string">"+m"</span> (*__ptr)      \</span><br><span class="line">             : <span class="string">"q"</span> (__new), <span class="string">"0"</span> (__old)         \</span><br><span class="line">             : <span class="string">"memory"</span>);               \</span><br><span class="line">        <span class="keyword">break</span>;                          \</span><br><span class="line">    &#125;                               \</span><br><span class="line">    <span class="keyword">case</span> __X86_CASE_W:                      \</span><br><span class="line">    &#123;                               \</span><br><span class="line">        <span class="keyword">volatile</span> u16 *__ptr = (<span class="keyword">volatile</span> u16 *)(ptr);        \</span><br><span class="line">        <span class="keyword">asm</span> <span class="keyword">volatile</span>(lock <span class="string">"cmpxchgw %2,%1"</span>          \</span><br><span class="line">             : <span class="string">"=a"</span> (__ret), <span class="string">"+m"</span> (*__ptr)      \</span><br><span class="line">             : <span class="string">"r"</span> (__new), <span class="string">"0"</span> (__old)         \</span><br><span class="line">             : <span class="string">"memory"</span>);               \</span><br><span class="line">        <span class="keyword">break</span>;                          \</span><br><span class="line">    &#125;                               \</span><br><span class="line">    <span class="keyword">case</span> __X86_CASE_L:                      \</span><br><span class="line">    &#123;                               \</span><br><span class="line">        <span class="keyword">volatile</span> u32 *__ptr = (<span class="keyword">volatile</span> u32 *)(ptr);        \</span><br><span class="line">        <span class="keyword">asm</span> <span class="keyword">volatile</span>(lock <span class="string">"cmpxchgl %2,%1"</span>          \</span><br><span class="line">             : <span class="string">"=a"</span> (__ret), <span class="string">"+m"</span> (*__ptr)      \</span><br><span class="line">             : <span class="string">"r"</span> (__new), <span class="string">"0"</span> (__old)         \</span><br><span class="line">             : <span class="string">"memory"</span>);               \</span><br><span class="line">        <span class="keyword">break</span>;                          \</span><br><span class="line">    &#125;                               \</span><br><span class="line">    <span class="keyword">case</span> __X86_CASE_Q:                      \</span><br><span class="line">    &#123;                               \</span><br><span class="line">        <span class="keyword">volatile</span> u64 *__ptr = (<span class="keyword">volatile</span> u64 *)(ptr);        \</span><br><span class="line">        <span class="keyword">asm</span> <span class="keyword">volatile</span>(lock <span class="string">"cmpxchgq %2,%1"</span>          \</span><br><span class="line">             : <span class="string">"=a"</span> (__ret), <span class="string">"+m"</span> (*__ptr)      \</span><br><span class="line">             : <span class="string">"r"</span> (__new), <span class="string">"0"</span> (__old)         \</span><br><span class="line">             : <span class="string">"memory"</span>);               \</span><br><span class="line">        <span class="keyword">break</span>;                          \</span><br><span class="line">    &#125;                               \</span><br><span class="line">    <span class="keyword">default</span>:                            \</span><br><span class="line">        __cmpxchg_wrong_size();                 \</span><br><span class="line">    &#125;                               \</span><br><span class="line">    __ret;                              \</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="ARM架构"><a href="#ARM架构" class="headerlink" title="ARM架构"></a>ARM架构</h1><p>在ARM架构下，没有LOCK#指令，其具体实现如下：</p><h2 id="ARMv6之前"><a href="#ARMv6之前" class="headerlink" title="ARMv6之前"></a>ARMv6之前</h2><p>早期的ARM架构是不支持SMP的，这些单核架构的CPU实现原子操作的方式就是通过关闭CPU中断来完成的。</p><p>在<a href="https://github.com/torvalds/linux/blob/master/arch/arm/include/asm/atomic.h" target="_blank" rel="noopener">Linux对于ARM架构的代码</a>下</p><p>有如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ATOMIC_OP_RETURN(op, c_op, asm_op)              \</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> atomic_#<span class="meta">#op##_return(int i, atomic_t *v)      \</span></span><br><span class="line">&#123;                                   \</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> flags;                        \</span><br><span class="line">    <span class="keyword">int</span> val;                            \</span><br><span class="line">                                    \</span><br><span class="line">    raw_local_irq_save(flags);                  \<span class="comment">//关本地中断</span></span><br><span class="line">    v-&gt;counter c_op i;                      \</span><br><span class="line">    val = v-&gt;counter;                       \</span><br><span class="line">    raw_local_irq_restore(flags);                   \<span class="comment">//开中断</span></span><br><span class="line">                                    \</span><br><span class="line">    <span class="keyword">return</span> val;                         \</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这个是好多操作共用的一套代码。</p><p>对于cmpxchg：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">atomic_cmpxchg</span><span class="params">(<span class="keyword">atomic_t</span> *v, <span class="keyword">int</span> old, <span class="keyword">int</span> <span class="keyword">new</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ret;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> flags;</span><br><span class="line">    raw_local_irq_save(flags);</span><br><span class="line">    ret = v-&gt;counter;</span><br><span class="line">    <span class="keyword">if</span> (likely(ret == old))</span><br><span class="line">        v-&gt;counter = <span class="keyword">new</span>;</span><br><span class="line">    raw_local_irq_restore(flags);</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>可以看到，对v-&gt;counter的操作是一个临界区，指令的执行不能被打断，内存的访问也需要保持没有干扰。</p><p>ARMv6以前的版本通过关本地中断来保护这块临界区，看起来相当简单，其奥秘就在于ARMv6以前的版本不支持SMP。</p><p>比如经典的read-modify-write问题，其本质是保持一个对内存read和write访问的原子性问题，也就是说内存的读和写的访问不能被打断。对该问题的解决可以通过硬件、软件或者软硬件结合的方法来进行。早期的ARM CPU给出的方案就是依赖硬件：SWP这个汇编指令执行了一次读内存操作、一次写内存操作，但是从程序员的角度看，SWP这条指令就是原子的，读写之间不会被任何的异步事件打断。具体底层的硬件是如何做的呢？这时候，硬件会提供一个lock signal，在进行memory操作的时候设定lock信号，告诉总线这是一个不可被中断的内存访问，直到完成了SWP需要进行的两次内存访问之后再clear lock信号。</p><p>多说一点关于SWP和SWPB的内容，这两个指令是用来同步的，不是用来执行原子操作的。</p><p>在将独占访问引入ARM架构之前，SWP和SWPB指令常用于同步。</p><p>其局限性是：</p><p>如果中断在触发交换操作时触发，则处理器必须在执行中断之前完成指令的加载和存储部分，从而增加中断延迟。 由于独立加载和独占存储是单独的指令，因此在使用新的同步基元时会降低此效果。</p><p>但是在多核系统中，交换指令期间阻止所有处理器访问主存会降低系统性能。在处理器工作在不同频率但是共享相同主存的多核系统中，情况尤其如此。</p><p>所以在ARMv6及以后的版本中，弃用了SWP。</p><p>ARMv6架构引入了独占访问内存为止的概念，提供了更灵活的原子内存更新。</p><p>ARMv6体系结构以Load-Exclusive和Store-Exclusive同步原语LDREX和STREX的形式引入了Load Link和Store Conditional指令。 从ARMv6T2开始，这些指令在ARM和Thumb指令集中可用。 独立加载和专有存储提供了灵活和可扩展的同步，取代了弃用的SWP和SWPB指令。</p><p>后来使用的是LDREX和STREX指令。</p><h2 id="armv7之后"><a href="#armv7之后" class="headerlink" title="armv7之后"></a>armv7之后</h2><p>继续看代码，在armv7之后就用了ldrex和strex</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ATOMIC_OP_RETURN(op, c_op, asm_op)              \</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">inline</span> <span class="keyword">int</span> atomic_#<span class="meta">#op##_return_relaxed(int i, atomic_t *v)  \</span></span><br><span class="line">&#123;                                   \</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> tmp;                      \</span><br><span class="line">    <span class="keyword">int</span> result;                         \</span><br><span class="line">                                    \</span><br><span class="line">    prefetchw(&amp;v-&gt;counter);                     \</span><br><span class="line">                                    \</span><br><span class="line">    __asm__ __volatile__(<span class="string">"@ atomic_"</span> #op <span class="string">"_return\n"</span>    \  <span class="comment">/* 优化屏障，防止编译器优化 */</span></span><br><span class="line"><span class="string">"1: ldrex   %0, [%3]\n"</span>                     \<span class="comment">/*【1】独占方式加载v-&gt;counter到result*/</span></span><br><span class="line"><span class="string">"   "</span> #asm_op <span class="string">" %0, %0, %4\n"</span>               \       <span class="comment">/*【2】对result进行操作*/</span></span><br><span class="line"><span class="string">"   strex   %1, %0, [%3]\n"</span>                     \  <span class="comment">/*【3】独占方式将result值写回v-&gt;counter*/</span></span><br><span class="line"><span class="string">"   teq %1, #0\n"</span>                       \         <span class="comment">/*【4】判断strex更新内存是否成*/</span></span><br><span class="line"><span class="string">"   bne 1b"</span>                         \            <span class="comment">/*【5】不成功跳转到1:*/</span></span><br><span class="line">    : <span class="string">"=&amp;r"</span> (result), <span class="string">"=&amp;r"</span> (tmp), <span class="string">"+Qo"</span> (v-&gt;counter)       \<span class="comment">/*输出部*/</span></span><br><span class="line">    : <span class="string">"r"</span> (&amp;v-&gt;counter), <span class="string">"Ir"</span> (i)                   \<span class="comment">/*输入部*/</span></span><br><span class="line">    : <span class="string">"cc"</span>);                            \<span class="comment">/*损坏部*/</span></span><br><span class="line">                                    \</span><br><span class="line">    <span class="keyword">return</span> result;                          \</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访存指令LDREX/STREX和普通的LDR/STR访存指令不一样，它是“独占”访存指令。这对指令访存过程由一个称作“exclusive monitor”的部件来监视是否可以进行独占访问。</p><p>先看看这对独占访存指令：</p><p>(1)LDREX R1 ，[R0] 指令是以独占的方式从R0所指的地址中取一个字存放到R0中；</p><p>(2)STREX R2，R1，[R0] 指令是以独占的方式用R1来更新内存，如果独占访问条件允许，则更新成功并返回0到R2，否则失败返回1到R2。</p><p>关于LDREX和STREX的原理，另有一篇<a href="https://blog.csdn.net/Roland_Sun/article/details/47670099" target="_blank" rel="noopener">博客</a>讲的很好，可以去看看。</p><hr><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><p><a href="http://www.wowotech.net/kernel_synchronization/atomic.html" target="_blank" rel="noopener">Linux内核同步机制之（一）：原子操作</a></p><p><a href="https://www.cnblogs.com/fanzhidongyzby/p/3654855.html" target="_blank" rel="noopener">Linux的原子操作与同步机制</a></p><p><a href="https://software.intel.com/zh-cn/blogs/2010/01/14/cpucpu" target="_blank" rel="noopener">关于单CPU，多CPU上的原子操作</a></p><p><a href="https://blog.csdn.net/adaptiver/article/details/72393528" target="_blank" rel="noopener">原子操作–ARM架构</a></p><p><a href="https://blog.csdn.net/Roland_Sun/article/details/47670099" target="_blank" rel="noopener">ARM平台下独占访问指令LDREX和STREX的原理与使用详解</a></p>]]></content>
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ARM </tag>
            
            <tag> X86 </tag>
            
            <tag> 原子操作 </tag>
            
            <tag> 操作系统 </tag>
            
            <tag> 汇编语言 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-1852 Ants</title>
      <link href="//posts/1ddc535a/"/>
      <url>//posts/1ddc535a/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=1852" target="_blank" rel="noopener">题目链接</a><br>蚂蚁在杆子上行走，求蚂蚁掉落的最快和最慢时间。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>一队蚂蚁在1厘米长的水平杆上行走，每杆以1厘米/秒的速度匀速行进。当一只行走的蚂蚁到达杆的一端时，它会立即掉落。当两只蚂蚁相遇时，他们转过头去开始朝相反的方向行走。只知道蚂蚁在竿子上的原始位置，不知道蚂蚁行走的方向。求所有蚂蚁从端点上掉落所需的最快和最慢的时间。</p><p>第一行是一个正整数，表示测试样例的数量。</p><p>对于每个测试样例，首先给出两个整数，这根杆子的长度，单位cm，和这根杆子上蚂蚁的数量N。第三行是N个整数，给出了每个蚂蚁在杆子上的位置，即从杆子左端开始测量的距离，没有特别的顺序，保证所有的整数都不大于1000000。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试样例，在一行中输出两个数，分别是最早的全掉落的时间和最晚的全掉落的时间。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>把蚂蚁相遇看做交换位置。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; a;</span><br><span class="line">    <span class="keyword">int</span> L = <span class="number">0</span>, n = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> X;</span><br><span class="line">    <span class="keyword">int</span> minT = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> maxT = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        minT = <span class="number">0</span>;</span><br><span class="line">        maxT = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; L &gt;&gt; n;</span><br><span class="line">        <span class="comment">//最短的时间就是向其距离最近的端点去走</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; X;</span><br><span class="line">            minT = max(minT, min(L - X, X));</span><br><span class="line">            maxT = max(maxT, max(L - X, X));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; minT &lt;&lt; <span class="string">' '</span> &lt;&lt; maxT &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">10</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">7</span></span><br><span class="line"><span class="number">214</span> <span class="number">7</span></span><br><span class="line"><span class="number">11</span> <span class="number">12</span> <span class="number">7</span> <span class="number">13</span> <span class="number">176</span> <span class="number">23</span> <span class="number">191</span></span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"><span class="number">4</span> <span class="number">8</span></span><br><span class="line"><span class="number">38</span> <span class="number">207</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> POJ </tag>
            
            <tag> 基础题 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>POJ-2386 Lake Counting</title>
      <link href="//posts/b1ffa901/"/>
      <url>//posts/b1ffa901/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="http://poj.org/problem?id=2386" target="_blank" rel="noopener">题目链接</a><br>一片地里面有一些积水，要求数清楚一共有几片积水，W表示水，” . “  表示旱地。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是两个整数，N和M</p><p>接下来是N行，每行M个字符，表示这一片田地，W表示水，” . “  表示旱地。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>池塘的数量。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用DFS，从任意的W就开始，不停的把临街的部分用 “ . “代替，于是一次DFS之后，与初始的这个W链接的所有W都被替换成了” . “。继续下去，直到图中不再存在W为止。总共进行的DFS次数就是答案。8个方向共对应了8种状态的转义，单个格子作为DFS的参数至多呗调用一次。所以时间复杂度就是O(8×N×M)=O(M×N)。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//菜园子中的积水，DFS</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span>N, M;</span><br><span class="line"><span class="keyword">char</span> field[<span class="number">101</span>][<span class="number">101</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">    field[x][y] = <span class="string">'.'</span>;<span class="comment">//标记为访问过</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> dx = <span class="number">-1</span>; dx &lt;= <span class="number">1</span>; dx++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> dy = <span class="number">-1</span>; dy &lt;= <span class="number">1</span>; dy++)<span class="comment">//周围的区域</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> newX = x + dx;</span><br><span class="line">            <span class="keyword">int</span> newY = y + dy;</span><br><span class="line">            <span class="comment">//判断其周围的区域，1，是否在院子里，2，是否有积水，</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span>&lt;=newX&amp;&amp;newX&lt;N&amp;&amp;<span class="number">0</span>&lt;=newY&amp;&amp;newY&lt;M&amp;&amp;field[newX][newY]==<span class="string">'W'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                DFS(newX, newY);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;N&gt;&gt;M;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; field[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//全部都输入完，开始遍历</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (field[i][j]==<span class="string">'W'</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                DFS(i, j);</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line"><span class="number">10</span> <span class="number">12</span></span><br><span class="line">W........WW.</span><br><span class="line">.WWW.....WWW</span><br><span class="line">....WW...WW.</span><br><span class="line">.........WW.</span><br><span class="line">.........W..</span><br><span class="line">..W......W..</span><br><span class="line">.W.W.....WW.</span><br><span class="line">W.W.W.....W.</span><br><span class="line">.W.W......W.</span><br><span class="line">..W.......W.</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line"><span class="number">3</span></span><br><span class="line">有三个池塘，一个在左上角，一个在左下角，一个在右侧。</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> POJ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> DFS </tag>
            
            <tag> POJ </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1064 Complete Binary Search Tree (30)</title>
      <link href="//posts/d57071f2/"/>
      <url>//posts/d57071f2/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1064" target="_blank" rel="noopener">题目链接</a><br>给定一串序列，已知这个序列能够成完全二叉搜索树，求出这个二叉搜索树的层次遍历。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是一个正整数N，第二行是N个非负整数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出这个完全二叉搜索树的层次遍历序列，数字之间由一个空格隔开。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>已知这是一棵完全二叉树，也是一棵二叉搜索树。</li><li>二叉搜索树的中序遍历序列满足：按键值从小到大排列。所以将给定序列从小到大排序即可得到中序遍历。</li><li>在完全二叉树中：用数组表示的话，编号为i节点的做孩子序号为2*i，右孩子为2*i+1。</li><li>通过递归重建二叉树。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>通过中序重建二叉树的思想如下：</p><ol><li>假设一共有10个节点，最小的那个数一定在最左下角，是二叉搜索树中序遍历的第一个数。</li><li>第二小的是最小的节点的父节点。</li><li>第三小的是第二小的右孩子。</li></ol><p>如果用数组存储这个树。最小节点在数组中是第8个，8是2^N，满足2^N&lt;=10，且N最大。（因为在最左下角）。</p><p>写的比较绕，看代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">creat_tree</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root&gt;N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> lchild = root * <span class="number">2</span>, rchild = root * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    creat_tree(lchild);</span><br><span class="line">    rebuild_tree[root] = node[pos++];</span><br><span class="line">    creat_tree(rchild);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> node[<span class="number">1001</span>], rebuild_tree[<span class="number">1001</span>];</span><br><span class="line"><span class="keyword">int</span> N, pos = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &lt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">creat_tree</span><span class="params">(<span class="keyword">int</span> root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root&gt;N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> lchild = root * <span class="number">2</span>, rchild = root * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    creat_tree(lchild);</span><br><span class="line">    rebuild_tree[root] = node[pos++];</span><br><span class="line">    creat_tree(rchild);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; node[i];</span><br><span class="line">    &#125;</span><br><span class="line">    sort(node, node + N, cmp);</span><br><span class="line">    creat_tree(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; rebuild_tree[i];</span><br><span class="line">        <span class="keyword">if</span> (i&lt;N)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">0</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">6</span> <span class="number">3</span> <span class="number">8</span> <span class="number">1</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span> <span class="number">0</span> <span class="number">2</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 二叉搜索树 </tag>
            
            <tag> 完全二叉树 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1063 Set Similarity (25)</title>
      <link href="//posts/4b14e451/"/>
      <url>//posts/4b14e451/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1063" target="_blank" rel="noopener">题目链接</a><br>求两个集合的相似度。<br><a id="more"></a><br>给定两组整数，其相似度定义为Nc/Nt*100%，Nc是两组数相同数字的个数 ，Nt是两组数的不同数字总个数。要求计算出任意给定两组数的相似度。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是一个正整数N，表示有多少组。</p><p>在随后的N行中，每行第一个数M表示该组有多少个数，接着是M个整数。</p><p>输入完所有的集合之后，给出正整数K，接着是K行查询，每个查询给出两个数，求这两组的相似度。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个查询，在一行中输出集合的像是对，精确到小数点后一位。</p><p>比如对于样例中的1，2组，一共有4个不同的数字（5,87,99,101）一共有2个数字在两组都有，为（87,101）所以为50%。<br>对于1,3组，一共有（5,18,87,99,101,135）共同的数字为（99,101）所以相似度为2/6=33.3%</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用set，在头文件set中。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>set.size() 返回当前set容器中元素的个数。</p><p>set.find() 返回给定制所在的迭代器，如果没有找到则返回set.end()   用法  set.find(1)。</p><p>set.count()  用来查找set中某个键值出现的次数，其实这个函数不是特别实用，因为一个键值只能在set中出现0次或者1次。用法   set.count(1)。</p><p>插入，set.insert(Key_value)   将Key_value插入到set中  。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; num[<span class="number">51</span>];</span><br><span class="line"><span class="keyword">int</span> N, M, K;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line">    <span class="keyword">int</span> set1, set2;</span><br><span class="line">    <span class="keyword">int</span> cnt;<span class="comment">//计数有多少个相同的数字</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; set1 &gt;&gt; set2;</span><br><span class="line">        <span class="keyword">if</span> (num[set1].size() &lt; num[set2].size())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> it = num[set1].begin(); it != num[set1].end(); it++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[set2].count(*it))</span><br><span class="line">                    cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">auto</span> it = num[set2].begin(); it != num[set2].end(); it++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[set1].count(*it))</span><br><span class="line">                    cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//float temp = cnt*100.0 / (num[set1].size() + num[set2].size() - cnt);</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%.1f%%\n"</span>, cnt*<span class="number">100.0</span> / (num[set1].size() + num[set2].size() - cnt));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">            num[i + <span class="number">1</span>].insert(temp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">99</span> <span class="number">87</span> <span class="number">101</span></span><br><span class="line"><span class="number">4</span> <span class="number">87</span> <span class="number">101</span> <span class="number">5</span> <span class="number">87</span></span><br><span class="line"><span class="number">7</span> <span class="number">99</span> <span class="number">101</span> <span class="number">18</span> <span class="number">5</span> <span class="number">135</span> <span class="number">18</span> <span class="number">99</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">50.0</span>%</span><br><span class="line"><span class="number">33.3</span>%</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> C++ STL </tag>
            
            <tag> C++ set </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1049 Counting Ones (30)</title>
      <link href="//posts/7987c544/"/>
      <url>//posts/7987c544/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1049" target="_blank" rel="noopener">题目链接</a><br>给出一个正整数N，求1~N之间的十进制形式的所有数中，1出现的次数。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>一个正整数N。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>求1~N之间的十进制形式的所有数中，1出现的次数。</p><p>比如输入12，从1~12有：1,10,11,12。这4个数中一共出现了5个1。因此输出5。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这个题是用乘法原理和加法原理去做的。<br>为了方便分析，举个例子。这里有一个五位数abcde，现只考虑百位数c。</p><p>分三种情况：</p><ol><li>如果c=0，则1出现的次数为ab*100。即：c前面的数*c对应的系数。以N=12045为例：百位数出现1的有：00100~00199（100个），01100~01199（100个），以此类推，即从001xx~111xx，共12组100个。</li><li>如果c=1，则出现的次数为ab*100+de+1。即：c前面的数*c对应的系数+c后面的数+1。以12145为例：百位数出现1的有001xx~111xx，共12组100个，再加上12100~12145，共45+1=46个。</li><li>如果c&gt;1，则出现的次数为(ab+1)*100，即：(c前面的数+1)*c对应的系数。以12345为例：百位出现1的有001xx~121xx，共13组100个。</li></ol><p>其他位数同理。最后加起来即可得结果。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; num;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>,now=<span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; num/i!=<span class="number">0</span>; i=i*<span class="number">10</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        left = num / (i * <span class="number">10</span>);</span><br><span class="line">        now = num / i % <span class="number">10</span>;</span><br><span class="line">        right = num%i;</span><br><span class="line">        <span class="keyword">if</span> (now == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res += left*i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (now == <span class="number">1</span>)</span><br><span class="line">            res += left*i + right + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            res += (left + <span class="number">1</span>)* i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">12</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 数学问题 </tag>
            
            <tag> 乘法原理 </tag>
            
            <tag> 加法原理 </tag>
            
            <tag> 分类讨论 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>求最长上升子序列的长度</title>
      <link href="//posts/eacf7b1a/"/>
      <url>//posts/eacf7b1a/</url>
      <content type="html"><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>有一个长为n的数列 a0,a1,a2…an-1 ，求出这个序列中最长的上升子序列的长度，上升子序列指的是对于任意的i&lt;j，都有ai&lt;aj的子序列。<br><a id="more"></a></p><h2 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h2><p>假设存在一个序列a[1..9] = 2 1 5 3 6 4 8 9 7，可以看出来它的LIS长度为5。</p><h1 id="O（n-2）解法"><a href="#O（n-2）解法" class="headerlink" title="O（n^2）解法"></a>O（n^2）解法</h1><p>递推关系如下：</p><p>定义dp[i]=以ai为末尾的最长上升子序列的长度。</p><p>以ai为结尾的上升至序列是</p><ol><li>只包含ai的子序列。</li><li>在满足j&lt;i并且aj&lt;ai的以aj为结尾的上升子序列末尾，追加上ai后得到的子序列。</li></ol><p>这二者之一。因此能得到如下递推关系：</p><p>dp[i]=max{1,dp[j]+1} (j&lt;i且aj&lt;ai)</p><p>用这个递推公式可以在O(n^2)时间内解决问题。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="keyword">int</span> a[MAX_N];</span><br><span class="line"><span class="keyword">int</span> dp[MAX_N];<span class="comment">//dp数组</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i] = <span class="number">1</span>;<span class="comment">//至少这个数本身是一个LIS</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[j]&lt;a[i])</span><br><span class="line">                dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res = max(res,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="O-nlogn-解法"><a href="#O-nlogn-解法" class="headerlink" title="O(nlogn)解法"></a>O(nlogn)解法</h1><p>前面我们用DP求得针对最末尾元素的最长子序列，如果子序列的长度相同，那么<strong>最末尾的元素较小</strong>的在之后会更有优势，所以我们反过来用DP针对<strong>长度相同</strong>情况下最小的末尾元素进行求解。</p><p>dp[i]=长度为i+1的上升子序列中末尾元素的最小值（不存在的话就是INF）</p><p>来看如何用DP更新这个数组。</p><p>一开始，全部的dp[i]的值都初始化为INF，然后由前到后逐个考虑数列的元素。对于每个aj，如果i=0，或者dp[i-1]&lt;aj的话，就用dp[i]=min(dp[i],aj)进行更新。最终找出使得dp[i]&lt;INF的最大的i+1就是结果了。</p><p>但是这个方法用DP直接实现的话，还是与前面的方法一样，在O(n^2)的时间内给出结果，但是这一算法还可以进一步优化。</p><p>首先dp数列中，除INF之外都是单调递增的，所以可以知道对于每个aj最多只需要1次更新，对于这次更新应该在什么位置，不必逐个遍历，可以利用二分搜索，这样就可以在O（nlogn）的时间内求出结果。</p><h2 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fill(dp, dp + n, INF);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        * lower_bound(dp, dp + n, a[i]) = a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; lower_bound(dp, dp + n, INF) - dp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="lower-bound"><a href="#lower-bound" class="headerlink" title="lower_bound"></a>lower_bound</h2><p>lower_bound这个函数从已排好的序列a中利用二分搜索找出指向满足ai&gt;=k的ai的最小的指针。类似的函数还有upper_bound，它的功能是求出指向满足ai&gt;k的最小的指针。</p><p>比如求长度为n的有序数组a中k的个数，可以用</p><p>upper_bound(a, a + n, k) - lower_bound(a, a + n, k);</p><h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>假设存在一个序列d[1..9] = 2 1 5 3 6 4 8 9 7，可以看出来它的LIS长度为5。</p><p>下面一步一步试着找出它。</p><p>我们定义一个序列B，然后令 i = 1 to 9 逐个考察这个序列。此外，我们用一个变量Len来记录现在最长算到多少了。</p><ol><li>把d[1]有序地放到B里，令B[1] = 2，就是说当只有1一个数字2的时候，长度为1的LIS的最小末尾是2。这时Len=1。</li><li>把d[2]有序地放到B里，令B[1] = 1，就是说长度为1的LIS的最小末尾是1，d[1]=2已经没用了。这时Len=1。</li><li>d[3] = 5，d[3]&gt;B[1]，所以令B[1+1]=B[2]=d[3]=5，就是说长度为2的LIS的最小末尾是5。这时候B[1..2] = 1, 5，Len＝2。</li><li>d[4] = 3，它正好加在1,5之间，放在1的位置显然不合适，因为1小于3，长度为1的LIS最小末尾应该是1，这样很容易推知，长度为2的LIS最小末尾是3，于是可以把5淘汰掉，这时候B[1..2] = 1, 3，Len = 2。</li><li>d[5] = 6，它在3后面，因为B[2] = 3, 而6在3后面，于是很容易可以推知B[3] = 6, 这时B[1..3] = 1, 3, 6， Len = 3 。</li><li>d[6] = 4，你看它在3和6之间，于是就可以把6替换掉，得到B[3] = 4。B[1..3] = 1, 3, 4， Len继续等于3。</li><li>d[7] = 8，它很大，比4大。于是B[4] = 8。Len变成4。</li><li>d[8] = 9，得到B[5] = 9。Len=5。</li><li>d[9] = 7，它在B[3] = 4和B[4] = 8之间，所以，最新的B[4] =7，B[1..5] = 1, 3, 4, 7, 9，Len = 5。</li></ol><p>于是知道了LIS的长度为5。</p><p>注意。这个1,3,4,7,9不是LIS，它只是存储的对应长度LIS的最小末尾。有了这个末尾，我们就可以一个一个地插入数据。虽然最后一个d[9] = 7更新进去对于这组数据没有什么意义，但是如果后面再出现两个数字 8 和 9，那么就可以把8更新到d[5], 9更新到d[6]，得出LIS的长度为6。</p><p>然后应该发现一件事情了：在B中插入数据是有序的，而且是进行替换而不需要挪动——也就是说，我们可以使用二分查找，将每一个数字的插入时间优化到O(logn)，于是算法的时间复杂度就降低到了O(nlogn)。</p>]]></content>
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 动态规划 </tag>
            
            <tag> 最长上升子序列 </tag>
            
            <tag> DP </tag>
            
            <tag> LIS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1045 Favorite Color Stripe (30)</title>
      <link href="//posts/904123e6/"/>
      <url>//posts/904123e6/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1045" target="_blank" rel="noopener">题目链接</a><br>喜欢的彩条的最大长度。<br><a id="more"></a><br>抽象出来可以理解为求序列的最长上升子序列的长度，但是允许元素重复出现。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是一个正整数，他是涉及到的颜色总数，从1~N编号。</p><p>第二行以一个正整数M开头，后跟M个喜欢的颜色。</p><p>最后，第三行以一个正整数L开头，表示给定条带的长度，后面是L个颜色。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>只需要输出最喜欢的彩条的最大长度。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这个题其实是一个最长上升子序列的问题。</p><p>关于更多信息，请看<a href="../eacf7b1a/">求最长上升子序列的长度</a></p><p>递推关系如下：</p><p>定义dp[i]=以ai为末尾的最长上升子序列的长度。</p><p>以ai为结尾的上升至序列是</p><ol><li>只包含ai的子序列。</li><li>在满足j&lt;i并且aj&lt;ai的以aj为结尾的上升子序列末尾，追加上ai后得到的子序列。</li></ol><p>这二者之一。因此能得到如下递推关系：</p><p>dp[i]=max{1,dp[j]+1} (j&lt;i且aj&lt;ai)</p><p>用这个递推公式可以在O(n^2)时间内解决问题。</p><p>剩下的关键是确定颜色间的大小关系。即人为的构建后面的颜色的值大于前面颜色的值。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, like[<span class="number">201</span>] = &#123;<span class="number">0</span>&#125;, stripe[<span class="number">10001</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M, L;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">int</span> color;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; color;</span><br><span class="line">        like[color] = i;<span class="comment">//人为的构建颜色的大小关系</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> like_num=<span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; L;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; L; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; color;</span><br><span class="line">        <span class="keyword">if</span> (like[color])</span><br><span class="line">        &#123;</span><br><span class="line">            stripe[like_num++] = like[color];<span class="comment">//只保存喜欢的，反正不喜欢的也得剪去</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> dp[<span class="number">10001</span>];</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; like_num; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i] = <span class="number">1</span>;<span class="comment">//至少喜欢一个</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(stripe[j] &lt;= stripe[i])<span class="comment">//需要添加了</span></span><br><span class="line">                dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        res = max(res, dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">5</span> <span class="number">2</span> <span class="number">3</span> <span class="number">1</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="number">12</span> <span class="number">2</span> <span class="number">2</span> <span class="number">4</span> <span class="number">1</span> <span class="number">5</span> <span class="number">5</span> <span class="number">6</span> <span class="number">3</span> <span class="number">1</span> <span class="number">1</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 动态规划 </tag>
            
            <tag> 最长上升子序列 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1068 Find More Coins (30)</title>
      <link href="//posts/5c4b01e5/"/>
      <url>//posts/5c4b01e5/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1068" target="_blank" rel="noopener">题目链接</a><br>在一堆硬币中找到总面额为给定值的一些硬币。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行包括两个正整数，N，表示硬币总数。M，表示金额。<br>第二行是N个硬币的面值，均是正整数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出 V1 &lt;= V2 &lt;= … &lt;= Vk ，使 V1 + V2 + … + Vk = M。 数字之间由一个空格隔开。<br>如果解决方案不唯一，则输出最小的序列（即使每个数尽可能小）。如果没有解决方案，输出No Solution。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>01背包，动态规划去做。</p><p>假设F(N, M)表示不超过面值M, 而且从前面N个硬币中挑选硬币值能得到的最大硬币面值总和, 可以得到如下递归公式:</p><p>F(N, M) = max{ F(N – 1, M), F(N – 1, M – V(N)) + V(N) }</p><p>其中 V(N)表示第N个硬币的面值。如果最后F(N, M) == M。那么就说明我们可以找到这样一组硬币, 使得他们的面值总和恰好等于M。</p><p>剩下的问题是如何记录路径, 也就是怎么记录挑选出哪些硬币?</p><p>另开一块空间，在我的代码里为bool selected[N][M],如果其值为true，则表示从前N个硬币中选出一组得到最多不超过M总面额的硬币中，包括了第N个硬币。</p><p>01背包为了缩减空间复杂度，需要从后往前推。<br>所以代码应该为<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = M; j &gt;= coin[i]; j--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (dp[j] &lt;= dp[j - coin[i]] + coin[i])</span><br><span class="line">        &#123;</span><br><span class="line">            dp[j] = dp[j - coin[i]] + coin[i];</span><br><span class="line">            selected[i][j] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>最后，题目要求使序列的字典序最小。也就是说对于 2，2，5，和 1，3，5 这样的序列，要求输出 1，3，5。因此需要在之前就把输入的硬币面值降序排列，先把面额大的硬币放进去，这样使最后剩下的空尽可能小，进而使字典序最小。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">101</span>];<span class="comment">//dp是递推数组，表示当前情况下，最大重量为dp[i]的时候，能获得的最大重量。</span></span><br><span class="line"><span class="keyword">int</span> coin[<span class="number">10001</span>];</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">10001</span>][<span class="number">101</span>] = &#123;<span class="number">0</span>&#125;;<span class="comment">//表示从前面N个硬币中选出一组得到最多不超过M重量里面，是否包括了第N硬币</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, M;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; coin[i];<span class="comment">//输入硬币信息</span></span><br><span class="line">    &#125;</span><br><span class="line">    sort(coin, coin + N, cmp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = M; j &gt;= coin[i]; j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[j] &lt;= dp[j - coin[i]] + coin[i])</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j] = dp[j - coin[i]] + coin[i];</span><br><span class="line">                selected[i][j] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (dp[M] != M)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"No Solution"</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">int</span> weight = M, num = N;<span class="comment">//weight表示当前重量，num表示在前num个硬币中选择</span></span><br><span class="line">    <span class="keyword">while</span> (weight&gt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (selected[num][weight])<span class="comment">//前num个硬币中，重量不超过weight的组合中，包含了第num个硬币</span></span><br><span class="line">        &#123;</span><br><span class="line">            res.push_back(coin[num]);</span><br><span class="line">            weight -= coin[num];<span class="comment">//如果包含，看weight-coin[num]里的情况</span></span><br><span class="line">        &#125;</span><br><span class="line">        num--;<span class="comment">//第num个硬币访问过了，自减</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">0</span>)<span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; res[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">8</span> <span class="number">9</span></span><br><span class="line"><span class="number">5</span> <span class="number">9</span> <span class="number">8</span> <span class="number">7</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">4</span> <span class="number">8</span></span><br><span class="line"><span class="number">7</span> <span class="number">2</span> <span class="number">4</span> <span class="number">3</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line">No Solution</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 背包问题 </tag>
            
            <tag> 01背包 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1072 Gas Station (30)</title>
      <link href="//posts/67237530/"/>
      <url>//posts/67237530/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1072" target="_blank" rel="noopener">题目链接</a><br>求加油站的位置。<br><a id="more"></a><br>一个加油站必须建立在这样的一个位置，使得该站与任何住宅房屋之间的最小距离，尽可能远，但是还得保证所有的房屋都在其服务范围之内。</p><p>先给出该城市的地图和加油站的几个候选地点，要求你给出建议。如果有多个解决方案，则输出到所有房屋的平均距离最小的解决方案，如果仍然不唯一，则输出索引号最小的解决方案。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行包括4个正整数，N，表示房屋的总数，M，表示加油站候选地点的总数，K，表示连接房屋和加油站的道路的数量。Ds，表示加油站的最大服务范围。假定房屋的编号是[1，N]，所有候选地点的编号是[G1，GM]</p><p>然后是K条线，每条线的描述格式为</p><p>P1 P2 Dist</p><p>P1和P2是道路的两端，可以是门牌号或者加油站的号码，Dist表示道路的长度。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在第一行输出最佳位置的索引号。在第二行输出解决方案和所有房屋之间的最小距离和平均距离。数字之间空一个空格，保留一位小数。<br>如果解决方案不存在，输出  “No Solution”</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>对M个加油站分别使用Dijkstra算法，，求出最短距离。</li><li>比较，判断，求出最优解。</li><li>按要求输出。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>加油站之间也是有道路连接的，所以在计算最短路径的时候，也要把加油站算上。</li><li>对输入进行判断，有可能有 G1 G1 10  这样的输入，注意筛选最小值。</li><li>时间限制是200ms，Floyd是肯定不行的，要用Dijkstra。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_NUM 2147483646</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, M, K, Ds;</span><br><span class="line"><span class="keyword">bool</span> visit[<span class="number">1011</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K &gt;&gt; Ds;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; g(N + M + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N + M + <span class="number">1</span>, MAX_NUM/<span class="number">2</span>));<span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N+M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g[i][i] = <span class="number">0</span>;<span class="comment">//对角线初始化</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">string</span> start_string, end_string;</span><br><span class="line">    <span class="keyword">int</span> input_dis;</span><br><span class="line">    <span class="keyword">int</span> start_num, end_num;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//输入数据</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; start_string &gt;&gt; end_string &gt;&gt; input_dis;</span><br><span class="line">        <span class="keyword">if</span> (start_string[<span class="number">0</span>]==<span class="string">'G'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            start_string=start_string.substr(<span class="number">1</span>);<span class="comment">//提取后面的数字</span></span><br><span class="line">            start_num = stoi(start_string)+N;<span class="comment">//转为数字</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            start_num = stoi(start_string);<span class="comment">//转为数字</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (end_string[<span class="number">0</span>]==<span class="string">'G'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            end_string = end_string.substr(<span class="number">1</span>);</span><br><span class="line">            end_num = stoi(end_string)+N;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            end_num = stoi(end_string);</span><br><span class="line">        &#125;</span><br><span class="line">        g[end_num][start_num] = g[start_num][end_num] = min(g[start_num][end_num], input_dis);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">-1</span>;<span class="comment">//表示未找到</span></span><br><span class="line">    <span class="keyword">double</span> res_dis = <span class="number">-1</span>, res_aver =MAX_NUM/<span class="number">2</span>;<span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> start_point = N+<span class="number">1</span>; start_point &lt;= N+M; start_point++)<span class="comment">//对每个位置进行Dij求最短路径</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dis = g[start_point];</span><br><span class="line">        fill(visit, visit + <span class="number">1011</span>, <span class="literal">false</span>);</span><br><span class="line">        <span class="comment">//dis[start_point] = 0;//从i开始</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N+M; i++)<span class="comment">//dij算法</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> u = <span class="number">-1</span>, min_dis = MAX_NUM/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N+M; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!visit[j]&amp;&amp;dis[j]&lt;min_dis)</span><br><span class="line">                &#123;</span><br><span class="line">                    u = j;</span><br><span class="line">                    min_dis = dis[j];<span class="comment">//找到一个最近的</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (u == <span class="number">-1</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            visit[u] = <span class="literal">true</span>;<span class="comment">//将其标记为访问</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= N+M; k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!visit[k]&amp;&amp;dis[k]&gt;dis[u]+g[u][k])</span><br><span class="line">                &#123;</span><br><span class="line">                    dis[k] = dis[u] + g[u][k];<span class="comment">//更新dis数组</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">double</span> min_dis=MAX_NUM/<span class="number">2</span>, min_aver=<span class="number">0.0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (dis[i]&gt;Ds)<span class="comment">//有一个超出最大范围都不行</span></span><br><span class="line">            &#123;</span><br><span class="line">                min_dis = <span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (dis[i]&lt;min_dis)</span><br><span class="line">            &#123;</span><br><span class="line">                min_dis = dis[i];</span><br><span class="line">            &#125;</span><br><span class="line">            min_aver += <span class="number">1.0</span>*dis[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (min_dis==<span class="number">-1</span>)<span class="comment">//没找到</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">continue</span>;  <span class="comment">//下一个加油站</span></span><br><span class="line">        &#125;</span><br><span class="line">        min_aver /= N;</span><br><span class="line">        <span class="keyword">if</span> (min_dis&gt;res_dis)<span class="comment">//如果此加油站距离最近的房屋 大于目前已知的最近距离</span></span><br><span class="line">        &#123;</span><br><span class="line">            res = start_point;<span class="comment">//是这个点</span></span><br><span class="line">            res_dis = min_dis;</span><br><span class="line">            res_aver = min_aver;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (min_dis==res_dis&amp;&amp;min_aver&lt;res_aver)<span class="comment">//距离相同但是平均距离更短</span></span><br><span class="line">        &#123;</span><br><span class="line">            res = start_point;</span><br><span class="line">            res_aver = min_aver;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res==<span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"No Solution"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"G%d\n%.1f %.1f"</span>, res - N, res_dis, res_aver);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">11</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> G1 <span class="number">4</span></span><br><span class="line"><span class="number">1</span> G2 <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> G2 <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span> G3 <span class="number">2</span></span><br><span class="line"><span class="number">4</span> G1 <span class="number">3</span></span><br><span class="line">G2 G1 <span class="number">1</span></span><br><span class="line">G3 G2 <span class="number">2</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line">G1</span><br><span class="line"><span class="number">2.0</span> <span class="number">3.3</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G1 <span class="number">9</span></span><br><span class="line"><span class="number">2</span> G1 <span class="number">20</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line">No Solution</span><br></pre></td></tr></table></figure><h3 id="牛客网测试数据中的bug"><a href="#牛客网测试数据中的bug" class="headerlink" title="牛客网测试数据中的bug"></a>牛客网测试数据中的bug</h3><p>在牛客网上，<a href="https://www.nowcoder.com/pat/5/problem/4121" target="_blank" rel="noopener">这个题</a>的测试点1的测试数据如下：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">5</span> <span class="number">255</span> <span class="number">15</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">1</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">2</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">2</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">2</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">2</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">2</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">3</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">3</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">3</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">3</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">3</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">4</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">4</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">4</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">4</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">4</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">5</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">5</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">5</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">5</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">5</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">6</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">6</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">6</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">6</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">6</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">7</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">7</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">7</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">7</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">7</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">8</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">8</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">8</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">8</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">8</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">9</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">9</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">9</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">9</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">9</span> G5 <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">1</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">2</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">4</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">5</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">6</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">7</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">8</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> <span class="number">10</span> <span class="number">10</span></span><br><span class="line"><span class="number">10</span> G1 <span class="number">10</span></span><br><span class="line"><span class="number">10</span> G2 <span class="number">10</span></span><br><span class="line"><span class="number">10</span> G3 <span class="number">10</span></span><br><span class="line"><span class="number">10</span> G4 <span class="number">10</span></span><br><span class="line"><span class="number">10</span> G5 <span class="number">10</span></span><br><span class="line">G1 <span class="number">1</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">2</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">3</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">4</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">5</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">6</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">7</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">8</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">9</span> <span class="number">10</span></span><br><span class="line">G1 <span class="number">10</span> <span class="number">10</span></span><br><span class="line">G1 G1 <span class="number">10</span></span><br><span class="line">G1 G2 <span class="number">10</span></span><br><span class="line">G1 G3 <span class="number">10</span></span><br><span class="line">G1 G4 <span class="number">10</span></span><br><span class="line">G1 G5 <span class="number">10</span></span><br><span class="line">G2 <span class="number">1</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">2</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">3</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">4</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">5</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">6</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">7</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">8</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">9</span> <span class="number">10</span></span><br><span class="line">G2 <span class="number">10</span> <span class="number">10</span></span><br><span class="line">G2 G1 <span class="number">10</span></span><br><span class="line">G2 G2 <span class="number">10</span></span><br><span class="line">G2 G3 <span class="number">10</span></span><br><span class="line">G2 G4 <span class="number">10</span></span><br><span class="line">G2 G5 <span class="number">10</span></span><br><span class="line">G3 <span class="number">1</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">2</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">3</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">4</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">5</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">6</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">7</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">8</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">9</span> <span class="number">10</span></span><br><span class="line">G3 <span class="number">10</span> <span class="number">10</span></span><br><span class="line">G3 G1 <span class="number">10</span></span><br><span class="line">G3 G2 <span class="number">10</span></span><br><span class="line">G3 G3 <span class="number">10</span></span><br><span class="line">G3 G4 <span class="number">10</span></span><br><span class="line">G3 G5 <span class="number">10</span></span><br><span class="line">G4 <span class="number">1</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">2</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">3</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">4</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">5</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">6</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">7</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">8</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">9</span> <span class="number">10</span></span><br><span class="line">G4 <span class="number">10</span> <span class="number">10</span></span><br><span class="line">G4 G1 <span class="number">10</span></span><br><span class="line">G4 G2 <span class="number">10</span></span><br><span class="line">G4 G3 <span class="number">10</span></span><br><span class="line">G4 G4 <span class="number">10</span></span><br><span class="line">G4 G5 <span class="number">10</span></span><br><span class="line">G5 <span class="number">1</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">2</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">3</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">4</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">5</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">6</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">7</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">8</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">9</span> <span class="number">10</span></span><br><span class="line">G5 <span class="number">10</span> <span class="number">10</span></span><br><span class="line">G5 G1 <span class="number">10</span></span><br><span class="line">G5 G2 <span class="number">10</span></span><br><span class="line">G5 G3 <span class="number">10</span></span><br><span class="line">G5 G4 <span class="number">10</span></span><br><span class="line">G5 G5 <span class="number">10</span></span><br></pre></td></tr></table></figure></p><p>这个测试数据中的K错误，应为225，不应该是255。</p><p>也就是说，第一行应该是<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span> <span class="number">5</span> <span class="number">225</span> <span class="number">15</span></span><br><span class="line"></span><br><span class="line">对应的输出应该是</span><br><span class="line">G1 <span class="number">10.0</span> <span class="number">10.0</span></span><br></pre></td></tr></table></figure></p>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 图论 </tag>
            
            <tag> Dijkstra </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1076 Forwards on Weibo (30)</title>
      <link href="//posts/9486a851/"/>
      <url>//posts/9486a851/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1076" target="_blank" rel="noopener">题目链接</a><br>微博的关注者。<br><a id="more"></a></p><p>给定一个社交网络，在只计算L层的间接关注者的情况下，求任一特定用户的最大潜在转发量。</p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是两个正整数N，表示用户数，L，给定的间接关注者的层数。<br>然后是N行，每一行的格式是</p><p>M[i] user_list[i]</p><p>其中M[i]表示用户i的关注数。user_list[i]是具体关注列表， 共M[i]个。</p><p>最后给出K，和K个数字，表示用户ID，要求对每个用户ID进行查询，查询其L层粉丝数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个ID，输出其L层共多少个粉丝。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>BFS。<br>这道题抽象的概述就是，广度优先搜索K轮，一共访问了多少个节点。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>注意：其中M[i]表示用户i的关注数。user_list[i]是具体关注列表， 共M[i]个。因此i是其关注者的粉丝，所以在构建图的时候，要反着写。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">vector</span> &lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; g;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">int</span> level;</span><br><span class="line">&#125;fans;</span><br><span class="line"><span class="keyword">int</span> N, L;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">BFS</span><span class="params">(fans follow)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> visit[<span class="number">1001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="built_in">queue</span>&lt;fans&gt; q;</span><br><span class="line">    q.push(follow);</span><br><span class="line">    visit[follow.id] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;<span class="comment">//计数</span></span><br><span class="line">    <span class="keyword">while</span> (!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        follow = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; g[follow.id].size(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> next_id = g[follow.id][i];</span><br><span class="line">            <span class="keyword">if</span> (!visit[next_id]&amp;&amp;follow.level&lt;L)</span><br><span class="line">            &#123;</span><br><span class="line">                q.push(&#123; next_id,follow.level + <span class="number">1</span> &#125;);<span class="comment">//把next_id压入队列中</span></span><br><span class="line">                visit[next_id] = <span class="literal">true</span>;</span><br><span class="line">                cnt++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> M, input_id;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; L;</span><br><span class="line">    g.resize(N+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; input_id;</span><br><span class="line">            g[input_id].push_back(i);<span class="comment">//注意这里要反着写，因为M[i]是关注列表，即用户i是谁的粉丝。</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> K;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; K;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; input_id;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;BFS(&#123; input_id,<span class="number">0</span> &#125;)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">7</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">2</span> <span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">5</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">6</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> BFS </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1075 PAT Judge (25)</title>
      <link href="//posts/73f16db0/"/>
      <url>//posts/73f16db0/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1075" target="_blank" rel="noopener">题目链接</a><br>输出PAT的排名。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是三个正整数，N表示用户的数量，K，问题的总数，M提交的总数。<br>假设用户的ID是5位数字，从00001~N，问题的ID从1~K。<br>下一行包括K个正整数，分别对应第i个问题的满分。然后M行按照以下格式给出提交信息</p><p>user_id　problem_id　partial_score_obtained</p><p>其中partial_score_obtained，如果提交不能通过编译，则为-1，或者是[0~该题满分]范围内的整数，一行中所有数字用空格分开</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>按照</p><p>rank　user_id total_score　s [1] … s [K]</p><p>的格式输出。rank是由total_score来算的，相同总分的用户排名相同，s[i]是第i个问题获得的分数。如果用户从未提交，则必须在该位置打印-，如果提交了多个，输出最高的分数。<br>排名按照第一名在前的顺序，排名相同的用户，按照完全解决的问题的数量以非递增排序（多的在前面），如果还相同，按照ID递增的顺序排序。对于那些没有提交可以编译通过的代码的或者从未提交过的，则不在排行榜上显示。<br>保证至少有一个用户可以先是在排行榜上。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>不用判断分数是否会超过FullMark</li><li>如果学生A被输出，他曾提交过某题x，但是没通过即输入“A x -1”，x成绩输出为0</li><li>学生A被输出，当且仅当A至少有一道题提交并且通过了编译。可以得0分，但是得通过编译。</li><li>按照总分递减、答对递减、ID递增的顺序排列，仅列出有成绩的学生（0 - - -也算，但是- - - -不算）</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ID;<span class="comment">//注意ID初值的问题，当然，如果在输出的时候写if(user[i].show)则不用在这里添加初值，否则ID默认初值为0，会排在所有0分学生的前面。</span></span><br><span class="line">    <span class="keyword">int</span> score[<span class="number">6</span>] = &#123; <span class="number">-2</span>,<span class="number">-2</span>,<span class="number">-2</span>,<span class="number">-2</span>,<span class="number">-2</span>,<span class="number">-2</span> &#125;;</span><br><span class="line">    <span class="keyword">int</span> solved = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> total_score = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> rank;</span><br><span class="line">    <span class="keyword">bool</span> show = <span class="literal">false</span>;</span><br><span class="line">&#125;u;</span><br><span class="line"><span class="built_in">vector</span>&lt;u&gt; user;</span><br><span class="line"><span class="keyword">int</span> N, K, M;</span><br><span class="line"><span class="keyword">int</span> full_mark[<span class="number">6</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(u a, u b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.total_score != b.total_score)</span><br><span class="line">        <span class="keyword">return</span> a.total_score &gt; b.total_score;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a.solved != b.solved)</span><br><span class="line">        <span class="keyword">return</span> a.solved &gt; b.solved;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.ID &lt; b.ID;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; K &gt;&gt; M;</span><br><span class="line">    user.resize(N + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; full_mark[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> user_ID, problem_ID, get_score;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; user_ID &gt;&gt; problem_ID &gt;&gt; get_score;</span><br><span class="line">        user[user_ID].ID = user_ID;</span><br><span class="line">        <span class="keyword">if</span> (user[user_ID].score[problem_ID]&lt;get_score)</span><br><span class="line">        &#123;</span><br><span class="line">            user[user_ID].score[problem_ID] = get_score;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= K; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (user[i].score[j] &gt;= <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                user[i].total_score += user[i].score[j];</span><br><span class="line">                user[i].show = <span class="literal">true</span>;<span class="comment">//有一个题得0分及以上就可以输出</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (user[i].score[j] == full_mark[j])</span><br><span class="line">            &#123;</span><br><span class="line">                user[i].solved++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(user.begin() + <span class="number">1</span>, user.end(), cmp);</span><br><span class="line">    user[<span class="number">1</span>].rank = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        user[i].rank = i;</span><br><span class="line">        <span class="keyword">if</span> (user[i].total_score == user[i - <span class="number">1</span>].total_score)</span><br><span class="line">        &#123;</span><br><span class="line">            user[i].rank = user[i - <span class="number">1</span>].rank;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (user[i].show)<span class="comment">//注意这里必须这么写，如果写for (int i = 1; i &lt;=N&amp;&amp;user[i].show ; i++)则在同样都是0分，这个时候小号在前，大号在后，但是小号不该被输出，则会有问题</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d %05d %d"</span>, user[i].rank, user[i].ID, user[i].total_score);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= K; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (user[i].score[j] &gt;= <span class="number">0</span>)</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">' '</span> &lt;&lt; user[i].score[j];</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (user[i].score[j] == <span class="number">-1</span>)</span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">" 0"</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">cout</span> &lt;&lt; <span class="string">" -"</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"3.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> <span class="number">4</span> <span class="number">4</span></span><br><span class="line"><span class="number">20</span> <span class="number">25</span> <span class="number">25</span> <span class="number">30</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00001</span> <span class="number">1</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00001</span> <span class="number">2</span> <span class="number">-1</span></span><br><span class="line">输出应该为</span><br><span class="line"><span class="number">1</span> <span class="number">00002</span> <span class="number">0</span> - <span class="number">0</span> - -</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">7</span> <span class="number">4</span> <span class="number">20</span></span><br><span class="line"><span class="number">20</span> <span class="number">25</span> <span class="number">25</span> <span class="number">30</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">12</span></span><br><span class="line"><span class="number">00007</span> <span class="number">4</span> <span class="number">17</span></span><br><span class="line"><span class="number">00005</span> <span class="number">1</span> <span class="number">19</span></span><br><span class="line"><span class="number">00007</span> <span class="number">2</span> <span class="number">25</span></span><br><span class="line"><span class="number">00005</span> <span class="number">1</span> <span class="number">20</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">2</span></span><br><span class="line"><span class="number">00005</span> <span class="number">1</span> <span class="number">15</span></span><br><span class="line"><span class="number">00001</span> <span class="number">1</span> <span class="number">18</span></span><br><span class="line"><span class="number">00004</span> <span class="number">3</span> <span class="number">25</span></span><br><span class="line"><span class="number">00002</span> <span class="number">2</span> <span class="number">25</span></span><br><span class="line"><span class="number">00005</span> <span class="number">3</span> <span class="number">22</span></span><br><span class="line"><span class="number">00006</span> <span class="number">4</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00001</span> <span class="number">2</span> <span class="number">18</span></span><br><span class="line"><span class="number">00002</span> <span class="number">1</span> <span class="number">20</span></span><br><span class="line"><span class="number">00004</span> <span class="number">1</span> <span class="number">15</span></span><br><span class="line"><span class="number">00002</span> <span class="number">4</span> <span class="number">18</span></span><br><span class="line"><span class="number">00001</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">00001</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line"><span class="number">00005</span> <span class="number">2</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00004</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">1</span> <span class="number">00002</span> <span class="number">63</span> <span class="number">20</span> <span class="number">25</span> - <span class="number">18</span></span><br><span class="line"><span class="number">2</span> <span class="number">00005</span> <span class="number">42</span> <span class="number">20</span> <span class="number">0</span> <span class="number">22</span> -</span><br><span class="line"><span class="number">2</span> <span class="number">00007</span> <span class="number">42</span> - <span class="number">25</span> - <span class="number">17</span></span><br><span class="line"><span class="number">2</span> <span class="number">00001</span> <span class="number">42</span> <span class="number">18</span> <span class="number">18</span> <span class="number">4</span> <span class="number">2</span></span><br><span class="line"><span class="number">5</span> <span class="number">00004</span> <span class="number">40</span> <span class="number">15</span> <span class="number">0</span> <span class="number">25</span> -</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1074 Reversing Linked List (25)</title>
      <link href="//posts/892b22de/"/>
      <url>//posts/892b22de/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1074" target="_blank" rel="noopener">题目链接</a><br>链表的逆置。给出一个常数K和一个单链表L。对于链表上每K个节点，将其逆置。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>例如，假设L是1→2→3→4→5→6，如果K = 3，那么你必须输出3→2→1→6→5→4; 如果K = 4，则必须输出4→3→2→1→5→6。</p><p>输入的第一行包括 首节点的地址，一个正整数N，表示节点的总数，K，要求逆转的个数。NULL表示为-1。</p><p>接着是K行，格式为</p><p>地址 数据 下一个节点的地址</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出生成的有序链表，每个节点占一行，格式同上。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>可以采用链表的线性存储，使用vector进行存储和逆置。<br>注意，这类题常有的大坑是，链表的长度不一定是N，虽然有N个节点，但是这些节点并不都在链表上。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> first, k, n;</span><br><span class="line"><span class="keyword">int</span> LinkData[<span class="number">100001</span>];</span><br><span class="line"><span class="keyword">int</span> LinkNext[<span class="number">100001</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; L;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; first &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">int</span> addr, node_data, next_addr;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; addr &gt;&gt; node_data &gt;&gt; next_addr;</span><br><span class="line">        LinkData[addr] = node_data;</span><br><span class="line">        LinkNext[addr] = next_addr;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = first; i != <span class="number">-1</span>; i = LinkNext[i])</span><br><span class="line">    &#123;</span><br><span class="line">        L.push_back(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> length = L.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i*k+k &lt;= length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        reverse(L.begin() + i*k, L.begin() + i*k + k);</span><br><span class="line">    &#125;</span><br><span class="line">    length = L.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%05d %d %05d\n"</span>, L[i], LinkData[L[i]], L[i + <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%05d %d -1"</span>, L[length], LinkData[L[length]]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">00100</span> <span class="number">6</span> <span class="number">4</span></span><br><span class="line"><span class="number">00000</span> <span class="number">4</span> <span class="number">99999</span></span><br><span class="line"><span class="number">00100</span> <span class="number">1</span> <span class="number">12309</span></span><br><span class="line"><span class="number">68237</span> <span class="number">6</span> <span class="number">-1</span></span><br><span class="line"><span class="number">33218</span> <span class="number">3</span> <span class="number">00000</span></span><br><span class="line"><span class="number">99999</span> <span class="number">5</span> <span class="number">68237</span></span><br><span class="line"><span class="number">12309</span> <span class="number">2</span> <span class="number">33218</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">00000</span> <span class="number">4</span> <span class="number">33218</span></span><br><span class="line"><span class="number">33218</span> <span class="number">3</span> <span class="number">12309</span></span><br><span class="line"><span class="number">12309</span> <span class="number">2</span> <span class="number">00100</span></span><br><span class="line"><span class="number">00100</span> <span class="number">1</span> <span class="number">99999</span></span><br><span class="line"><span class="number">99999</span> <span class="number">5</span> <span class="number">68237</span></span><br><span class="line"><span class="number">68237</span> <span class="number">6</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1073 Scientific Notation (20)</title>
      <link href="//posts/fc7b145c/"/>
      <url>//posts/fc7b145c/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1073" target="_blank" rel="noopener">题目链接</a><br>给出一个数的科学计数法，求这个数的传统计数法。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>输入一个科学计数法表示的实数，这个数字长度不超过9999字节，指数的绝对值不超过9999。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出这个数的传统计数法，保留所有的有效数字，包括尾随零。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>字符串处理</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>将输入的数分成三部分，符号，底数，指数。</li><li>使用str.insert()和string.erase()，会更方便。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">int</span> num;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">    <span class="keyword">int</span> pos_e, pos_exp;</span><br><span class="line">    <span class="keyword">bool</span> isPositive = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (str[<span class="number">0</span>] == <span class="string">'-'</span>)</span><br><span class="line">        isPositive = <span class="literal">false</span>;</span><br><span class="line">    pos_e = str.find(<span class="string">'E'</span>);</span><br><span class="line">    <span class="built_in">string</span> str_num = str.substr(<span class="number">1</span>, pos_e - <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">string</span> str_exp = str.substr(pos_e + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">int</span> <span class="built_in">exp</span> = stoi(str_exp);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">exp</span> &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        str_num.erase(<span class="number">1</span>, <span class="number">1</span>);<span class="comment">//去掉小数点</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">exp</span> &lt; str_num.size() - <span class="number">1</span>)</span><br><span class="line">            str_num.insert(<span class="built_in">exp</span> + <span class="number">1</span>, <span class="string">"."</span>);<span class="comment">//重新确定小数点</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> pos = <span class="built_in">exp</span> - (str_num.size() - <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pos; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                str_num += <span class="string">'0'</span>;<span class="comment">//在后面添加0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">exp</span>&lt;<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        str_num.erase(<span class="number">1</span>, <span class="number">1</span>);<span class="comment">//去掉小数点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; (-<span class="built_in">exp</span>); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            str_num.insert(<span class="number">0</span>, <span class="string">"0"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        str_num.insert(<span class="number">1</span>, <span class="string">"."</span>);<span class="comment">//填完0之后再加上小数点</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!isPositive)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">'-'</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; str_num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Sample Input <span class="number">1</span>:</span><br><span class="line">+<span class="number">1.23400E-03</span></span><br><span class="line">Sample Output <span class="number">1</span>:</span><br><span class="line"><span class="number">0.00123400</span></span><br><span class="line">Sample Input <span class="number">2</span>:</span><br><span class="line"><span class="number">-1.2E+10</span></span><br><span class="line">Sample Output <span class="number">2</span>:</span><br><span class="line"><span class="number">-12000000000</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> C++ STL </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1071 Speech Patterns (25)</title>
      <link href="//posts/e490869c/"/>
      <url>//posts/e490869c/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1071" target="_blank" rel="noopener">题目链接</a><br>统计一行内出现最多次数的单词。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试有一行不超过1048576个字符，以回车’\n’结尾，输入至少包含一个数字字母字符，即[0-9 A-Z a-z]中的一个。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>在一行中输出给定文本中最常出现的单词，后跟一个空格和输入中出现的次数，如果有多个这样的单词，输出字典上最小的单词，全部小写。</p><p>单词的定义是：一串字母数字的连续序列，这个序列由非字母数字或者行开始或者行结束分隔开的。</p><p>比如</p><p>Can1: “Can a can can a can?  It can!”</p><p>在这句话中，忽略大小写的话，can一共出现了5次，但是can1就不能算进去。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>其实就是统计单词个数，输出出现最多次数的单词。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>使用Map。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="built_in">string</span>, <span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="built_in">string</span> str, word;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    getline(<span class="built_in">cin</span>, str);<span class="comment">//有空格就用getline</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> ((str[i] &gt;= <span class="string">'A'</span>&amp;&amp;str[i] &lt;= <span class="string">'Z'</span>) || (str[i] &gt;= <span class="string">'a'</span>&amp;&amp;str[i] &lt;= <span class="string">'z'</span>) || str[i] &gt;= <span class="string">'0'</span>&amp;&amp;str[i] &lt;= <span class="string">'9'</span>)<span class="comment">//如果是有效的字符</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[i] &gt;= <span class="string">'A'</span>&amp;&amp;str[i] &lt;= <span class="string">'Z'</span>)</span><br><span class="line">                str[i] = <span class="string">'a'</span> + str[i] - <span class="string">'A'</span>;</span><br><span class="line">            word += str[i];</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (word.size())</span><br><span class="line">        &#123;</span><br><span class="line">            res[word]++;</span><br><span class="line">            word.clear();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> MaxNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">auto</span> i = res.begin();</span><br><span class="line">    <span class="keyword">auto</span> temp = i;</span><br><span class="line">    <span class="keyword">for</span> (; i != res.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i-&gt;second &gt; MaxNum)</span><br><span class="line">        &#123;</span><br><span class="line">            MaxNum = i-&gt;second;</span><br><span class="line">            temp = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; temp-&gt;first &lt;&lt; <span class="string">' '</span> &lt;&lt; temp-&gt;second;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line">Can1: <span class="string">"Can a can can a can?  It can!"</span></span><br><span class="line">Sample Output:</span><br><span class="line">can <span class="number">5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> C++ STL </tag>
            
            <tag> Map映射 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1070 Mooncake (25)</title>
      <link href="//posts/cb0684aa/"/>
      <url>//posts/cb0684aa/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1048" target="_blank" rel="noopener">题目链接</a><br>给出各种月饼的库存和价格，以及市场的最大需求，求最大利润。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是两个正整数，表示有多少种月饼和最大总需求量。第二行是每种月饼的库存量（不一定是整数），第三行是每种月饼的总价格。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出最大利润，精确到两位小数。<br>比如输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3 200</span><br><span class="line">180 150 100</span><br><span class="line">7.5 7.2 4.5</span><br></pre></td></tr></table></figure></p><p>表示有3种月饼，分别有180 150 100   总价为7.5 7.2 4.5</p><p>因此显然第二种和第三种单价更高。在需要200的情况下:卖出去150的第二种，卖出去50的第三种。<br>因此总利润为7.2 + 4.5 / 2 = 9.45</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>贪心算法，买单价最贵的。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, need;</span><br><span class="line"><span class="keyword">float</span> res = <span class="number">0.0</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">float</span> weight;<span class="comment">//每种的重量并不一定都是整数</span></span><br><span class="line">    <span class="keyword">float</span> TotalPrice;</span><br><span class="line">    <span class="keyword">float</span> UnitPrice;</span><br><span class="line">&#125;Mooncake;</span><br><span class="line"><span class="built_in">vector</span>&lt;Mooncake&gt; mooncake;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Mooncake a, Mooncake b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.UnitPrice &gt; b.UnitPrice;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; need;</span><br><span class="line">    mooncake.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; mooncake[i].weight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; mooncake[i].TotalPrice;</span><br><span class="line">        mooncake[i].UnitPrice = mooncake[i].TotalPrice / mooncake[i].weight;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(mooncake.begin(), mooncake.end(), cmp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;N; i++)<span class="comment">//可能最后全卖完还无法达到需求</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (need&gt;mooncake[i].weight)</span><br><span class="line">        &#123;</span><br><span class="line">            need -= mooncake[i].weight;</span><br><span class="line">            res += mooncake[i].TotalPrice;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            res += mooncake[i].UnitPrice*need;</span><br><span class="line">            need = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//够了就跳出循环</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%.2f"</span>, res);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sample Input:</span><br><span class="line"><span class="number">3</span> <span class="number">200</span></span><br><span class="line"><span class="number">180</span> <span class="number">150</span> <span class="number">100</span></span><br><span class="line"><span class="number">7.5</span> <span class="number">7.2</span> <span class="number">4.5</span></span><br><span class="line">Sample Output:</span><br><span class="line"><span class="number">9.45</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1069 The Black Hole of Numbers (20)</title>
      <link href="//posts/abc10d4f/"/>
      <url>//posts/abc10d4f/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1069" target="_blank" rel="noopener">题目链接</a><br>数字的黑洞。</p><p>任何一个四位不相同的数字，如果我们先把这4个数字降序排列，减去其升序排列所得的数，依次反复，最后的结果永远都会得到6174.称之为数字黑洞，给定任意一个4位数字，求出这个数字进入黑洞的步骤。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>（0，10000）内的正整数N。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>如果N的所有四位数都相同，则在一行中输出N - N = 0000。否则输出每一步的计算结果直到出现6174.所有的数字必须打印成4位数字。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>reverse(str.begin(),str.end());</li><li>sort(str.start,str.end(),cmp;</li><li>stoi(str)  // 字符串转int</li><li>to_string(int)  //int转字符串</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>注意在to_string(int)  //int转字符串后，要插入0</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> input;</span><br><span class="line"><span class="keyword">int</span> a, b, c=<span class="number">-1</span>;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">char</span> a, <span class="keyword">char</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &gt; b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; input;</span><br><span class="line">    input.insert(<span class="number">0</span>, <span class="number">4</span> - input.length(), <span class="string">'0'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (c!=<span class="number">6174</span>&amp;&amp;c!=<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        sort(input.begin(), input.end());</span><br><span class="line">        a = stoi(input);<span class="comment">//从小到大</span></span><br><span class="line">        sort(input.begin(), input.end(), cmp);</span><br><span class="line">        b = stoi(input);</span><br><span class="line">        c = b - a;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%04d - %04d = %04d\n"</span>, b, a, c);</span><br><span class="line">        input = to_string(c);</span><br><span class="line">        input.insert(<span class="number">0</span>, <span class="number">4</span> - input.length(), <span class="string">'0'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6767</span></span><br><span class="line">输出应为</span><br><span class="line"><span class="number">7766</span> - <span class="number">6677</span> = <span class="number">1089</span></span><br><span class="line"><span class="number">9810</span> - <span class="number">0189</span> = <span class="number">9621</span></span><br><span class="line"><span class="number">9621</span> - <span class="number">1269</span> = <span class="number">8352</span></span><br><span class="line"><span class="number">8532</span> - <span class="number">2358</span> = <span class="number">6174</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2222</span></span><br><span class="line">输出应为</span><br><span class="line"><span class="number">2222</span> - <span class="number">2222</span> = <span class="number">0000</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1067 Sort with Swap(0,*) (25)</title>
      <link href="//posts/4c792048/"/>
      <url>//posts/4c792048/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1067" target="_blank" rel="noopener">题目链接</a><br>使用Swap(0,* )来排序。求对于给定序列，最少的交换次数。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>先给出一个正整数N，随后是N个数，乱序的 0~N-1，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出使数列排序成增序的最少交换次数。<br>使用Swap（0，* ）的解释如下，第一个数必须是0，第二个数是其他的。<br>比如对{4, 0, 2, 1, 3}进行排序</p><ol><li>交换（0,1）得到{4, 1, 2, 0, 3}</li><li>对{4, 1, 2, 0, 3}交换（0,3） 得到{4, 1, 2, 3, 0}</li><li>对{4, 1, 2, 3, 0}交换（0,4）得到 {0, 1, 2, 3, 4}</li></ol><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Order| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |</span><br><span class="line">     +---+---+---+---+---+---+---+---+---+---+</span><br><span class="line">     | 3 | 5 | 7 | 2 | 6 | 4 | 9 | 0 | 8 | 1 |</span><br><span class="line">     +---+---+---+-—-+---+---+---+---+---+---+</span><br></pre></td></tr></table></figure><p>各回各家，各找各妈。被赶出来的去赶别人。</p><ol><li>a[0] -&gt; a[3]</li><li>a[3] -&gt; a[2]</li><li>a[2] -&gt; a[7]</li><li>a[7] -&gt; a[0]</li></ol><p>第一步交换中有0参与，所以次数为3。分别是（0,7）（0,2）（0,3），<br>这个数正好等于参与交换的数字的个数（4）-1,把这些数字（0,2,3,7）归为第一组<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Order| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |</span><br><span class="line">     +---+---+---+---+---+---+---+---+---+---+</span><br><span class="line">     | 0 | 5 | 2 | 3 | 6 | 4 | 9 | 7 | 8 | 1 |</span><br><span class="line">     +-^-+---+-^-+-—-+---+---+---+-^-+---+---+</span><br></pre></td></tr></table></figure></p><ol><li>a[1] -&gt; a[5]</li><li>a[5] -&gt; a[4]</li><li>a[4] -&gt; a[6]</li><li>a[6] -&gt; a[9]</li><li>a[9] -&gt; a[1]</li></ol><p>第二步交换中没有0参与，所以次数为6次，分别是（0,5）（0,1）（0,9）（0,6）（0,4）（0,5）<br>这个数字正好等于参与交换的数字个数+1。说没有0参与是指要交换的数字中没有0，<br>但是0间接参与了交换。把这些数字（1,4,5,6,9）归为第二组。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Order| 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |</span><br><span class="line">     +---+---+---+---+---+---+---+---+---+---+</span><br><span class="line">     | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |</span><br><span class="line">     +-^-+-^-+-^-+-—-+-^-+-^-+-^-+-^-+---+-^-+</span><br></pre></td></tr></table></figure></p><p>由上分析，推导如下：</p><p>又由于在一次排序中，如果0不在第一个，那么0有且仅有一次直接参与交换。其他的参与（如果有的话）都是间接参与。如果0在第一个，那么0一定是间接参与排序。</p><p>因此可以得：设一共有N组。每组分别有a1,a2,a3…..an数字。<br>若num[0]!=0，则0有且仅有一次直接参与交换。<br>设0在第t组直接参与排序，那么一共交换次数为<br>(a1+1)+(a2+1)+…+(at-1)+…(an+1)=(a1+a2+…at)+N-2.<br>又a1+a2+a3+…+an是所有不在对应位置上的数的个数，可以用num[i]==i是否成立来判断。</p><p>若num[0]==0 则0全部是间接参与交换<br>所以交换次数  =<br>(a1+1)+(a2+1)+…+(an+1)=(a1+a2+…at)+N。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> num[<span class="number">100001</span>];</span><br><span class="line"><span class="keyword">bool</span> visit[<span class="number">100001</span>] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> N, group = <span class="number">0</span>, swap_time = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; num[i];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (visit[i] || num[i] == i)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        group++;</span><br><span class="line">        <span class="keyword">int</span> j = i;</span><br><span class="line">        <span class="keyword">while</span> (!visit[j])</span><br><span class="line">        &#123;</span><br><span class="line">            visit[j] = <span class="literal">true</span>;</span><br><span class="line">            swap_time++;</span><br><span class="line">            j = num[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (num[<span class="number">0</span>] != <span class="number">0</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; swap_time + group - <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; swap_time + group;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">input</span><br><span class="line"><span class="number">10</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">2</span> <span class="number">6</span> <span class="number">4</span> <span class="number">9</span> <span class="number">0</span> <span class="number">8</span> <span class="number">1</span></span><br><span class="line">output</span><br><span class="line"><span class="number">9</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">input</span><br><span class="line"><span class="number">11</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">2</span> <span class="number">6</span> <span class="number">4</span> <span class="number">9</span> <span class="number">0</span> <span class="number">11</span> <span class="number">1</span> <span class="number">8</span></span><br><span class="line">output</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1065 A+B and C (64bit) (20)</title>
      <link href="//posts/a2774164/"/>
      <url>//posts/a2774164/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1065" target="_blank" rel="noopener">题目链接</a><br>64位的A+B和C，判断是否A+B&gt;C。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行给出测试样例的数量T。在随后的T行内，每行有3个数字A,B,C，由空格隔开。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>对于每个测试样例，如果A+B&gt;C，则在一行内输出</p><p>Case #X: true</p><p>否则输出</p><p>Case #X: false</p><p>其中X是测试样例的序号，从1开始。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>题目很简单，只需要判断是否上溢即可。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>我感觉这个题有点问题，题目想要表达的意思应该是 [-2^63, 2^63)，即不包括 2^63 的。<br>但是如果还是按照 [-2^63, 2^63]来做的话，我也没想出太好的办法，目前我的思路是大整数加法，用线性容器（数组，string，vrctor）去做。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>（按照[-2^63, 2^63)去做的），能通过PAT测试。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> T;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> A, B, C, D;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; T;</span><br><span class="line">    <span class="keyword">bool</span> res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; T; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; A &gt;&gt; B &gt;&gt; C;</span><br><span class="line">        D = A + B;</span><br><span class="line">        <span class="keyword">if</span> (A &gt; <span class="number">0</span> &amp;&amp; B &gt; <span class="number">0</span> &amp;&amp; D &lt; <span class="number">0</span>)</span><br><span class="line">            res = <span class="literal">true</span>;<span class="comment">//上溢一定大于</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (A &lt; <span class="number">0</span> &amp;&amp; B &lt; <span class="number">0</span> &amp;&amp; D&gt;=<span class="number">0</span>)</span><br><span class="line">            res = <span class="literal">false</span>;<span class="comment">//下溢一定小于</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            res = (D &gt; C);</span><br><span class="line">        <span class="keyword">if</span> (res)</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Case #"</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">": "</span> &lt;&lt; <span class="string">"true"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"Case #"</span> &lt;&lt; i + <span class="number">1</span> &lt;&lt; <span class="string">": "</span> &lt;&lt; <span class="string">"false"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>回头写一个字符串的。</p><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">9223372036854775807</span> <span class="number">-9223372036854775808</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">9223372036854775808</span> <span class="number">-9223372036854775808</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 判断溢出 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1066 Root of AVL Tree (25)</title>
      <link href="//posts/3b7e10de/"/>
      <url>//posts/3b7e10de/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1066" target="_blank" rel="noopener">题目链接</a><br>求一个AVL树的根。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是一个正整数N(&lt;=20)，表示要插入进AVL树的数字的个数（即AVL树的节点）。然后是N个互不相同的数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>生成的AVL树的根。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>模拟，因为对于同样的一组数，最后生成的AVL树是由插入的顺序决定的。所以这个题没有简便的思路，只能通过模拟插入，调整操作来最终构建一棵AVL树。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">tree</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line">    <span class="keyword">int</span> height;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tree</span> *<span class="title">left</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">tree</span> *<span class="title">right</span>;</span></span><br><span class="line">&#125;Tree;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">HTree</span><span class="params">(Tree* root)</span><span class="comment">//求树的高度</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> root-&gt;height;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree* <span class="title">SingleRotateWithLeft</span><span class="params">(Tree* r1)</span><span class="comment">//单左旋</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Tree* r2;</span><br><span class="line">    r2 = r1-&gt;left;</span><br><span class="line">    r1-&gt;left = r2-&gt;right;</span><br><span class="line">    r2-&gt;right = r1;</span><br><span class="line">    r1-&gt;height = max(HTree(r1-&gt;left), HTree(r1-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    r2-&gt;height = max(HTree(r2-&gt;left), r1-&gt;height) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> r2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree* <span class="title">SingleRotateWithRight</span><span class="params">(Tree* r1)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Tree* r2;</span><br><span class="line">    r2 = r1-&gt;right;</span><br><span class="line">    r1-&gt;right = r2-&gt;left;</span><br><span class="line">    r2-&gt;left = r1;</span><br><span class="line">    r1-&gt;height = max(HTree(r1-&gt;left), HTree(r1-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    r2-&gt;height = max(r1-&gt;height, HTree(r2-&gt;right)) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> r2;<span class="comment">//return the root</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Tree* <span class="title">DoubleRotateWithLeft</span><span class="params">(Tree* root)</span><span class="comment">//对左子树先做单右旋转，再对根做左旋转</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    root-&gt;left = SingleRotateWithRight(root-&gt;left);</span><br><span class="line">    <span class="keyword">return</span> SingleRotateWithLeft(root);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">Tree* <span class="title">DoubleRotateWithRight</span><span class="params">(Tree* root)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    root-&gt;right = SingleRotateWithLeft(root-&gt;right);</span><br><span class="line">    <span class="keyword">return</span> SingleRotateWithRight(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Tree* <span class="title">AVLInsert</span><span class="params">(Tree* root, <span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        root = (Tree*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">        root-&gt;val = num;</span><br><span class="line">        root-&gt;height = <span class="number">1</span>;</span><br><span class="line">        root-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        root-&gt;right = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (num &lt; root-&gt;val)<span class="comment">//插入到左子树</span></span><br><span class="line">    &#123;</span><br><span class="line">        root-&gt;left = AVLInsert(root-&gt;left, num);<span class="comment">//插入到左子树中</span></span><br><span class="line">        <span class="keyword">if</span> (HTree(root-&gt;left) - HTree(root-&gt;right) == <span class="number">2</span>)<span class="comment">//高度差为2表示需要调整</span></span><br><span class="line">            <span class="keyword">if</span> (num &lt; root-&gt;left-&gt;val)</span><br><span class="line">                root = SingleRotateWithLeft(root);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                root = DoubleRotateWithLeft(root);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; root-&gt;val)</span><br><span class="line">    &#123;</span><br><span class="line">        root-&gt;right = AVLInsert(root-&gt;right, num);</span><br><span class="line">        <span class="keyword">if</span> (HTree(root-&gt;right) - HTree(root-&gt;left) == <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> (num &gt; root-&gt;right-&gt;val)</span><br><span class="line">                root = SingleRotateWithRight(root);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                root = DoubleRotateWithRight(root);</span><br><span class="line">    &#125;</span><br><span class="line">    root-&gt;height = max(HTree(root-&gt;left), HTree(root-&gt;right))+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Tree* root = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; temp;</span><br><span class="line">        root = AVLInsert(root, temp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; root-&gt;val;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">88</span> <span class="number">70</span> <span class="number">61</span> <span class="number">96</span> <span class="number">120</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">88</span> <span class="number">70</span> <span class="number">61</span> <span class="number">96</span> <span class="number">120</span> <span class="number">90</span> <span class="number">65</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> AVL Tree </tag>
            
            <tag> 模拟 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1062 Talent and Virtue (25)</title>
      <link href="//posts/3c13d4c7/"/>
      <url>//posts/3c13d4c7/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1062" target="_blank" rel="noopener">题目链接</a><br>根据给定规则，对圣人，君子，愚人，小人进行排序。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试样例首先给出三个正整数，N，有多少人，L，及格线，只有才能分数和到的分数都不低于此数的人才参加排名。H，优秀线，达到此线的人即可认为该项达标，道德和才能都达到优秀线的人叫圣人，道德分数达标，但是才能分数不达标的叫君子，排在圣人之后，全都不达标，但是道德分数不低于才能分数的叫愚人，排在均值之后，剩下的人，两项分数均达到L及格线的人，排在愚人之后。在每一小项内，按照两项分数总和进行排序。</p><p>然后是N行，给出每个人的信息，以</p><p>ID_Number Virtue_Grade Talent_Grade</p><p>格式。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>首先给出参与排名的人数M，M&lt;=N，然后在接下来的M行内，仍然按照ID_Number Virtue_Grade Talent_Grade 格式，按照排名规则进行排名。如果总分相同，按照道德分数，非递增排序，即道德分数高的人在前面，如果道德分数还相同，则按ID好递增排序，即小号在前面。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>sort进行排序，自定义compare函数</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>对每个人添加一个标签，进行分类。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ID_Number;</span><br><span class="line">    <span class="keyword">int</span> Virtue_Grade;</span><br><span class="line">    <span class="keyword">int</span> Talent_Grade;</span><br><span class="line">    <span class="keyword">int</span> tag;<span class="comment">//0表示圣人，1表示君子，2表示愚人，3表示小人</span></span><br><span class="line">&#125;people;</span><br><span class="line"><span class="built_in">vector</span>&lt;people&gt; p;</span><br><span class="line"><span class="keyword">int</span> N, L, H;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(people a, people b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.tag != b.tag)</span><br><span class="line">        <span class="keyword">return</span> a.tag &lt; b.tag;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> ((a.Virtue_Grade + a.Talent_Grade) != (b.Virtue_Grade + b.Talent_Grade))</span><br><span class="line">        <span class="keyword">return</span> (a.Virtue_Grade + a.Talent_Grade) &gt; (b.Virtue_Grade + b.Talent_Grade);</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a.Virtue_Grade != b.Virtue_Grade)</span><br><span class="line">        <span class="keyword">return</span> a.Virtue_Grade &gt; b.Virtue_Grade;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.ID_Number &lt; b.ID_Number;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    people input;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; L &gt;&gt; H;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;input.ID_Number, &amp;input.Virtue_Grade, &amp;input.Talent_Grade);</span><br><span class="line">        <span class="comment">//cin &gt;&gt; input.ID_Number &gt;&gt; input.Virtue_Grade &gt;&gt; input.Talent_Grade;</span></span><br><span class="line">        <span class="keyword">if</span> (input.Talent_Grade &gt;= L&amp;&amp;input.Virtue_Grade &gt;= L)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (input.Talent_Grade &gt;= H&amp;&amp;input.Virtue_Grade &gt;= H)</span><br><span class="line">                input.tag = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (input.Virtue_Grade &gt;= H)</span><br><span class="line">                input.tag = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (input.Virtue_Grade &gt;= input.Talent_Grade)</span><br><span class="line">                input.tag = <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                input.tag = <span class="number">3</span>;</span><br><span class="line">            p.push_back(input);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(p.begin(), p.end(), cmp);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; p.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = p.begin(); i != p.end(); i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d %d\n"</span>, i-&gt;ID_Number, i-&gt;Virtue_Grade, i-&gt;Talent_Grade);</span><br><span class="line">        <span class="comment">//cout &lt;&lt; i-&gt;ID_Number &lt;&lt; ' ' &lt;&lt; i-&gt;Virtue_Grade &lt;&lt; ' ' &lt;&lt; i-&gt;Talent_Grade &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">14</span> <span class="number">60</span> <span class="number">80</span></span><br><span class="line"><span class="number">10000001</span> <span class="number">64</span> <span class="number">90</span></span><br><span class="line"><span class="number">10000002</span> <span class="number">90</span> <span class="number">60</span></span><br><span class="line"><span class="number">10000011</span> <span class="number">85</span> <span class="number">80</span></span><br><span class="line"><span class="number">10000003</span> <span class="number">85</span> <span class="number">80</span></span><br><span class="line"><span class="number">10000004</span> <span class="number">80</span> <span class="number">85</span></span><br><span class="line"><span class="number">10000005</span> <span class="number">82</span> <span class="number">77</span></span><br><span class="line"><span class="number">10000006</span> <span class="number">83</span> <span class="number">76</span></span><br><span class="line"><span class="number">10000007</span> <span class="number">90</span> <span class="number">78</span></span><br><span class="line"><span class="number">10000008</span> <span class="number">75</span> <span class="number">79</span></span><br><span class="line"><span class="number">10000009</span> <span class="number">59</span> <span class="number">90</span></span><br><span class="line"><span class="number">10000010</span> <span class="number">88</span> <span class="number">45</span></span><br><span class="line"><span class="number">10000012</span> <span class="number">80</span> <span class="number">100</span></span><br><span class="line"><span class="number">10000013</span> <span class="number">90</span> <span class="number">99</span></span><br><span class="line"><span class="number">10000014</span> <span class="number">66</span> <span class="number">60</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1061 Dating (20)</title>
      <link href="//posts/a51a857d/"/>
      <url>//posts/a51a857d/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1061" target="_blank" rel="noopener">题目链接</a><br>福尔摩斯破解字符串密码，得到约会时间。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>输入四行字符串。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出你破译过后，得到的约会的时间。<br>前两个字符串，第一个对应位置相同的大写字母  表示周几，如A表示MON（星期一），B表示THU（星期二），前两个字符串第二个相等的字母表示时间，0~9分别表示0~9点，A~N表示10~23点。</p><p>后两个字符串对应位置相同的字母，其位置表示时间，比如，第一个字母相等，在字符串中是0位，表示00分，第二个，表示01分。以此类推。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>这道题是要比较两个字符串对应位置的字符是否相等，直接用string进行比较即可。注意关键字符的范围。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>注意范围，比如第一个代表周几的字符，必须在[A,G]才有效。</p><p>第二个代表小时的字符，必须在[0，9]和[A，N]之间才有效。</p><p>第三个必须是字母，大小写不限，即在[a，z]和[A，Z]之间才有效。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> Week[<span class="number">7</span>] = &#123; <span class="string">"MON "</span>,<span class="string">"TUE "</span>,<span class="string">"WED "</span>,<span class="string">"THU "</span>,<span class="string">"FRI "</span>,<span class="string">"SAT "</span>,<span class="string">"SUN "</span> &#125;;</span><br><span class="line"><span class="built_in">string</span> str1, str2, str3, str4;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;str1.size() &amp;&amp; i&lt;str2.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (str1[i] == str2[i] &amp;&amp; flag == <span class="literal">false</span> &amp;&amp; str1[i] &lt;= <span class="string">'G'</span>&amp;&amp;str1[i] &gt;= <span class="string">'A'</span>)<span class="comment">//注意范围A~G</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; Week[str1[i] - <span class="string">'A'</span>];</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (str1[i] == str2[i] &amp;&amp; flag == <span class="literal">true</span> &amp;&amp; ((str1[i] &lt;= <span class="string">'N'</span>&amp;&amp;str1[i] &gt;= <span class="string">'A'</span>) || (str1[i] &lt;= <span class="string">'9'</span>&amp;&amp;str1[i] &gt;= <span class="string">'0'</span>)))<span class="comment">//注意范围A~N</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str1[i] &lt;= <span class="string">'9'</span>&amp;&amp;str1[i] &gt;= <span class="string">'0'</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%02d:"</span>, str1[i] - <span class="string">'0'</span>);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; <span class="number">10</span> + str1[i] - <span class="string">'A'</span> &lt;&lt; <span class="string">':'</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str3.size() &amp;&amp; i&lt;str4.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str3[i] == str4[i] &amp;&amp; ((str3[i] &lt;= <span class="string">'Z'</span>&amp;&amp;str3[i] &gt;= <span class="string">'A'</span>) || (str3[i] &lt;= <span class="string">'z'</span>&amp;&amp;str3[i] &gt;= <span class="string">'a'</span>)))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%02d"</span>, i);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2 &gt;&gt; str3 &gt;&gt; str4;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3485djDkxh4hhGE</span><br><span class="line">2984akDfkkkkggEdsb</span><br><span class="line">s&amp;hgsfdk</span><br><span class="line">d&amp;Hyscvnm</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3485djGkxh4hhG2</span><br><span class="line">2984akGfkkkkgg2dsb</span><br><span class="line">s&amp;hgsfdk</span><br><span class="line">d&amp;hyscvnm</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 字符串处理 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1059 Prime Factors (25)</title>
      <link href="//posts/80ec5e8c/"/>
      <url>//posts/80ec5e8c/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1059" target="_blank" rel="noopener">题目链接</a><br>分解质因数<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>一个正整数，范围在long int 之间</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>将其质因数分解后的式子，注意如果次数大于等于2，要采用上标的形式，比如2^2</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用map标记每个质因数的指数。</p><p>关键代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">while</span> (n%i == <span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    ++res[i];</span><br><span class="line">    n /= i;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (n != <span class="number">1</span>)res[n] = <span class="number">1</span>;</span><br></pre></td></tr></table></figure></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">int</span> num;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">long</span> <span class="keyword">int</span>, <span class="keyword">int</span>&gt;res;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Prime_factor</span><span class="params">(<span class="keyword">long</span> <span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i*i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (n%i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ++res[i];</span><br><span class="line">            n /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n != <span class="number">1</span>)res[n] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (num == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"1=1"</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Prime_factor(num);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="string">'='</span>;</span><br><span class="line">    <span class="keyword">auto</span> i = res.begin();</span><br><span class="line">    <span class="keyword">if</span> (i-&gt;second &gt;= <span class="number">2</span>)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i-&gt;first &lt;&lt; <span class="string">'^'</span> &lt;&lt; i-&gt;second;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i-&gt;first;</span><br><span class="line">    i++;</span><br><span class="line">    <span class="keyword">for</span> (; i != res.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i-&gt;second &gt;= <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt;<span class="string">'*'</span>&lt;&lt; i-&gt;first &lt;&lt; <span class="string">'^'</span> &lt;&lt; i-&gt;second;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">'*'</span> &lt;&lt; i-&gt;first;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; num;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">97532468</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 分解质因数 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1058 A+B in Hogwarts (20)</title>
      <link href="//posts/f7eb6e1a/"/>
      <url>//posts/f7eb6e1a/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1058" target="_blank" rel="noopener">题目链接</a><br>霍格沃兹的货币计算。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>两个数，格式是”Galleon.Sickle.Knut”。类似于圆角分。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>两个数相加后的结果，扔然按照”Galleon.Sickle.Knut”的格式输出。</p><p>29Kunt=1Sickle</p><p>17Sickle=1Galleon</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>进制转换</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> Sickle, Knut, Galleon;</span><br><span class="line">&#125;currency;</span><br><span class="line"></span><br><span class="line">currency a, b, sum;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sum.Knut=a.Knut+b.Knut;</span><br><span class="line">    sum.Sickle = sum.Knut / <span class="number">29</span>;</span><br><span class="line">    sum.Knut = sum.Knut % <span class="number">29</span>;</span><br><span class="line">    sum.Sickle = a.Sickle + b.Sickle + sum.Sickle;</span><br><span class="line">    sum.Galleon = sum.Sickle / <span class="number">17</span>;</span><br><span class="line">    sum.Sickle = sum.Sickle % <span class="number">17</span>;</span><br><span class="line">    sum.Galleon = sum.Galleon + a.Galleon + b.Galleon;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum.Galleon &lt;&lt; <span class="string">'.'</span> &lt;&lt; sum.Sickle &lt;&lt; <span class="string">'.'</span> &lt;&lt; sum.Knut;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d.%d.%d %d.%d.%d"</span>,&amp;a.Galleon,&amp;a.Sickle,&amp;a.Knut,&amp;b.Galleon,&amp;b.Sickle,&amp;b.Knut);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3.2</span><span class="number">.1</span> <span class="number">10.16</span><span class="number">.27</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 进制转换 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1054 The Dominant Color (20)</title>
      <link href="//posts/fe5d2231/"/>
      <url>//posts/fe5d2231/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1054" target="_blank" rel="noopener">题目链接</a></p><p>求一些数字中出现次数超过一半的数字.<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是两个数 M和N，接下来是N行，每一行有M个数字。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>求上述M*N个数字中，出现次数最多的数字。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>有两种方法：</p><ol><li>使用Map</li><li>实用排序</li></ol><h2 id="Map代码"><a href="#Map代码" class="headerlink" title="Map代码"></a>Map代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; color;</span><br><span class="line"><span class="keyword">int</span> M, N;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N;</span><br><span class="line">    <span class="keyword">int</span> input,half=M*N/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;input);</span><br><span class="line">            color[input]++;</span><br><span class="line">            <span class="keyword">if</span> (color[input]&gt;half)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%d"</span>, input);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="排序代码"><a href="#排序代码" class="headerlink" title="排序代码"></a>排序代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; color;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M &gt;&gt; N;</span><br><span class="line">    <span class="keyword">int</span> input;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;input);</span><br><span class="line">            color.push_back(input);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(color.begin(), color.end());</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; color[color.size() / <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">255</span> <span class="number">16777215</span> <span class="number">24</span></span><br><span class="line"><span class="number">24</span> <span class="number">24</span> <span class="number">0</span> <span class="number">0</span> <span class="number">24</span></span><br><span class="line"><span class="number">24</span> <span class="number">0</span> <span class="number">24</span> <span class="number">24</span> <span class="number">24</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> map映射 </tag>
            
            <tag> C++ STL </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1052 Linked List Sorting (25)</title>
      <link href="//posts/173e8704/"/>
      <url>//posts/173e8704/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1052" target="_blank" rel="noopener">题目链接</a></p><p>给定一个链表，要求按键值升序排序。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入只有一个测试样例。第一行是一个正整数N，表示节点的个数，一个头结点的地址。NULL用-1表示。</p><p>接下来是N行，每行格式为  </p><p>地址　键值　下一个节点地址</p><p>保证键值各不相同，范围在 [-100000, 100000]之间。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>格式上按输入的样式输出，以键值递增序列进行输出。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>自定义规则排序</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>有些节点并不在链表中</li><li>可能有多个链表</li><li>如果链表为空，需要输出 0　-1</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> addr;</span><br><span class="line">    <span class="keyword">int</span> next;</span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">bool</span> isLinked=<span class="literal">false</span>;</span><br><span class="line">&#125;Node;</span><br><span class="line"><span class="keyword">int</span> N, startaddr;</span><br><span class="line"><span class="built_in">vector</span>&lt;Node&gt;LinkList(<span class="number">100001</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Node a, Node b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!a.isLinked || !b.isLinked)<span class="comment">//两个全都在的话，判断结果为0，需要进行键值的比较</span></span><br><span class="line">        <span class="keyword">return</span> a.isLinked &gt; b.isLinked;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">        a.key &lt; b.key;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> NodeNumber = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = startaddr; i !=<span class="number">-1</span> ; i=LinkList[i].next)</span><br><span class="line">    &#123;</span><br><span class="line">        LinkList[i].isLinked = <span class="literal">true</span>;</span><br><span class="line">        NodeNumber++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (NodeNumber == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"0 -1"</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    sort(LinkList.begin(), LinkList.end(), cmp);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %05d\n"</span>, NodeNumber, LinkList[<span class="number">0</span>].addr);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NodeNumber<span class="number">-1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%05d %d %05d\n"</span>, LinkList[i].addr, LinkList[i].key, LinkList[i + <span class="number">1</span>].addr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%05d %d -1"</span>, LinkList[NodeNumber - <span class="number">1</span>].addr, LinkList[NodeNumber - <span class="number">1</span>].key);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; startaddr;</span><br><span class="line">    <span class="keyword">int</span> addr;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; addr;</span><br><span class="line">        LinkList[addr].addr = addr;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; LinkList[addr].key &gt;&gt; LinkList[addr].next;</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">00001</span></span><br><span class="line"><span class="number">11111</span> <span class="number">100</span> <span class="number">-1</span></span><br><span class="line"><span class="number">00001</span> <span class="number">0</span> <span class="number">22222</span></span><br><span class="line"><span class="number">33333</span> <span class="number">100000</span> <span class="number">11111</span></span><br><span class="line"><span class="number">12345</span> <span class="number">-1</span> <span class="number">33333</span></span><br><span class="line"><span class="number">22222</span> <span class="number">1000</span> <span class="number">12345</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1048 Find Coins (25)</title>
      <link href="//posts/eef05f5b/"/>
      <url>//posts/eef05f5b/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1048" target="_blank" rel="noopener">题目链接</a></p><p>找出两枚硬币，使其和等于给定的值。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试点只有一行输入，第一个是一个正数N（&lt;=100000），然后是N个数字，每个数字在[1,10000]之间</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出第一个只出现过一次的数，如果没有的话，输出None。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>有两个解法，一个是用哈希，或者使用查找。</p><h2 id="哈希代码"><a href="#哈希代码" class="headerlink" title="哈希代码"></a>哈希代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> coins[<span class="number">10010</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (coins[i]&amp;&amp;coins[M-i])       <span class="comment">//如果恰好有这两枚硬币</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i!=M-i)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (coins[i]&gt;=<span class="number">2</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i == M)</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"No Solution"</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">' '</span> &lt;&lt; M - i;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("2.txt", "r", stdin);</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; value;</span><br><span class="line">        coins[value]++;</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="查找代码"><a href="#查找代码" class="headerlink" title="查找代码"></a>查找代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; coins;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(coins.begin(), coins.end());</span><br><span class="line">    <span class="keyword">int</span> j = N - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i&lt;j; )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (coins[i] + coins[j] == M)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; coins[i] &lt;&lt; <span class="string">' '</span> &lt;&lt; coins[j];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (coins[i] + coins[j] &gt; M)</span><br><span class="line">            j--;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"No Solution"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    coins.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; coins[i];</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> Hash散列 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1041 Be Unique (20)</title>
      <link href="//posts/972ce7ff/"/>
      <url>//posts/972ce7ff/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1041" target="_blank" rel="noopener">题目链接</a></p><p>找出一列数字中，第一个只出现过一次的数。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试点只有一行输入，第一个是一个正数N（&lt;=100000），然后是N个数字，每个数字在[1,10000]之间</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出第一个只出现过一次的数，如果没有的话，输出None。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>使用哈希。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> input[<span class="number">100001</span>];</span><br><span class="line"><span class="keyword">int</span> countNumber[<span class="number">100001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        countNumber[input[i]]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (countNumber[input[i]] == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; input[i];</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"None"</span>;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"2.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; input[i];</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> Hash散列 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1040 Longest Symmetric String (25)</title>
      <link href="//posts/e02bd769/"/>
      <url>//posts/e02bd769/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1040" target="_blank" rel="noopener">题目链接</a></p><p>给定一个字符串，求其最长的对称子字符串的长度。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入只有一个测试样例，给出一个长度不超过1000的非空字符串。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出其最长的对称子字符串的长度。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>有两种算法，如下：</p><ol><li>动态规划去解。</li><li>以一个点为中心，求其左边和右边相等字符的长度，注意分奇数和偶数两种情况。</li></ol><h2 id="判断左右字符串是否相等的思路"><a href="#判断左右字符串是否相等的思路" class="headerlink" title="判断左右字符串是否相等的思路"></a>判断左右字符串是否相等的思路</h2><p>看代码即可，注意分奇数和偶数两种情况分别讨论。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len1, len2, length = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        len1 = len2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i-len1&gt;=<span class="number">0</span>&amp;&amp;i+len1&lt;str.length()&amp;&amp;str[i-len1]==str[i+len1])<span class="comment">//长度为奇数</span></span><br><span class="line">        &#123;</span><br><span class="line">            len1++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (i-len2&gt;=<span class="number">0</span>&amp;&amp;i+len2+<span class="number">1</span>&lt;str.length()&amp;&amp;str[i-len2]==str[i+len2+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            len2++;</span><br><span class="line">        &#125;</span><br><span class="line">        length = max(length,max(<span class="number">2</span> * len1 - <span class="number">1</span>, <span class="number">2</span> * len2));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    getline(<span class="built_in">cin</span>, str);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="动态规划的思路"><a href="#动态规划的思路" class="headerlink" title="动态规划的思路"></a>动态规划的思路</h2><p>dp[i][j]表示s[i]到s[j]所表示的字串是否是回文字串。只有0和1</p><p>递推方程：</p><ol><li>当str[i] == str[j] : dp[i][j] = dp[i+1][j-1]</li><li>当str[i] != str[j] : dp[i][j] =0</li><li>边界：dp[i][i] = 1, dp[i][i+1] = (str[i] == str[i+1]) ? 1 : 0</li></ol><p>首先初始化dp[i][i] = 1, dp[i][i+1]，把长度为1和2的都初始化好，然后开始不断递推即可。</p><h2 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="keyword">int</span> length = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">bool</span> dp[<span class="number">1010</span>][<span class="number">1010</span>];<span class="comment">//str[i]~str[j]是否对称，1是，0不是</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = str.size();</span><br><span class="line">    <span class="comment">//初始化</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (i&lt;n<span class="number">-1</span>&amp;&amp;str[i]==str[i+<span class="number">1</span>])</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][i + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">            length = <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[i]==str[j]&amp;&amp;dp[j+<span class="number">1</span>][i<span class="number">-1</span>]==<span class="literal">true</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[j][i] = <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (i - j + <span class="number">1</span> &gt; length)</span><br><span class="line">                    length = i - j + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    getline(<span class="built_in">cin</span>, str);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Is PAT&amp;TAP symmetric?</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">tgoqkicaklpnpvj cglvlv vbclejjjh mtpqtspfspgtw bjzsvfjmokqkdikbaqlel utlu wmeihwob wduecohzqmlpntvkkpoandwx ohyzkvhtvppfwrjsqwfkiqmke ouhuo ekmqikfwqsjrwfppvthxeihmbiqgacovhpafhrbvwdscizzwjqoqbdyjoqdknrbjyulioxjpcuc  ggpaknuqctldclgxvyqfkietobbszlhs</span><br><span class="line"></span><br><span class="line">应该输出</span><br><span class="line"><span class="number">45</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1037 Magic Coupon (25)</title>
      <link href="//posts/310ed40d/"/>
      <url>//posts/310ed40d/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1037" target="_blank" rel="noopener">题目链接</a></p><p>来自火星的魔法贴。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是优惠券的数量NC，第二行内有NC个整数。</p><p>第三行是产品的数量NP，第四行内有NP个整数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出能获得的最大金额。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>贪心算法，分4个部分，NC中正数和负数，NP中正数和负数。</p><p>正数与正数相乘，负数与负数相乘，最后结果求和。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> NC, NP;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>&gt;vPnega;<span class="comment">//P中的负数</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>&gt;vCnega;<span class="comment">//C中的负数</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>&gt;vPposi;<span class="comment">//P中的正数</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span>&gt;vCposi;<span class="comment">//C中的正数</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(vPposi.begin(), vPposi.end());</span><br><span class="line">    sort(vCposi.begin(), vCposi.end());</span><br><span class="line">    sort(vPnega.begin(), vPnega.end());</span><br><span class="line">    sort(vCnega.begin(), vCnega.end());</span><br><span class="line">    <span class="keyword">int</span> j = vCposi.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = vPposi.size()<span class="number">-1</span>; i &gt;=<span class="number">0</span>&amp;&amp;j&gt;=<span class="number">0</span>; i--,j--)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += vPposi[i] * vCposi[j];</span><br><span class="line">    &#125;</span><br><span class="line">    j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; vPnega.size() &amp;&amp; j &lt;vCnega.size(); i++, j++)</span><br><span class="line">    &#123;</span><br><span class="line">        sum += vPnega[i] * vCnega[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; NC;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> <span class="keyword">int</span> input;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NC; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; input;</span><br><span class="line">        <span class="keyword">if</span> (input &gt; <span class="number">0</span>)</span><br><span class="line">            vCposi.push_back(input);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (input &lt; <span class="number">0</span>)</span><br><span class="line">            vCnega.push_back(input);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; NP;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; NP; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; input;</span><br><span class="line">        <span class="keyword">if</span> (input &gt; <span class="number">0</span>)</span><br><span class="line">            vPposi.push_back(input);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (input &lt; <span class="number">0</span>)</span><br><span class="line">            vPnega.push_back(input);</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">4</span> <span class="number">-1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">7</span> <span class="number">6</span> <span class="number">-2</span> <span class="number">-3</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1036 Boys vs Girls (25)</title>
      <link href="//posts/4609e49b/"/>
      <url>//posts/4609e49b/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1036" target="_blank" rel="noopener">题目链接</a></p><p>求成绩最好的女生和成绩最差的男生之间的分数差。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个测试点包括一个输入样例，第一行是一个N，接着是N行学生的信息。</p><p>每行包括 学生姓名，性别（F/M），ID，成绩。</p><p>ID为不超过10个字符且没有空格的字符串。成绩在0~100之间，且保证互不相同。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>每个输出包括三行，第一行为成绩最高的女生(Female)的姓名和ID，第二行是成绩最低的男生（Male）的姓名和ID，第三行是 $grade_F$ - $gende_M$ 。</p><p>如果某种学生信息缺失，在对应行输出Absent，然后在第三行输出NA。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>用sort排序。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">    <span class="keyword">char</span> gender;</span><br><span class="line">    <span class="built_in">string</span> ID;</span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">&#125;Student;</span><br><span class="line"><span class="built_in">vector</span>&lt;Student&gt; male, female;</span><br><span class="line"><span class="keyword">int</span> N;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Student a, Student b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.gender == <span class="string">'M'</span>)</span><br><span class="line">        <span class="keyword">return</span> a.score &lt; b.score;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.score &gt; b.score;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(male.begin(),male.end(),cmp);</span><br><span class="line">    sort(female.begin(), female.end(), cmp);</span><br><span class="line">    <span class="keyword">if</span> (female.size())</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; female[<span class="number">0</span>].name &lt;&lt; <span class="string">' '</span> &lt;&lt; female[<span class="number">0</span>].ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Absent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span>(male.size())</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; male[<span class="number">0</span>].name &lt;&lt; <span class="string">' '</span> &lt;&lt; male[<span class="number">0</span>].ID &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Absent"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">if</span> (female.size() &amp;&amp; male.size())</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; female[<span class="number">0</span>].score - male[<span class="number">0</span>].score;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"NA"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("2.txt", "r", stdin);</span></span><br><span class="line">    Student input;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; input.name &gt;&gt; input.gender &gt;&gt; input.ID &gt;&gt; input.score;</span><br><span class="line">        <span class="keyword">if</span> (input.gender == <span class="string">'M'</span>)</span><br><span class="line">            male.push_back(input);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            female.push_back(input);</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line">Joe M Math990112 <span class="number">89</span></span><br><span class="line">Mike M CS991301 <span class="number">100</span></span><br><span class="line">Mary F EE990830 <span class="number">95</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">Jean M AA980920 <span class="number">60</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> 查找 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1033 To Fill or Not to Fill (25)</title>
      <link href="//posts/36631014/"/>
      <url>//posts/36631014/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1033" target="_blank" rel="noopener">题目链接</a></p><p>车在高速路上跑，由于油箱容量有限，需要判断什么时候加油，加多少。求最省钱的方式。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行有4个整数，分别是油箱的最大容量，距离，平均每单位汽油可以跑的里程数，加油站的数目N。</p><p>然后是N行，每一行包括一对非负数，第一个是汽油价格，第二个是距离出发点的距离。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>假设一开始的时候邮箱是空的。</p><p>输出最低花费金额，保留两位小数。如果不能达到目的地，则输出能跑的最远距离，保留两位小数。</p><h2 id="类似题目"><a href="#类似题目" class="headerlink" title="类似题目"></a>类似题目</h2><p><a href="http://poj.org/problem?id=2431" target="_blank" rel="noopener">POJ2431</a></p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>由于一开始没油，所以所有的加油站必须得有距离为0的，否则哪也去不了。</li><li>最后油箱不剩油。</li><li>寻找比当前加油站距离远且能够到达的加油站，判断这些加油站的油价，如果找到了更低的价格，就只加刚好到那个加油站的油。</li><li>如果找不到更低的，就找油价尽可能低的加油站，在当前加油站加满油之后跑过去。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>一般而言，为了方便，往往把终点也设置为加油站.</p><h2 id="Bug"><a href="#Bug" class="headerlink" title="Bug"></a>Bug</h2><p>PAT上面的测试数据不完善，因此会有一些有bug的代码能AC。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> Cmax, N;</span><br><span class="line"><span class="keyword">double</span> D, avg;</span><br><span class="line"><span class="keyword">int</span> sum, run;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">station</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">double</span> price;</span><br><span class="line">    <span class="keyword">double</span> distance;</span><br><span class="line">&#125;Station;</span><br><span class="line"><span class="built_in">vector</span>&lt;Station&gt; sta;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(Station a, Station b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.distance &lt; b.distance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(sta.begin(), sta.end(), cmp);  <span class="comment">//按从进到远进行排序</span></span><br><span class="line">    <span class="comment">//两种特殊情况</span></span><br><span class="line">    <span class="keyword">if</span> (sta[<span class="number">0</span>].distance != <span class="number">0</span>)                  </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"The maximum travel distance = 0.00"</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> location = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> arrive = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">double</span> cost = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">double</span> gas = <span class="number">0</span>;             <span class="comment">//表示初始有多少油</span></span><br><span class="line">    <span class="keyword">while</span> (!arrive)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> findcheap = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">double</span> cheapest = sta[location].price;</span><br><span class="line">        <span class="keyword">int</span> next=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">double</span> minprice = <span class="number">100000000</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = location+<span class="number">1</span>; i&lt;N&amp;&amp;sta[i].distance&lt;=sta[location].distance + Cmax*avg&amp;&amp;sta[i].distance&lt;=D; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (sta[i].price &lt; minprice)</span><br><span class="line">            &#123;</span><br><span class="line">                next = i;</span><br><span class="line">                minprice = sta[i].price;</span><br><span class="line">                <span class="keyword">if</span> (sta[i].price&lt;cheapest)</span><br><span class="line">                &#123;</span><br><span class="line">                    findcheap = <span class="literal">true</span>;</span><br><span class="line">                    next = i;   <span class="comment">//找到便宜的，跑到i这里</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (findcheap)</span><br><span class="line">        &#123;</span><br><span class="line">            cost += ((sta[next].distance - sta[location].distance) / avg-gas) * sta[location].price;</span><br><span class="line">            gas = <span class="number">0</span>;</span><br><span class="line">            location = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (next!=<span class="number">-1</span>|| sta[location].distance + Cmax*avg &gt;= D)<span class="comment">//至少能到一个站，不至于没油</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (sta[location].distance+Cmax*avg&gt;=D)<span class="comment">//够了</span></span><br><span class="line">            &#123;</span><br><span class="line">                arrive = <span class="literal">true</span>;</span><br><span class="line">                cost += (D - sta[location].distance) / avg*sta[location].price;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//不够</span></span><br><span class="line">            cost += (Cmax - gas) * sta[location].price;</span><br><span class="line">            gas = Cmax - (sta[next].distance - sta[location].distance) / avg;</span><br><span class="line">            location = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;          <span class="comment">//到不了</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (arrive)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; fixed &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; cost;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"The maximum travel distance = "</span> &lt;&lt; fixed &lt;&lt; setprecision(<span class="number">2</span>) &lt;&lt; sta[location].distance + Cmax*avg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("3.txt", "r", stdin);</span></span><br><span class="line">    <span class="comment">//Cmax表示油箱最大容量，D表示相距距离，avg表示平均每升油跑的距离，N表示加油站的数目</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; Cmax &gt;&gt; D &gt;&gt; avg &gt;&gt; N;</span><br><span class="line">    sta.resize(N);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; sta[i].price &gt;&gt; sta[i].distance;</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">30</span> <span class="number">2</span> <span class="number">3</span> <span class="number">10</span></span><br><span class="line"><span class="number">2145174067</span> <span class="number">0</span></span><br><span class="line"><span class="number">35</span> <span class="number">1</span></span><br><span class="line"><span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">58</span> <span class="number">1</span></span><br><span class="line"><span class="number">67</span> <span class="number">1</span></span><br><span class="line"><span class="number">56</span> <span class="number">1</span></span><br><span class="line"><span class="number">42</span> <span class="number">1</span></span><br><span class="line"><span class="number">73</span> <span class="number">1</span></span><br><span class="line"><span class="number">19</span> <span class="number">0</span></span><br><span class="line"><span class="number">37</span> <span class="number">0</span></span><br><span class="line">输出应该为</span><br><span class="line"><span class="number">1.33</span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">21</span> <span class="number">474</span> <span class="number">15</span> <span class="number">10</span></span><br><span class="line"><span class="number">1239036029</span> <span class="number">0</span></span><br><span class="line"><span class="number">37</span> <span class="number">27</span></span><br><span class="line"><span class="number">93</span> <span class="number">194</span></span><br><span class="line"><span class="number">28</span> <span class="number">27</span></span><br><span class="line"><span class="number">11</span> <span class="number">432</span></span><br><span class="line"><span class="number">29</span> <span class="number">182</span></span><br><span class="line"><span class="number">4</span> <span class="number">469</span></span><br><span class="line"><span class="number">63</span> <span class="number">401</span></span><br><span class="line"><span class="number">38</span> <span class="number">122</span></span><br><span class="line"><span class="number">40</span> <span class="number">136</span></span><br><span class="line">输出应该为</span><br><span class="line"><span class="number">2230265642.67</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 贪心 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1032 Sharing (25)</title>
      <link href="//posts/41642082/"/>
      <url>//posts/41642082/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1032" target="_blank" rel="noopener">题目链接</a></p><p>链表遍历，求最早的公共节点。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行三个整数，分别是第一个链表的开始节点，第二个链表的开始节点，节点的个数。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出两个链表的最早的公共节点，如果没有，输出-1.</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>遍历第一个链表时，为每一个节点设置访问位，如果在遍历第二个链表时，发现某一节点在第一次遍历中被访问过了，则输出该节点的编号，如果到最后都没有，则输出-1。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>每个节点中的字符无任何作用。</p><p>如果地址是00010，则也要输出5位，也得输出00010。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> node[<span class="number">100001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">bool</span> visit[<span class="number">100001</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> startPoint1, startPoint2, N;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = startPoint1; i != <span class="number">-1</span>; i=node[i])</span><br><span class="line">        visit[i] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = startPoint2; i != <span class="number">-1</span>; i=node[i])</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (visit[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%05d"</span>, i);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        visit[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"-1"</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("2.txt", "r", stdin);</span></span><br><span class="line">    <span class="keyword">char</span> ch;</span><br><span class="line">    <span class="keyword">int</span> addr, next;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; startPoint1 &gt;&gt; startPoint2 &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; addr &gt;&gt; ch &gt;&gt; next;</span><br><span class="line">        node[addr] = next;</span><br><span class="line">    &#125;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">00001</span> <span class="number">00002</span> <span class="number">4</span></span><br><span class="line"><span class="number">00001</span> a <span class="number">10001</span></span><br><span class="line"><span class="number">10001</span> s <span class="number">-1</span></span><br><span class="line"><span class="number">00002</span> a <span class="number">10002</span></span><br><span class="line"><span class="number">10002</span> t <span class="number">-1</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 链表 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1029 Median (25)</title>
      <link href="//posts/cfadc84b/"/>
      <url>//posts/cfadc84b/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805466364755968" target="_blank" rel="noopener">题目链接</a></p><p>给两个整数的上升序列，要求找到他们的中位数。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>每个输入只有一个测试样例，包括两行，每一行的第一个数是整数N，表示这一个队列的长度。随后是N个整数，保证每个整数都在long int 的范围内。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>输出给定的两行的中位数。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><ol><li>（内存会超）输入全部数据，用vector<long int="">存储，然后进行sort，随后输出中位数。</long></li><li>因为这两个数组是有序的，因此可先将数组A存下来，在不断读取数组B的时候，记录这个数是第几个数，当这个数是第(N+M+1)/2个数的时候，输出，并跳出循环。</li><li>若数组A查询完还没找到中位数，则继续不断读入并记录数组B（只记录是第几个数）。</li><li>若数组B输入并查询完还没找到中位数，则在A中搜寻。</li></ol><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol><li>cin/cout比scanf/printf耗时更长，我第一次用的cin/cout,测试点12超时。</li><li>不能将所有的数全都存下来，否则内存会超限。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">int</span> temp; <span class="keyword">int</span> num;</span><br><span class="line">    v.resize(N + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;temp);</span><br><span class="line">        num = min(temp, (<span class="keyword">long</span> <span class="keyword">int</span>)INT_MAX);</span><br><span class="line">        v[i] = num;</span><br><span class="line">    &#125;</span><br><span class="line">    v[N] = INT_MAX;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">    <span class="keyword">int</span> j = <span class="number">0</span>, cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;temp);</span><br><span class="line">        num = min(temp, (<span class="keyword">long</span> <span class="keyword">int</span>)INT_MAX);</span><br><span class="line">        <span class="keyword">while</span> (num &gt;= v[j] &amp;&amp; j &lt; N)</span><br><span class="line">        &#123;</span><br><span class="line">            j++;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span> (cnt == (M + N + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; v[j - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        cnt++;</span><br><span class="line">        <span class="keyword">if</span> (cnt == (M + N + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; temp;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (cnt&lt;(M + N + <span class="number">1</span>) / <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        j++;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v[j - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"4.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>原来的代码，内存会超限。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个内存会超限</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">int</span>&gt;v;</span><br><span class="line"><span class="keyword">int</span> N,M;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    sort(v.begin(), v.end());</span><br><span class="line">    <span class="keyword">int</span> i = (v.size() - <span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; v[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("1.txt", "r", stdin);</span></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    v.resize(N);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">int</span> temp;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>, &amp;temp);</span><br><span class="line">        v[i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">    v.resize(N + M);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = N; i &lt; M+N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%ld"</span>,&amp;temp);</span><br><span class="line">        v[i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br><span class="line"><span class="number">5</span> <span class="number">9</span> <span class="number">10</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> 中位数 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1028 List Sorting (25)</title>
      <link href="//posts/b8aaf8dd/"/>
      <url>//posts/b8aaf8dd/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1028" target="_blank" rel="noopener">题目链接</a></p><p>按给定要求进行排序。<br><a id="more"></a><br>类似题目：<a href="../c61b8460">PAT1025</a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一行是N和C，N是输入数据的条目数，C是排序规则。</p><p>C=1的时候，按学生注册号递增排序</p><p>C=2的时候，按学生姓名非递减排序。</p><p>C=3的时候，按学生成绩非递减排序。</p><p>在C=2/C=3的时候，如果两个姓名/成绩相同，则按照学号递增排序。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>ID 名字 成绩</p><p>每行一个学生。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>其实这个题很简单，就是排序，通过调用sort函数即可。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>cin/cout比scanf/printf耗时更长。如果用cin/cout，则最后一个测试点会超时。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="comment">//#pragma warning(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">int</span> ID;</span><br><span class="line">    <span class="keyword">char</span> name[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">&#125;Student;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;Student&gt; stu;</span><br><span class="line"><span class="keyword">int</span> n, c;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp1</span><span class="params">(Student a, Student b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a.ID&lt;b.ID;<span class="comment">//ID递增排序</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp2</span><span class="params">(Student a, Student b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = <span class="built_in">strcmp</span>(a.name, b.name);</span><br><span class="line">    <span class="keyword">if</span> (temp)</span><br><span class="line">        <span class="keyword">return</span> temp &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.ID&lt;b.ID;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp3</span><span class="params">(Student a, Student b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.score != b.score)</span><br><span class="line">        <span class="keyword">return</span> a.score &lt; b.score;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.ID&lt;b.ID;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; c;</span><br><span class="line">    stu.resize(n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %s %d"</span>, &amp;stu[i].ID, stu[i].name, &amp;stu[i].score);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">switch</span> (c)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        sort(stu.begin(),stu.end(), cmp1);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        sort(stu.begin(), stu.end(), cmp2);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        sort(stu.begin(), stu.end(), cmp3);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i = stu.begin(); i != stu.end(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%06d %s %d\n"</span>, i-&gt;ID, i-&gt;name, i-&gt;score);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    <span class="comment">//system("pause");</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span> <span class="number">2</span></span><br><span class="line"><span class="number">000007</span> James <span class="number">87</span></span><br><span class="line"><span class="number">000001</span> James <span class="number">81</span></span><br><span class="line"><span class="number">000002</span> James <span class="number">82</span></span><br><span class="line"><span class="number">000003</span> James <span class="number">83</span></span><br><span class="line"><span class="number">000004</span> James <span class="number">84</span></span><br><span class="line"><span class="number">000005</span> James <span class="number">85</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1025 PAT Ranking (25)</title>
      <link href="//posts/c61b8460/"/>
      <url>//posts/c61b8460/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1025" target="_blank" rel="noopener">题目链接</a></p><p>PAT考试在好几个地方同时进行，测试后就进行排名，要求你统计排名。<br><a id="more"></a></p><h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><p>第一个N是测试位置的数量，此后有N（&lt;=100）个列表，每个列表包括正整数K（&lt;=300）表示被测试者的数量，随后K行，每一行有一个13位的注册编号和得分。</p><h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><p>格式： 注册号，最终排名，考场号，在本考场的排名。考场编号从1~n进行编号。</p><p>要求：按最终排序的非降序列，具有相同成绩的人必须排名相同。如果成绩相同，则按照报名号从小到大排序。</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>排序，局部排序。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><p>32位C/C++中，int，long int，long long int的取值范围如下：</p><p>unsigned   int   0～4294967295   </p><p>int   2147483648～2147483647</p><p>unsigned long 0～4294967295</p><p>long   2147483648～2147483647</p><p>long long的最大值：9223372036854775807</p><p>long long的最小值：-9223372036854775808</p><p>unsigned long long的最大值：1844674407370955161</p><p>因此13位的报名号是可以用long long int 来进行保存的。其实<a href="https://www.liuchuo.net/archives/2180" target="_blank" rel="noopener">柳婼的博客</a>中也是用的long long int，但是在我这里，不知道为什么，我用long long int ，则测试点3，即最后一个，会报错，但是在牛客网上是能通过的。<br>用string则没有这个问题。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> <span class="meta-keyword">warning</span>(disable:4996)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="comment">//long long int num;//不知道哪里不对，如果用 long long int 则测试点3会答案错误，但是在牛客网上是全对的</span></span><br><span class="line">    <span class="built_in">string</span> num;</span><br><span class="line">    <span class="keyword">int</span> local_rank;</span><br><span class="line">    <span class="keyword">int</span> score;</span><br><span class="line">    <span class="keyword">int</span> final_rank;</span><br><span class="line">    <span class="keyword">int</span> location;</span><br><span class="line">&#125;Student;</span><br><span class="line"><span class="built_in">vector</span>&lt;Student&gt; stu;</span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">const</span> Student &amp;a, <span class="keyword">const</span> Student &amp;b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.score != b.score)</span><br><span class="line">        <span class="keyword">return</span> a.score &gt; b.score;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> a.num &lt; b.num;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//int input_num;</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; M;</span><br><span class="line">        <span class="keyword">int</span> length = stu.size();<span class="comment">//保存上一次的大小</span></span><br><span class="line">        <span class="keyword">int</span> new_length = length + M;</span><br><span class="line">        stu.resize(length + M);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = length; j &lt; new_length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; stu[j].num;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; stu[j].score;</span><br><span class="line">            stu[j].location = i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        sort(stu.begin() + length, stu.end(), cmp);</span><br><span class="line">        stu[length].local_rank = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = length + <span class="number">1</span>; j &lt; new_length; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (stu[j - <span class="number">1</span>].score == stu[j].score)</span><br><span class="line">                stu[j].local_rank = stu[j - <span class="number">1</span>].local_rank;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                stu[j].local_rank = j - length + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    sort(stu.begin(), stu.end(), cmp);</span><br><span class="line">    stu[<span class="number">0</span>].final_rank = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; stu.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (stu[i - <span class="number">1</span>].score == stu[i].score)</span><br><span class="line">            stu[i].final_rank = stu[i - <span class="number">1</span>].final_rank;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            stu[i].final_rank = i + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; stu.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; stu.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; stu[i].num &lt;&lt; <span class="string">' '</span> &lt;&lt; stu[i].final_rank &lt;&lt; <span class="string">' '</span> &lt;&lt; stu[i].location &lt;&lt; <span class="string">' '</span> &lt;&lt; stu[i].local_rank &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    freopen(<span class="string">"1.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    solution();</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">1234026808810</span> <span class="number">93</span></span><br><span class="line"><span class="number">1234604135729</span> <span class="number">97</span></span><br><span class="line"><span class="number">1234707202308</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234464735740</span> <span class="number">92</span></span><br><span class="line"><span class="number">1234096866161</span> <span class="number">93</span></span><br><span class="line"><span class="number">1234563439254</span> <span class="number">95</span></span><br><span class="line"><span class="number">1234665517583</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234587155559</span> <span class="number">93</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">1234158282819</span> <span class="number">98</span></span><br><span class="line"><span class="number">1234695464275</span> <span class="number">100</span></span><br><span class="line"><span class="number">1234216099242</span> <span class="number">92</span></span><br><span class="line"><span class="number">1234953874157</span> <span class="number">96</span></span><br><span class="line"><span class="number">1234833082961</span> <span class="number">94</span></span><br><span class="line"><span class="number">1234954741173</span> <span class="number">93</span></span><br><span class="line"><span class="number">1234698042486</span> <span class="number">97</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">1234359915502</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234462299800</span> <span class="number">92</span></span><br><span class="line"><span class="number">1234475059130</span> <span class="number">100</span></span><br><span class="line"><span class="number">1234373450093</span> <span class="number">91</span></span><br><span class="line"><span class="number">1234872093302</span> <span class="number">99</span></span><br><span class="line"><span class="number">1234421607748</span> <span class="number">100</span></span><br><span class="line"><span class="number">1234444203313</span> <span class="number">98</span></span><br><span class="line"><span class="number">1234441487675</span> <span class="number">90</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">1234825487256</span> <span class="number">99</span></span><br><span class="line"><span class="number">1234838520186</span> <span class="number">99</span></span><br><span class="line"><span class="number">1234625359404</span> <span class="number">99</span></span><br><span class="line"><span class="number">1234539728328</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234482393613</span> <span class="number">91</span></span><br><span class="line"><span class="number">1234656113051</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234493672093</span> <span class="number">93</span></span><br><span class="line"><span class="number">1234382973981</span> <span class="number">90</span></span><br><span class="line"><span class="number">1234477404316</span> <span class="number">92</span></span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>PAT-A-1024 Palindromic Number (25)</title>
      <link href="//posts/b11cb4f6/"/>
      <url>//posts/b11cb4f6/</url>
      <content type="html"><![CDATA[<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p><a href="https://www.patest.cn/contests/pat-a-practise/1024" target="_blank" rel="noopener">题目链接</a></p><p>求一个数对应的回文数。比如输入67　3。即要求是在3步之内找到回文数。<br><a id="more"></a></p><ol><li>67+76=143</li><li>143+341=484</li></ol><p>484是回文数，所以输出484　2</p><p>输入 69　3</p><ol><li>69+96=165</li><li>165+561=726</li><li>726+627=1353</li></ol><p>达到步数限制要求，但是还是不是回文数，所以输出1353　3</p><h1 id="解题"><a href="#解题" class="headerlink" title="解题"></a>解题</h1><h2 id="思路分析"><a href="#思路分析" class="headerlink" title="思路分析"></a>思路分析</h2><p>大数加法，我用的是string，用vector也可。</p><h2 id="判断回文数的方法"><a href="#判断回文数的方法" class="headerlink" title="判断回文数的方法"></a>判断回文数的方法</h2><p>设有string number 。若其逆置和其本身相等，则这个数是回文数。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断回文数的方法，逆置，看逆置前后是否相等</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> num;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getsum</span><span class="params">(<span class="built_in">string</span> str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> length = str.length();</span><br><span class="line">    <span class="keyword">int</span> carry = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        num[i] = num[i] + str[i] + carry - <span class="string">'0'</span>;</span><br><span class="line">        carry = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (num[i]&gt;<span class="string">'9'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            num[i] = num[i] - <span class="number">10</span>;</span><br><span class="line">            carry = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (carry)</span><br><span class="line">    &#123;</span><br><span class="line">        num += <span class="string">'1'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    reverse(num.begin(), num.end());</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solution</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">string</span> str;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; num &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        str = num;</span><br><span class="line">        reverse(str.begin(), str.end());<span class="comment">//str是num的逆置</span></span><br><span class="line">        <span class="keyword">if</span> (str==num)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span> &lt;&lt; i;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        getsum(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num &lt;&lt; <span class="built_in">endl</span> &lt;&lt; n;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    solution();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> PAT-A </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PAT </tag>
            
            <tag> 算法 </tag>
            
            <tag> 回文数 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>并查集</title>
      <link href="//posts/c517589e/"/>
      <url>//posts/c517589e/</url>
      <content type="html"><![CDATA[<h1 id="0X00概述"><a href="#0X00概述" class="headerlink" title="0X00概述"></a>0X00概述</h1><p>我个人觉得并查集更像是树的父母表示法。可以用于判断图是否连通。<br><a id="more"></a></p><h1 id="0x01代码"><a href="#0x01代码" class="headerlink" title="0x01代码"></a>0x01代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//并查集</span></span><br><span class="line"><span class="keyword">int</span> par[<span class="number">100</span>];</span><br><span class="line"><span class="keyword">int</span> deep[<span class="number">100</span>];</span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        par[i] = i;</span><br><span class="line">        deep[i] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查询树的根，并压缩，递归写法</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (par[x] == x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> par[x] = find(par[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//非递归实现</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j,k=x;</span><br><span class="line">    <span class="keyword">while</span> (x!=par[x])</span><br><span class="line">        x = par[x];</span><br><span class="line">    <span class="keyword">while</span> (k!=x)</span><br><span class="line">    &#123;</span><br><span class="line">        j = par[k];</span><br><span class="line">        par[k] = x;</span><br><span class="line">        k = j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//合并x和y所属的集合</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    x = find(x);</span><br><span class="line">    y = find(y);</span><br><span class="line">    <span class="keyword">if</span> (x == y)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span> (deep[x] &lt; deep[y])         <span class="comment">//如果y的树更高，则x合并过去</span></span><br><span class="line">    &#123;</span><br><span class="line">        par[x] = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>                                                     <span class="comment">//x&gt;=y</span></span><br><span class="line">    &#123;</span><br><span class="line">        par[y] = x;</span><br><span class="line">        <span class="keyword">if</span> (deep[x]==deep[y])           <span class="comment">//如果当前两个树等高，合并之后深度+1</span></span><br><span class="line">        &#123;</span><br><span class="line">            deep[x]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//判断x和y是否在同一个集合内</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">same</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> find(x) == find(y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 并查集 </tag>
            
            <tag> 数据结构 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>快排为什么那么快</title>
      <link href="//posts/ae807e52/"/>
      <url>//posts/ae807e52/</url>
      <content type="html"><![CDATA[<h1 id="总述"><a href="#总述" class="headerlink" title="总述"></a>总述</h1><p>　　有许多时间复杂度为O(nlog2n)的排序算法，但只有一个快排，理由如下：</p><p>　　这些算法的基本执行次数的多项式最高次项为X*nlog2n，X为系数，快速排序的X最小。他在同级别的算法中是最好的，因此叫快排。</p><h1 id="为什么X是最小的"><a href="#为什么X是最小的" class="headerlink" title="为什么X是最小的"></a>为什么X是最小的</h1><p>　　其实上面那句话，说了和没说没什么两样。本质在于，为什么X是最小的。<br><a id="more"></a></p><p>　　排序的本质可以这样来表述：一组未排序的N个数字，它们一共有N!种重排，其中只有一种排列是满足题意的（譬如从大到小排列）。换句话说，排序问题的可能性一共有N!种。任何基于比较的排序的基本操作单元都是“比较a和b”，这就相当于猜数字游戏里面的一个问句，显然这个问句的答案只能是“是”或“否”，一个只有两种输出的问题最多只能将可能性空间切成两半，根据上面的思路，最佳切法就是切成1/2和1/2。也就是说，我们希望在比较了a和b的大小关系之后，如果发现a&lt;b的话剩下的排列可能性就变成N!/2，如果发现a&gt;b也是剩下N!/2种可能性。由于假设每种排列的概率是均等的，所以这也就意味着支持a&lt;b的排列一共有N!/2个，支持a&gt;b的也是N!/2个，换言之，a&lt;b的概率等于a&gt;b的概率。</p><p>　　我们希望每次在比较a和b的时候，a&lt;b和a&gt;b的概率是均等的，这样我们就能保证无论如何都能将可能性缩小为原来的一半了，这就是最优下界。</p><p>　　一个直接的推论是，如果每次都像上面这样的完美比较，那么N个元素的N!种可能排列只需要log2(N!)就排查完了，而log2(N!)近似于Nlog2N。这正是快排的复杂度。</p><h1 id="为什么堆排比快排慢"><a href="#为什么堆排比快排慢" class="headerlink" title="为什么堆排比快排慢"></a>为什么堆排比快排慢</h1><p>回顾一下堆排的过程：</p><ol><li>建立最大堆。（堆顶的元素大于其两个儿子，两个儿子又分别大于它们各自下属的两个儿子… 以此类推）</li><li>将堆顶的元素和最后一个元素对调（相当于将堆顶元素（最大值）拿走，然后将堆底的那个元素补上它的空缺），然后让那最后一个元素从顶上往下滑到恰当的位置（重新使堆最大化）。</li><li>重复第2步。</li></ol><p>这里的关键问题就在于第2步，堆底的元素肯定很小，将它拿到堆顶和原本属于最大元素的两个子节点比较，它比它们大的可能性是微乎其微的。实际上它肯定小于其中的一个儿子。而大于另一个儿子的可能性非常小。于是，这一次比较的结果就是概率不均等的，根据前面的分析，概率不均等的比较是不明智的，因为它并不能保证在糟糕情况下也能将问题的可能性削减到原本的1/2。可以想像一种极端情况，如果a肯定小于b，那么比较a和b就会什么信息也得不到——原本剩下多少可能性还是剩下多少可能性。</p><p>在堆排里面有大量这种近乎无效的比较，因为被拿到堆顶的那个元素几乎肯定是很小的，而靠近堆顶的元素又几乎肯定是很大的，将一个很小的数和一个很大的数比较，结果几乎肯定是“小于”的，这就意味着问题的可能性只被排除掉了很小一部分。</p><p>这就是为什么堆排比较慢（堆排虽然和快排一样复杂度都是O(Nlog2N)但堆排复杂度的常系数更大）。</p><p>MacKay也提供了一个修改版的堆排：每次不是将堆底的元素拿到上面去，而是直接比较堆顶（最大）元素的两个儿子，即选出次大的元素。由于这两个儿子之间的大小关系是很不确定的，两者都很大，说不好哪个更大哪个更小，所以这次比较的两个结果就是概率均等的了。</p><h1 id="为什么快排其实也不是那么快"><a href="#为什么快排其实也不是那么快" class="headerlink" title="为什么快排其实也不是那么快"></a>为什么快排其实也不是那么快</h1><p>我们考虑快排的过程：随机选择一个元素做“轴元素”，将所有大于轴元素的移到左边，其余移到右边。根据这个过程，快排的第一次比较就是将一个元素和轴元素比较，这个时候显而易见的是，“大于”和“小于”的可能性各占一半。这是一次漂亮的比较。</p><p>然而，快排的第二次比较就不那么高明了：我们不妨令轴元素为pivot，第一次比较结果是a1&lt;pivot，那么可以证明第二次比较a2也小于pivot的可能性是2/3！这容易证明：如果a2&gt;pivot的话，那么a1，a2，pivot这三个元素之间的关系就完全确定了——a1&lt;pivot&lt;a2，剩下来的元素排列的可能性我们不妨记为P（不需要具体算出来）。而如果a2&lt;pivot呢？那么a1和a2的关系就仍然是不确定的，也就是说，这个分支里面含有两种情况：a1&lt;a2&lt;pivot，以及a2&lt;a1&lt;pivot。对于其中任一种情况，剩下的元素排列的可能性都是P，于是这个分支里面剩下的排列可能性就是2P。所以当a2&lt;pivot的时候，还剩下2/3的可能性需要排查。</p><p>再进一步，如果第二步比较果真发现a2&lt;pivot的话，第三步比较就更不妙了，模仿上面的推理，a3&lt;pivot的概率将会是3/4！</p><p>这就是快排也不那么快的原因，因为它也没有做到每次比较都能将剩下的可能性砍掉一半。</p><h1 id="基数排序为什么比较快"><a href="#基数排序为什么比较快" class="headerlink" title="基数排序为什么比较快"></a>基数排序为什么比较快</h1><p>传统的解释是：基排不是基于比较的，所以不具有后者的局限性。话是没错，但其实还可以将它和基于比较的排序做一个类比。</p><p>基排的过程也许是源于我们理顺一副牌的过程：如果你有N（N&lt;=13）张牌，乱序，如何理顺呢？我们假象桌上有十三个位置，然后我们将手里的牌一张一张放出去，如果是3，就放在位置3上，如果是J，就放在位置11上，放完了之后从位置1到位置13收集所有的牌（没有牌的位置上不收集任何牌）。</p><p>我们可以这样来理解基排高效的本质原因：假设前i张牌都已经放到了它们对应的位置上，第i+1张牌放出去的时候，实际上就相当于“一下子”就确立了它和前i张牌的大小关系，用O(1)的操作就将这张牌正确地插入到了前i张牌中的正确位置上，这个效果就相当于插入排序的第i轮原本需要比较O(i)次的，现在只需要O(1)了。</p><p>但是，为什么基排能够达到这个效果呢？上面只是解释了过程，解释了过程不代表解释了本质。</p><p>当i张牌放到位之后，放置第i+1张牌的时候有多少种可能性？大约i+1种，因为前i张牌将13个位置分割成了i+1个区间——第i+1张牌可以落在任意一个区间。所以放置第i+1张牌就好比是询问这样一个问题：“这张牌落在哪个区间呢？”而这个问题的答案有i+1种可能性？所以它就将剩下来的可能性均分成了i+1份（换句话说，砍掉了i/i+1的可能性！）。再看看基于比较的排序吧：由于每次比较只有两种结果，所以最多只能将剩下的可能性砍掉一半。</p><p>这就是为什么基排要快得多。而所有基于比较的排序都逃脱不了Nlog2N的宿命。</p><hr><h1 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h1><p><a href="http://blog.csdn.net/a236209186/article/details/52012823" target="_blank" rel="noopener">快排为什么那么快</a></p><p>2018版数据结构高分笔记，率辉 主编</p>]]></content>
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 算法 </tag>
            
            <tag> 排序 </tag>
            
            <tag> 快速排序 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
